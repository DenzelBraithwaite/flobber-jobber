(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function x(){}const Qn=t=>t;function Gn(t,e){for(const n in e)t[n]=e[n];return t}function Wr(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function fr(t){return t()}function Qi(){return Object.create(null)}function pt(t){t.forEach(fr)}function Kt(t){return typeof t=="function"}function ot(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let In;function Zi(t,e){return In||(In=document.createElement("a")),In.href=e,t===In.href}function Gr(t){return Object.keys(t).length===0}function ur(t,...e){if(t==null)return x;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Be(t,e,n){t.$$.on_destroy.push(ur(e,n))}function mn(t,e,n,i){if(t){const r=hr(t,e,n,i);return t[0](r)}}function hr(t,e,n,i){return t[1]&&i?Gn(n.ctx.slice(),t[1](i(e))):n.ctx}function _n(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(e.dirty.length,r.length);for(let l=0;l<o;l+=1)s[l]=e.dirty[l]|r[l];return s}return e.dirty|r}return e.dirty}function bn(t,e,n,i,r,s){if(r){const o=hr(e,n,i,s);t.p(o,r)}}function yn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function $i(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function tt(t,e,n){return t.set(n),e}function xi(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const dr=typeof window<"u";let wi=dr?()=>window.performance.now():()=>Date.now(),vi=dr?t=>requestAnimationFrame(t):x;const Wt=new Set;function pr(t){Wt.forEach(e=>{e.c(t)||(Wt.delete(e),e.f())}),Wt.size!==0&&vi(pr)}function ki(t){let e;return Wt.size===0&&vi(pr),{promise:new Promise(n=>{Wt.add(e={c:t,f:n})}),abort(){Wt.delete(e)}}}function u(t,e){t.appendChild(e)}function gr(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Kr(t){const e=_("style");return Yr(gr(t),e),e.sheet}function Yr(t,e){return u(t.head||t,e),e.sheet}function G(t,e,n){t.insertBefore(e,n||null)}function V(t){t.parentNode&&t.parentNode.removeChild(t)}function je(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function E(){return N(" ")}function Yt(){return N("")}function wn(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Xr(t){return Array.from(t.childNodes)}function Z(t,e){e=""+e,t.data!==e&&(t.data=e)}function mr(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}function es(t,e){return new t(e)}const Kn=new Map;let Yn=0;function Jr(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Qr(t,e){const n={stylesheet:Kr(e),rules:{}};return Kn.set(t,n),n}function Xn(t,e,n,i,r,s,o,l=0){const c=16.666/i;let d=`{
`;for(let A=0;A<=1;A+=c){const Y=e+(n-e)*s(A);d+=A*100+`%{${o(Y,1-Y)}}
`}const m=d+`100% {${o(n,1-n)}}
}`,y=`__svelte_${Jr(m)}_${l}`,w=gr(t),{stylesheet:O,rules:R}=Kn.get(w)||Qr(w,t);R[y]||(R[y]=!0,O.insertRule(`@keyframes ${y} ${m}`,O.cssRules.length));const I=t.style.animation||"";return t.style.animation=`${I?`${I}, `:""}${y} ${i}ms linear ${r}ms 1 both`,Yn+=1,y}function Jn(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=n.length-i.length;r&&(t.style.animation=i.join(", "),Yn-=r,Yn||Zr())}function Zr(){vi(()=>{Yn||(Kn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&V(e)}),Kn.clear())})}let pn;function lt(t){pn=t}function Xt(){if(!pn)throw new Error("Function called outside component initialization");return pn}function _r(t){Xt().$$.on_mount.push(t)}function $r(t){Xt().$$.on_destroy.push(t)}function xr(){const t=Xt();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=mr(e,n,{cancelable:i});return r.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function si(t,e){return Xt().$$.context.set(t,e),e}function fi(t){return Xt().$$.context.get(t)}function Un(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const Ft=[],ts=[];let Gt=[];const ns=[],eo=Promise.resolve();let ui=!1;function to(){ui||(ui=!0,eo.then(Ti))}function st(t){Gt.push(t)}const ri=new Set;let Ut=0;function Ti(){if(Ut!==0)return;const t=pn;do{try{for(;Ut<Ft.length;){const e=Ft[Ut];Ut++,lt(e),no(e.$$)}}catch(e){throw Ft.length=0,Ut=0,e}for(lt(null),Ft.length=0,Ut=0;ts.length;)ts.pop()();for(let e=0;e<Gt.length;e+=1){const n=Gt[e];ri.has(n)||(ri.add(n),n())}Gt.length=0}while(Ft.length);for(;ns.length;)ns.pop()();ui=!1,ri.clear(),lt(t)}function no(t){if(t.fragment!==null){t.update(),pt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}function io(t){const e=[],n=[];Gt.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Gt=e}let ln;function Ei(){return ln||(ln=Promise.resolve(),ln.then(()=>{ln=null})),ln}function At(t,e,n){t.dispatchEvent(mr(`${e?"intro":"outro"}${n}`))}const Vn=new Set;let nt;function Re(){nt={r:0,c:[],p:nt}}function Pe(){nt.r||pt(nt.c),nt=nt.p}function v(t,e){t&&t.i&&(Vn.delete(t),t.i(e))}function D(t,e,n,i){if(t&&t.o){if(Vn.has(t))return;Vn.add(t),nt.c.push(()=>{Vn.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Ci={duration:0};function Ai(t,e,n){const i={direction:"in"};let r=e(t,n,i),s=!1,o,l,c=0;function d(){o&&Jn(t,o)}function m(){const{delay:w=0,duration:O=300,easing:R=Qn,tick:I=x,css:A}=r||Ci;A&&(o=Xn(t,0,1,O,w,R,A,c++)),I(0,1);const Y=wi()+w,k=Y+O;l&&l.abort(),s=!0,st(()=>At(t,!0,"start")),l=ki(j=>{if(s){if(j>=k)return I(1,0),At(t,!0,"end"),d(),s=!1;if(j>=Y){const ne=R((j-Y)/O);I(ne,1-ne)}}return s})}let y=!1;return{start(){y||(y=!0,Jn(t),Kt(r)?(r=r(i),Ei().then(m)):m())},invalidate(){y=!1},end(){s&&(d(),s=!1)}}}function br(t,e,n){const i={direction:"out"};let r=e(t,n,i),s=!0,o;const l=nt;l.r+=1;function c(){const{delay:d=0,duration:m=300,easing:y=Qn,tick:w=x,css:O}=r||Ci;O&&(o=Xn(t,1,0,m,d,y,O));const R=wi()+d,I=R+m;st(()=>At(t,!1,"start")),ki(A=>{if(s){if(A>=I)return w(0,1),At(t,!1,"end"),--l.r||pt(l.c),!1;if(A>=R){const Y=y((A-R)/m);w(1-Y,Y)}}return s})}return Kt(r)?Ei().then(()=>{r=r(i),c()}):c(),{end(d){d&&r.tick&&r.tick(1,0),s&&(o&&Jn(t,o),s=!1)}}}function is(t,e,n,i){const r={direction:"both"};let s=e(t,n,r),o=i?0:1,l=null,c=null,d=null;function m(){d&&Jn(t,d)}function y(O,R){const I=O.b-o;return R*=Math.abs(I),{a:o,b:O.b,d:I,duration:R,start:O.start,end:O.start+R,group:O.group}}function w(O){const{delay:R=0,duration:I=300,easing:A=Qn,tick:Y=x,css:k}=s||Ci,j={start:wi()+R,b:O};O||(j.group=nt,nt.r+=1),l||c?c=j:(k&&(m(),d=Xn(t,o,O,I,R,A,k)),O&&Y(0,1),l=y(j,I),st(()=>At(t,O,"start")),ki(ne=>{if(c&&ne>c.start&&(l=y(c,I),c=null,At(t,l.b,"start"),k&&(m(),d=Xn(t,o,l.b,l.duration,0,A,s.css))),l){if(ne>=l.end)Y(o=l.b,1-o),At(t,l.b,"end"),c||(l.b?m():--l.group.r||pt(l.group.c)),l=null;else if(ne>=l.start){const oe=ne-l.start;o=l.a+l.d*A(oe/l.duration),Y(o,1-o)}}return!!(l||c)}))}return{run(O){Kt(s)?Ei().then(()=>{s=s(r),w(O)}):w(O)},end(){m(),l=c=null}}}function ss(t,e){const n=e.token={};function i(r,s,o,l){if(e.token!==n)return;e.resolved=l;let c=e.ctx;o!==void 0&&(c=c.slice(),c[o]=l);const d=r&&(e.current=r)(c);let m=!1;e.block&&(e.blocks?e.blocks.forEach((y,w)=>{w!==s&&y&&(Re(),D(y,1,1,()=>{e.blocks[w]===y&&(e.blocks[w]=null)}),Pe())}):e.block.d(1),d.c(),v(d,1),d.m(e.mount(),e.anchor),m=!0),e.block=d,e.blocks&&(e.blocks[s]=d),m&&Ti()}if(Wr(t)){const r=Xt();if(t.then(s=>{lt(r),i(e.then,1,e.value,s),lt(null)},s=>{if(lt(r),i(e.catch,2,e.error,s),lt(null),!e.hasCatch)throw s}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function so(t,e,n){const i=e.slice(),{resolved:r}=t;t.current===t.then&&(i[t.value]=r),t.current===t.catch&&(i[t.error]=r),t.block.p(i,n)}function ro(t,e){const n={},i={},r={$$scope:1};let s=t.length;for(;s--;){const o=t[s],l=e[s];if(l){for(const c in o)c in l||(i[c]=1);for(const c in l)r[c]||(n[c]=l[c],r[c]=1);t[s]=l}else for(const c in o)r[c]=1}for(const o in i)o in n||(n[o]=void 0);return n}function rs(t){return typeof t=="object"&&t!==null?t:{}}function ge(t){t&&t.c()}function fe(t,e,n,i){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),i||st(()=>{const o=t.$$.on_mount.map(fr).filter(Kt);t.$$.on_destroy?t.$$.on_destroy.push(...o):pt(o),t.$$.on_mount=[]}),s.forEach(st)}function ue(t,e){const n=t.$$;n.fragment!==null&&(io(n.after_update),pt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function oo(t,e){t.$$.dirty[0]===-1&&(Ft.push(t),to(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ct(t,e,n,i,r,s,o,l=[-1]){const c=pn;lt(t);const d=t.$$={fragment:null,ctx:[],props:s,update:x,not_equal:r,bound:Qi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Qi(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};o&&o(d.root);let m=!1;if(d.ctx=n?n(t,e.props||{},(y,w,...O)=>{const R=O.length?O[0]:w;return d.ctx&&r(d.ctx[y],d.ctx[y]=R)&&(!d.skip_bound&&d.bound[y]&&d.bound[y](R),m&&oo(t,y)),w}):[],d.update(),m=!0,pt(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const y=Xr(e.target);d.fragment&&d.fragment.l(y),y.forEach(V)}else d.fragment&&d.fragment.c();e.intro&&v(t.$$.fragment),fe(t,e.target,e.anchor,e.customElement),Ti()}lt(c)}class ft{$destroy(){ue(this,1),this.$destroy=x}$on(e,n){if(!Kt(n))return x;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Gr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const os={},hi={},ao={},yr=/^:(.+)/,as=4,lo=3,co=2,fo=1,uo=1,di=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),oi=t=>t.replace(/(^\/+|\/+$)/g,""),ho=(t,e)=>{const n=t.default?0:di(t.path).reduce((i,r)=>(i+=as,r===""?i+=uo:yr.test(r)?i+=co:r[0]==="*"?i-=as+fo:i+=lo,i),0);return{route:t,score:n,index:e}},po=t=>t.map(ho).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),ls=(t,e)=>{let n,i;const[r]=e.split("?"),s=di(r),o=s[0]==="",l=po(t);for(let c=0,d=l.length;c<d;c++){const m=l[c].route;let y=!1;if(m.default){i={route:m,params:{},uri:e};continue}const w=di(m.path),O={},R=Math.max(s.length,w.length);let I=0;for(;I<R;I++){const A=w[I],Y=s[I];if(A&&A[0]==="*"){const j=A==="*"?"*":A.slice(1);O[j]=s.slice(I).map(decodeURIComponent).join("/");break}if(typeof Y>"u"){y=!0;break}const k=yr.exec(A);if(k&&!o){const j=decodeURIComponent(Y);O[k[1]]=j}else if(A!==Y){y=!0;break}}if(!y){n={route:m,params:O,uri:"/"+s.slice(0,I).join("/")};break}}return n||i||null},cs=(t,e)=>`${oi(e==="/"?t:`${oi(t)}/${oi(e)}`)}/`,wr=()=>typeof window<"u"&&"document"in window&&"location"in window,go=t=>({params:t&4}),fs=t=>({params:t[2]});function us(t){let e,n,i,r;const s=[_o,mo],o=[];function l(c,d){return c[0]?0:1}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),i=Yt()},m(c,d){o[e].m(c,d),G(c,i,d),r=!0},p(c,d){let m=e;e=l(c),e===m?o[e].p(c,d):(Re(),D(o[m],1,1,()=>{o[m]=null}),Pe(),n=o[e],n?n.p(c,d):(n=o[e]=s[e](c),n.c()),v(n,1),n.m(i.parentNode,i))},i(c){r||(v(n),r=!0)},o(c){D(n),r=!1},d(c){o[e].d(c),c&&V(i)}}}function mo(t){let e;const n=t[8].default,i=mn(n,t,t[7],fs);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){i&&i.p&&(!e||s&132)&&bn(i,n,r,r[7],e?_n(n,r[7],s,go):yn(r[7]),fs)},i(r){e||(v(i,r),e=!0)},o(r){D(i,r),e=!1},d(r){i&&i.d(r)}}}function _o(t){let e,n,i,r={ctx:t,current:null,token:null,hasCatch:!1,pending:wo,then:yo,catch:bo,value:12,blocks:[,,,]};return ss(n=t[0],r),{c(){e=Yt(),r.block.c()},m(s,o){G(s,e,o),r.block.m(s,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,i=!0},p(s,o){t=s,r.ctx=t,o&1&&n!==(n=t[0])&&ss(n,r)||so(r,t,o)},i(s){i||(v(r.block),i=!0)},o(s){for(let o=0;o<3;o+=1){const l=r.blocks[o];D(l)}i=!1},d(s){s&&V(e),r.block.d(s),r.token=null,r=null}}}function bo(t){return{c:x,m:x,p:x,i:x,o:x,d:x}}function yo(t){var l;let e,n,i;const r=[t[2],t[3]];var s=((l=t[12])==null?void 0:l.default)||t[12];function o(c){let d={};for(let m=0;m<r.length;m+=1)d=Gn(d,r[m]);return{props:d}}return s&&(e=es(s,o())),{c(){e&&ge(e.$$.fragment),n=Yt()},m(c,d){e&&fe(e,c,d),G(c,n,d),i=!0},p(c,d){var y;const m=d&12?ro(r,[d&4&&rs(c[2]),d&8&&rs(c[3])]):{};if(d&1&&s!==(s=((y=c[12])==null?void 0:y.default)||c[12])){if(e){Re();const w=e;D(w.$$.fragment,1,0,()=>{ue(w,1)}),Pe()}s?(e=es(s,o()),ge(e.$$.fragment),v(e.$$.fragment,1),fe(e,n.parentNode,n)):e=null}else s&&e.$set(m)},i(c){i||(e&&v(e.$$.fragment,c),i=!0)},o(c){e&&D(e.$$.fragment,c),i=!1},d(c){c&&V(n),e&&ue(e,c)}}}function wo(t){return{c:x,m:x,p:x,i:x,o:x,d:x}}function vo(t){let e,n,i=t[1]&&t[1].route===t[5]&&us(t);return{c(){i&&i.c(),e=Yt()},m(r,s){i&&i.m(r,s),G(r,e,s),n=!0},p(r,[s]){r[1]&&r[1].route===r[5]?i?(i.p(r,s),s&2&&v(i,1)):(i=us(r),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(Re(),D(i,1,1,()=>{i=null}),Pe())},i(r){n||(v(i),n=!0)},o(r){D(i),n=!1},d(r){i&&i.d(r),r&&V(e)}}}function ko(t,e,n){let i,{$$slots:r={},$$scope:s}=e,{path:o=""}=e,{component:l=null}=e,c={},d={};const{registerRoute:m,unregisterRoute:y,activeRoute:w}=fi(hi);Be(t,w,R=>n(1,i=R));const O={path:o,default:o===""};return m(O),$r(()=>{y(O)}),t.$$set=R=>{n(11,e=Gn(Gn({},e),$i(R))),"path"in R&&n(6,o=R.path),"component"in R&&n(0,l=R.component),"$$scope"in R&&n(7,s=R.$$scope)},t.$$.update=()=>{if(i&&i.route===O){n(2,c=i.params);const{component:R,path:I,...A}=e;n(3,d=A),R&&(R.toString().startsWith("class ")?n(0,l=R):n(0,l=R())),wr()&&(window==null||window.scrollTo(0,0))}},e=$i(e),[l,i,c,d,w,O,o,s,r]}class hs extends ft{constructor(e){super(),ct(this,e,ko,vo,ot,{path:6,component:0})}}const Vt=[];function To(t,e){return{subscribe:Oe(t,e).subscribe}}function Oe(t,e=x){let n;const i=new Set;function r(l){if(ot(t,l)&&(t=l,n)){const c=!Vt.length;for(const d of i)d[1](),Vt.push(d,t);if(c){for(let d=0;d<Vt.length;d+=2)Vt[d][0](Vt[d+1]);Vt.length=0}}}function s(l){r(l(t))}function o(l,c=x){const d=[l,c];return i.add(d),i.size===1&&(n=e(r)||x),l(t),()=>{i.delete(d),i.size===0&&n&&(n(),n=null)}}return{set:r,update:s,subscribe:o}}function Eo(t,e,n){const i=!Array.isArray(t),r=i?[t]:t,s=e.length<2;return To(n,o=>{let l=!1;const c=[];let d=0,m=x;const y=()=>{if(d)return;m();const O=e(i?c[0]:c,o);s?o(O):m=Kt(O)?O:x},w=r.map((O,R)=>ur(O,I=>{c[R]=I,d&=~(1<<R),l&&y()},()=>{d|=1<<R}));return l=!0,y(),function(){pt(w),m(),l=!1}})}const ai=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Co=t=>{const e=[];let n=ai(t);return{get location(){return n},listen(i){e.push(i);const r=()=>{n=ai(t),i({location:n,action:"POP"})};return t.addEventListener("popstate",r),()=>{t.removeEventListener("popstate",r);const s=e.indexOf(i);e.splice(s,1)}},navigate(i,{state:r,replace:s=!1}={}){r={...r,key:Date.now()+""};try{s?t.history.replaceState(r,"",i):t.history.pushState(r,"",i)}catch{t.location[s?"replace":"assign"](i)}n=ai(t),e.forEach(o=>o({location:n,action:"PUSH"})),document.activeElement.blur()}}},Ao=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],i=[];return{get location(){return n[e]},addEventListener(r,s){},removeEventListener(r,s){},history:{get entries(){return n},get index(){return e},get state(){return i[e]},pushState(r,s,o){const[l,c=""]=o.split("?");e++,n.push({pathname:l,search:c}),i.push(r)},replaceState(r,s,o){const[l,c=""]=o.split("?");n[e]={pathname:l,search:c},i[e]=r}}}},Bo=Co(wr()?window:Ao()),Ro=t=>({route:t&2,location:t&1}),ds=t=>({route:t[1]&&t[1].uri,location:t[0]});function Po(t){let e;const n=t[12].default,i=mn(n,t,t[11],ds);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,[s]){i&&i.p&&(!e||s&2051)&&bn(i,n,r,r[11],e?_n(n,r[11],s,Ro):yn(r[11]),ds)},i(r){e||(v(i,r),e=!0)},o(r){D(i,r),e=!1},d(r){i&&i.d(r)}}}function Oo(t,e,n){let i,r,s,o,{$$slots:l={},$$scope:c}=e,{basepath:d="/"}=e,{url:m=null}=e,{history:y=Bo}=e;si(ao,y);const w=fi(os),O=fi(hi),R=Oe([]);Be(t,R,M=>n(9,r=M));const I=Oe(null);Be(t,I,M=>n(1,o=M));let A=!1;const Y=w||Oe(m?{pathname:m}:y.location);Be(t,Y,M=>n(0,i=M));const k=O?O.routerBase:Oe({path:d,uri:d});Be(t,k,M=>n(10,s=M));const j=Eo([k,I],([M,X])=>{if(!X)return M;const{path:te}=M,{route:H,uri:J}=X;return{path:H.default?te:H.path.replace(/\*.*$/,""),uri:J}}),ne=M=>{const{path:X}=s;let{path:te}=M;if(M._path=te,M.path=cs(X,te),typeof window>"u"){if(A)return;const H=ls([M],i.pathname);H&&(I.set(H),A=!0)}else R.update(H=>[...H,M])},oe=M=>{R.update(X=>X.filter(te=>te!==M))};return w||(_r(()=>y.listen(X=>{Y.set(X.location)})),si(os,Y)),si(hi,{activeRoute:I,base:k,routerBase:j,registerRoute:ne,unregisterRoute:oe}),t.$$set=M=>{"basepath"in M&&n(6,d=M.basepath),"url"in M&&n(7,m=M.url),"history"in M&&n(8,y=M.history),"$$scope"in M&&n(11,c=M.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:M}=s;R.update(X=>X.map(te=>Object.assign(te,{path:cs(M,te._path)})))}if(t.$$.dirty&513){const M=ls(r,i.pathname);I.set(M)}},[i,o,R,I,Y,k,d,m,y,r,s,c,l]}class Do extends ft{constructor(e){super(),ct(this,e,Oo,Po,ot,{basepath:6,url:7,history:8})}}function So(t){const e=t-1;return e*e*e+1}function gn(t,{delay:e=0,duration:n=400,easing:i=Qn}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:s=>`opacity: ${s*r}`}}function vr(t,{delay:e=0,duration:n=400,easing:i=So,x:r=0,y:s=0,opacity:o=0}={}){const l=getComputedStyle(t),c=+l.opacity,d=l.transform==="none"?"":l.transform,m=c*(1-o),[y,w]=xi(r),[O,R]=xi(s);return{delay:e,duration:n,easing:i,css:(I,A)=>`
			transform: ${d} translate(${(1-I)*y}${w}, ${(1-I)*O}${R});
			opacity: ${c-m*A}`}}const le=Oe({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],chargeDrawnTurns:[],infectDrawnTurns:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargePoints:0,infectPoints:0}),cn=Oe({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],chargeDrawnTurns:[],infectDrawnTurns:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargePoints:0,infectPoints:0}),ce=Oe({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargeDrawnTurns:[],infectDrawnTurns:[],chargePoints:0,infectPoints:0}),fn=Oe({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargeDrawnTurns:[],infectDrawnTurns:[],chargePoints:0,infectPoints:0}),un=Oe({emperor:{title:"emperor",displayTitle:"Emperor",points:10,amount:1,rarity:"legendary",traitTitle:"Unity Pact",trait:"Human points are doubled and all races in your hand except xenos will count towards your final score.",description:"The leader of the human race.",race:"human",image:"/humans/emperor.png"},commander:{title:"commander",displayTitle:"Commander",points:7,amount:2,rarity:"epic",traitTitle:"Rally",trait:"When the commander is in your hand, all humans you have will receive +1 point, including commanders. This effect also stacks with the emperor.",description:"Powerful soldier second only to the emperor.",race:"human",image:"/humans/commander.png"},assassin:{title:"assassin",displayTitle:"Assassin",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A highly skilled professional killer.",race:"human",image:"/humans/assassin.png"},knight:{title:"knight",displayTitle:"Knight",points:5,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A middle ranked soldier.",race:"human",image:"/humans/knight.png"},soldier:{title:"soldier",displayTitle:"Soldier",points:4,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A low ranked soldier.",race:"human",image:"/humans/soldier.png"},scout:{title:"scout",displayTitle:"Scout",points:3,amount:4,rarity:"common",traitTitle:"",trait:"",description:"The lowest ranked in the human army.",race:"human",image:"/humans/scout.png"},villager:{title:"villager",displayTitle:"Villager",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"An innocent villager.",race:"human",image:"/humans/villager.png"},villager2:{title:"villager2",displayTitle:"Villager",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"An innocent villager.",race:"human",image:"/humans/villager2.png"},goblinLord:{title:"goblinLord",displayTitle:"Goblin Lord",points:11,amount:1,rarity:"legendary",traitTitle:"Gobbledegook",trait:"If your hand contains only goblins, you receive an insane amount of bonus points, doesn't count goblin lord's mark. Beware, the elf king can block this trait, resulting in a draw.",description:"The leader of the goblins.",race:"goblin",image:"/goblins/goblin-lord.gif"},goblinLordsMark:{title:"goblinLordsMark",displayTitle:"Goblin Lord's Mark",points:0,amount:1,rarity:"epic",traitTitle:"Death's Mark",trait:"Draw the goblin lord next turn, only applies if this card is drawn. If no goblin lord, draw a goblin.",description:"A sign that the goblin lord is near.",race:"goblin-ish",image:"/goblins/goblin-lord_mark.png"},warchief:{title:"warchief",displayTitle:"Warchief",points:8,amount:1,rarity:"epic",traitTitle:"Chieftain's call",trait:"The next card drawn will be the goblin lord's mark, if it's still in the deck.",description:"Born in battle, this brutal war hungry goblin is second only to the goblin lord himself.",race:"goblin",image:"/goblins/warchief.png"},troll:{title:"troll",displayTitle:"Troll",points:7,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"Loyal high ranked soldier in the goblin army.",race:"goblin",image:"/goblins/troll.png"},shaman:{title:"shaman",displayTitle:"Shaman",points:6,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A magic wielding goblin.",race:"goblin",image:"/goblins/shaman.png"},thief:{title:"thief",displayTitle:"Thief",points:4,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A quick, elusive but weak goblin.",race:"goblin",image:"/goblins/thief.png"},hobgoblin:{title:"hobgoblin",displayTitle:"Hobgoblin",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A low ranked goblin.",race:"goblin",image:"/goblins/hobgoblin.png"},bokoblin:{title:"bokoblin",displayTitle:"Bokoblin",points:2,amount:3,rarity:"common",traitTitle:"",trait:"",description:"The weakest of goblins.",race:"goblin",image:"/goblins/bokoblin.png"},elfKing:{title:"elfKing",displayTitle:"Elf King",points:12,amount:1,rarity:"legendary",traitTitle:"Superior Race",trait:"If your hand contains only elves, they will have their points trippled, otherwise doubled! The elf king also prevents the enemy from using the goblin lord's special trait.",description:"The purest, most powerful and respected leader of the elves.",race:"elf",image:"/elves/elf_king.png"},elfChampion:{title:"elfChampion",displayTitle:"Elf Champion",points:10,amount:1,rarity:"epic",traitTitle:"Stand Guard",trait:"The elf champion is always the first elf drawn.",description:"Destined to be the next elf king, this elf champion lost an arm in battle and came back even more fierce.",race:"elf",image:"/elves/elf_champion.png"},darkElf:{title:"darkElf",displayTitle:"Dark Elf",points:7,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"High ranked powerful elf.",race:"elf",image:"/elves/dark_elf.png"},highElf:{title:"highElf",displayTitle:"High Elf",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"An elf in tune with nature, they're quite strong..",race:"elf",image:"/elves/high_elf.png"},nadallen:{title:"nadallen",displayTitle:"Nadallen",points:5,amount:1,rarity:"rare",traitTitle:"Twin Power",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",description:"The stronger half of the rare elvan twins.",race:"elf",image:"/elves/nadallen.png"},nelladan:{title:"nelladan",displayTitle:"Nelladan",points:2,amount:4,rarity:"uncommon",traitTitle:"Twin Power",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",description:"A rare elvan twin.",race:"elf",image:"/elves/nelladan.png"},woodElf:{title:"woodElf",displayTitle:"Wood Elf",points:4,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"An elf who aspires to be a forest dwelling elf.",race:"elf",image:"/elves/wood_elf.png"},forestDweller:{title:"forestDweller",displayTitle:"Wild Elf",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"An elf with no social status.",race:"elf",image:"/elves/forest_dweller.png"},bard:{title:"bard",displayTitle:"Bard",points:1,amount:3,rarity:"common",traitTitle:"",trait:"",description:"A weak musician.",race:"elf",image:"/elves/bard.png"},longbeardLeader:{title:"longbeardLeader",displayTitle:"Longbeard Leader",points:11,amount:1,rarity:"legendary",traitTitle:"Drunken revenge",trait:"If drawn, the next card will be a dwarf. Additionally, gain 5 points for every discarded dwarf.",description:"The bravest and most feared amongst the dwarves.",race:"dwarf",image:"/dwarves/longbeard-leader.gif"},dwarfCommander:{title:"dwarfCommander",displayTitle:"Dwarf Commander",points:8,amount:2,rarity:"epic",traitTitle:"Recruit",trait:"If drawn, the next card will be a dwarf. Has no effect if there are no remaining dwarves.",description:"Right hand man to the longbeard leader himself.",race:"dwarf",image:"/dwarves/dwarf-commander.png"},alchemist:{title:"alchemist",displayTitle:"Alchemist",points:7,amount:2,rarity:"amazing",traitTitle:"Another Round",trait:"50% chance to draw a dwarf next turn when discarded, does not stack.",description:"A dwarven warrior wielding science as magic.",race:"dwarf",image:"/dwarves/alchemist.png"},dwarfWarrior:{title:"dwarfWarrior",displayTitle:"Dwarf Warrior",points:6,amount:2,rarity:"amazing",traitTitle:"",trait:"",description:"A strong and reliable dwarven warrior.",race:"dwarf",image:"/dwarves/warrior.png"},hunter:{title:"hunter",displayTitle:"Hunter",points:5,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A strong and capable hunter.",race:"dwarf",image:"/dwarves/hunter.png"},traveller:{title:"traveller",displayTitle:"Traveller",points:4,amount:2,rarity:"uncommon",traitTitle:"",trait:"",description:"An adventurous but feeble dwarf.",race:"dwarf",image:"/dwarves/traveller.png"},miner:{title:"miner",displayTitle:"Miner",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"An average miner, not great in a fight.",race:"dwarf",image:"/dwarves/miner.png"},blacksmith:{title:"blacksmith",displayTitle:"Blacksmith",points:3,amount:2,rarity:"uncommon",traitTitle:"",trait:"",description:"A typical blacksmith, not very strong.",race:"dwarf",image:"/dwarves/blacksmith.png"},hobbit:{title:"hobbit",displayTitle:"Hobbit",points:2,amount:3,rarity:"uncommon",traitTitle:"Half and half.",trait:"Hobbit points count towards both dwarves and humans.",description:"Half dwarf, half human. Although rare and different, they're generally accepted by all dwarves.",race:"dwarf",image:"/dwarves/hobbit.png"},bartender:{title:"bartender",displayTitle:"Bartender",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"A popular dwarf at the local pub, a serious drinker even amongst dwarves..",race:"dwarf",image:"/dwarves/bartender.png"},ai:{title:"ai",displayTitle:"A.I.",points:11,amount:1,rarity:"legendary",traitTitle:"Binary Manipulator",trait:"ALL bots will receive +2 points, effectively quarantining viruses. Additionally, A.I. will hack all bots and steal their points.",description:"The core of the modern bot society, excels in probability computation and hacking.",race:"bot",image:"/bots/ai.png"},protectron:{title:"protectron",displayTitle:"Protectron",points:9,amount:2,rarity:"epic",traitTitle:"Antivirus",trait:"Reprograms viruses into helpful programs, setting their point value to 6. Protectron will also receive +1 point for every reprogrammed virus.",description:"The most advanced battle bot and previous leader of the bots until A.I. took over, now second in command.",race:"bot",image:"/bots/protectron.png"},sawBot:{title:"sawBot",displayTitle:"Sawbot-3000",points:7,amount:4,rarity:"rare",traitTitle:"",trait:"",description:"A bot designed to kill humans and trees, but mostly humans, beware.",race:"bot",image:"/bots/saw-bot.png"},faeBot:{title:"faeBot",displayTitle:"Fae Bot",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A bot created as a gift to the elves as a peace treaty.",race:"bot",image:"/bots/fae-bot.png"},killBot:{title:"killBot",displayTitle:"Kill Bot",points:5,amount:4,rarity:"rare",traitTitle:"",trait:"",description:"An aggressive bot, known to attack on sight.",race:"bot",image:"/bots/kill-bot.png"},incuBot:{title:"incuBot",displayTitle:"Incu Bot",points:2,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A weak incubator bot used to repair small bots.",race:"bot",image:"/bots/incu-bot.png"},virus:{title:"virus",displayTitle:"Virus",points:-2,amount:6,rarity:"common",traitTitle:"",trait:"",description:"A common computer virus, can be reprogrammed by protectron or quarantined A.I.",race:"bot",image:"/bots/virus.png"},dreamDestroyer:{title:"dreamDestroyer",displayTitle:"Dream Destroyer",points:12,amount:1,rarity:"legendary",traitTitle:"🤬Roid Rage🤬",trait:"All of your beasts are worth 12 points.",description:"The fiercest creature in the animal kingdom.",race:"beast",image:"/beasts/dream-destroyer.gif"},rhino:{title:"rhino",displayTitle:"Rhinestone",points:10,amount:3,rarity:"amazing",traitTitle:"Thick skin",trait:"Blocks all endgame trap cards.",description:"A feared beast at the top of the food chain.",race:"beast",image:"/beasts/rhino.png"},bear:{title:"bear",displayTitle:"Theo Thunderpaw",points:9,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A powerful top level beast, matched by few.",race:"beast",image:"/beasts/bear.png"},lion:{title:"lion",displayTitle:"Goldenmane",points:8,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"The original kings of the jungle.",race:"beast",image:"/beasts/lion.png"},panther:{title:"panther",displayTitle:"Panth Nocturna",points:7,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A quick and efficient beast, known to stalk it's prey before pouncing.",race:"beast",image:"/beasts/panther.png"},wolf:{title:"wolf",displayTitle:"Alpha Wolfbane",points:6,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A lone wolf with the strength of a pack.",race:"beast",image:"/beasts/wolf.png"},fox:{title:"fox",displayTitle:"Finn Foxglove",points:5,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A fox on steroids.",race:"beast",image:"/beasts/fox.png"},dog:{title:"dog",displayTitle:"Pawl Barkington",points:4,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"More bark than bite, recognized as the weakest beast.",race:"beast",image:"/beasts/dog.png"},xenoGuard:{title:"xenoGuard",displayTitle:"Xeno Guard",points:15,amount:3,rarity:"epic",traitTitle:"Antibodies",trait:"Blocks all ALLY end game boost cards.",description:"The xenoGuard is a highly intelligent and powerful creature, feared by many. It is the most feared creature in the xeno hive, tasked with the safety of the xeno overlord.",race:"xeno",image:"/xenos/xeno_guard.png"},abyssolarian:{title:"abyssolarian",displayTitle:"Abyssolarian",points:10,amount:3,rarity:"epic",traitTitle:"",trait:"",description:"A feral xeno born in the darkest depths of Xenopp. Produces light to lure prey.",race:"xeno",image:"/xenos/abyssolarian.png"},warpstalker:{title:"warpstalker",displayTitle:"Warpstalker",points:0,amount:3,rarity:"epic",traitTitle:"Hive Resonance",trait:"When drawn, a random point value (7-13 inclusive) will be chosen, then applied to ALL ally warpstalkers.",description:"A xeno capable of riftwalking, similar to teleporting over short distances. Sometimes riftwalks to the wrong place.",race:"xeno",image:"/xenos/xeno_placeholder.png"},voidRunner:{title:"voidRunner",displayTitle:"Void Runner",points:0,amount:3,rarity:"epic",traitTitle:"Hive Unity",trait:"When drawn, ALL ally void Runners' points are set to the number of turns passed.",description:"A non sentient xeno who's only purpose is to run and grow stronger. If it ever stops it will die.",race:"xeno",image:"/xenos/xeno_placeholder.png"},nebulite:{title:"nebulite",displayTitle:"Nebulite",points:0,amount:3,rarity:"epic",traitTitle:"Hive Blossom",trait:"Buffs all xenos by +4, does not apply to self and does not stack with other Nebulites.",description:"Artificially created xenos incapable of speech.",race:"xeno",image:"/xenos/xeno_placeholder.png"},celenial:{title:"celenial",displayTitle:"Celenial",points:5,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"The lowest of the xenos, often mistreated. Excluding the nebulites, celenials are the weakest of the xenos, often used as bait for the abyssolarians.",race:"xeno",image:"/xenos/xeno_placeholder.png"},chastity:{title:"chastity",displayTitle:"Chastity",points:0,amount:1,rarity:"",traitTitle:"Purity",trait:"Active immediately even if discarded. Blocks all trap cards except Corruption, only one exists in deck. If acquired by switcharoo, only active while in hand.",description:"",race:"boost",image:"/boosts/rainbow_boost.png"},rejuvenate:{title:"rejuvenate",displayTitle:"Rejuvenate",points:0,amount:2,rarity:"",traitTitle:"Rejuvenation",trait:"If drawn, player gains 10 points at the end of the game even after this card is discarded",description:"",race:"boost",image:"/boosts/blue_boost.png"},dwarvenCall:{title:"dwarvenCall",displayTitle:"Dwarven Call",points:0,amount:2,rarity:"",traitTitle:"Last Call",trait:"If drawn, next card drawn is a dwarf. If no dwarves are left, draw random card.",description:"",race:"boost",image:"/boosts/ale.png"},charge:{title:"charge",displayTitle:"Charge",points:0,amount:2,rarity:"",traitTitle:"Recharge",trait:"Only affects bots and humans. If drawn, at the end of the game, gain points equal to (amount of turns - turns passed since drawn * charge cards) even if discarded.",description:"",race:"boost",image:"/boosts/charge.png"},corruption:{title:"corruption",displayTitle:"Corruption",points:0,amount:1,rarity:"",traitTitle:"Impurity",trait:"Active immediately even if discarded. Blocks all boost cards except Chastity, only one exists in deck. If acquired by switcharoo, only active while in hand.",description:"",race:"trap",image:"/boosts/rainbow_boost.png"},sap:{title:"sap",displayTitle:"Sap",points:0,amount:2,rarity:"",traitTitle:"Sapped",trait:"If drawn, player loses 10 points at the end of the game even after this card is discarded.",description:"",race:"trap",image:"/traps/red_trap.png"},xenophobia:{title:"xenophobia",displayTitle:"Xenophobia",points:0,amount:1,rarity:"",traitTitle:"Dissociate",trait:"If drawn, xenos lose 10 points at the end of the game even after this card is discarded.",description:"",race:"trap",image:"/traps/xeno_trap.png"},infect:{title:"infect",displayTitle:"Infect",points:0,amount:2,rarity:"",traitTitle:"Infection",trait:"Does not affect bots. If drawn, at the end of the game, lose points equal to (amount of turns - turns passed since drawn * infect cards) even if discarded.",description:"",race:"trap",image:"/traps/green_trap.png"},lost:{title:"lost",displayTitle:"Lost",points:0,amount:2,rarity:"",traitTitle:"Lost",trait:"If drawn, lose a turn because this card is useless.",description:"",race:"trap",image:"/traps/white_trap.png"},exposed:{title:"exposed",displayTitle:"Exposed",points:0,amount:1,rarity:"",traitTitle:"Expose",trait:"If drawn, your hand is exposed until your next turn, unless you have a card that blocks traps.",description:"",race:"trap",image:"/traps/camo_trap.png"},neutralize:{title:"neutralize",displayTitle:"Neutralize",points:0,amount:1,rarity:"",traitTitle:"Neutralize",trait:"When drawn, all boosts and traps in effect are neutralized. Only 1 in deck.",description:"",race:"neutral",image:"/neutrals/neutralize.png"},switcharoo:{title:"switcharoo",displayTitle:"Switcharoo",points:0,amount:2,rarity:"",traitTitle:"Swap Swap",trait:"When discarded, players will swap hands unless player has over 6 cards or gobbledegook declared. For special xeno cards(e.g. Void Runner) they will receive the new player's point value for that card, not the previous value.",description:"",race:"neutral",image:"/neutrals/switcharoo.png"},echo:{title:"echo",displayTitle:"Echo",points:0,amount:3,rarity:"",traitTitle:"Echo Echo",trait:"If drawn, player can draw another card, maximum 7. Discarding echos prolongs this, when you discard a non echo card, you will need to continue discarding down to 5 cards.",description:"",race:"neutral",image:"/neutrals/echo.png"},ticktock:{title:"ticktock",displayTitle:"Ticktock",points:0,amount:2,rarity:"",traitTitle:"Chrono Charge",trait:"If drawn, adds 3 turns.",description:"",race:"neutral",image:"/neutrals/ticktock.png"},vision:{title:"vision",displayTitle:"Vision",points:0,amount:3,rarity:"",traitTitle:"Envision",trait:"If drawn, see the opponents cards for the duration of your turn.",description:"",race:"neutral",image:"/neutrals/vision.png"},xenoBloom:{title:"xenoBloom",displayTitle:"Xeno Bloom",points:0,amount:1,rarity:"",traitTitle:"Bloom",trait:"If drawn, both players receive +15 bonus xeno points at the end of the game.",description:"",race:"neutral",image:"/neutrals/xeno_bloom.png"}}),Lo=Oe(["dreamDestroyer","rhino","rhino","rhino","bear","bear","bear","lion","lion","lion","panther","panther","panther","wolf","wolf","wolf","fox","fox","fox","dog","dog","dog"]),No=Oe(["ai","protectron","protectron","faeBot","faeBot","faeBot","sawBot","sawBot","sawBot","sawBot","killBot","killBot","killBot","killBot","incuBot","incuBot","incuBot","incuBot","virus","virus","virus","virus","virus","virus"]),Io=Oe(["longbeardLeader","dwarfCommander","dwarfCommander","alchemist","alchemist","dwarfWarrior","dwarfWarrior","hunter","hunter","hunter","miner","miner","miner","blacksmith","blacksmith","traveller","traveller","bartender","bartender","hobbit","hobbit","hobbit"]),Mo=Oe(["elfKing","elfChampion","darkElf","darkElf","highElf","highElf","highElf","nadallen","nelladan","nelladan","nelladan","nelladan","woodElf","woodElf","woodElf","forestDweller","forestDweller","forestDweller","bard","bard","bard"]),qo=Oe(["goblinLord","warchief","troll","troll","troll","shaman","shaman","shaman","thief","thief","thief","hobgoblin","hobgoblin","hobgoblin","bokoblin","bokoblin","bokoblin","goblinLordsMark"]),jo=Oe(["emperor","commander","commander","assassin","assassin","assassin","knight","knight","knight","knight","soldier","soldier","soldier","soldier","scout","scout","scout","scout","villager","villager","villager2","villager2"]),Ho=Oe(["xenoGuard","xenoGuard","xenoGuard","abyssolarian","abyssolarian","abyssolarian","warpstalker","warpstalker","warpstalker","voidRunner","voidRunner","voidRunner","celenial","celenial","celenial","nebulite","nebulite","nebulite"]),Uo=Oe(["chastity","rejuvenate","rejuvenate","charge","charge","dwarvenCall","dwarvenCall"]),Vo=Oe(["corruption","sap","sap","infect","infect","lost","lost","xenophobia","exposed","exposed"]),Fo=Oe(["neutralize","echo","echo","echo","switcharoo","switcharoo","ticktock","ticktock","ticktock","vision","vision","xenoBloom"]);function zo(t){let e,n,i,r,s;const o=t[5].default,l=mn(o,t,t[4],null);return{c(){e=_("button"),l&&l.c(),b(e,"class",n=t[0]+" "+t[1]+" svelte-1q8ybnr")},m(c,d){G(c,e,d),l&&l.m(e,null),i=!0,r||(s=wn(e,"click",t[8]),r=!0)},p(c,d){l&&l.p&&(!i||d&16)&&bn(l,o,c,c[4],i?_n(o,c[4],d,null):yn(c[4]),null),(!i||d&3&&n!==(n=c[0]+" "+c[1]+" svelte-1q8ybnr"))&&b(e,"class",n)},i(c){i||(v(l,c),i=!0)},o(c){D(l,c),i=!1},d(c){c&&V(e),l&&l.d(c),r=!1,s()}}}function Wo(t){let e,n,i,r,s;const o=t[5].default,l=mn(o,t,t[4],null);return{c(){e=_("button"),l&&l.c(),b(e,"class",n="round "+t[0]+" svelte-1q8ybnr")},m(c,d){G(c,e,d),l&&l.m(e,null),i=!0,r||(s=wn(e,"click",t[7]),r=!0)},p(c,d){l&&l.p&&(!i||d&16)&&bn(l,o,c,c[4],i?_n(o,c[4],d,null):yn(c[4]),null),(!i||d&1&&n!==(n="round "+c[0]+" svelte-1q8ybnr"))&&b(e,"class",n)},i(c){i||(v(l,c),i=!0)},o(c){D(l,c),i=!1},d(c){c&&V(e),l&&l.d(c),r=!1,s()}}}function Go(t){let e,n,i,r,s;const o=t[5].default,l=mn(o,t,t[4],null);return{c(){e=_("button"),l&&l.c(),b(e,"type","submit"),b(e,"class",n=t[0]+" "+t[1]+" svelte-1q8ybnr")},m(c,d){G(c,e,d),l&&l.m(e,null),i=!0,r||(s=wn(e,"click",t[6]),r=!0)},p(c,d){l&&l.p&&(!i||d&16)&&bn(l,o,c,c[4],i?_n(o,c[4],d,null):yn(c[4]),null),(!i||d&3&&n!==(n=c[0]+" "+c[1]+" svelte-1q8ybnr"))&&b(e,"class",n)},i(c){i||(v(l,c),i=!0)},o(c){D(l,c),i=!1},d(c){c&&V(e),l&&l.d(c),r=!1,s()}}}function Ko(t){let e,n,i,r;const s=[Go,Wo,zo],o=[];function l(c,d){return c[3]?0:c[2]?1:2}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),i=Yt()},m(c,d){o[e].m(c,d),G(c,i,d),r=!0},p(c,[d]){let m=e;e=l(c),e===m?o[e].p(c,d):(Re(),D(o[m],1,1,()=>{o[m]=null}),Pe(),n=o[e],n?n.p(c,d):(n=o[e]=s[e](c),n.c()),v(n,1),n.m(i.parentNode,i))},i(c){r||(v(n),r=!0)},o(c){D(n),r=!1},d(c){o[e].d(c),c&&V(i)}}}function Yo(t,e,n){let{$$slots:i={},$$scope:r}=e,{customClasses:s=""}=e,{bgColor:o=""}=e,{round:l=!1}=e,{btnSubmit:c=!1}=e;function d(w){Un.call(this,t,w)}function m(w){Un.call(this,t,w)}function y(w){Un.call(this,t,w)}return t.$$set=w=>{"customClasses"in w&&n(0,s=w.customClasses),"bgColor"in w&&n(1,o=w.bgColor),"round"in w&&n(2,l=w.round),"btnSubmit"in w&&n(3,c=w.btnSubmit),"$$scope"in w&&n(4,r=w.$$scope)},[s,o,l,c,r,i,d,m,y]}class Bi extends ft{constructor(e){super(),ct(this,e,Yo,Ko,ot,{customClasses:0,bgColor:1,round:2,btnSubmit:3})}}function Xo(t){let e,n,i,r,s,o=gs(t[0])+"",l,c,d,m,y,w,O,R,I,A,Y,k,j,ne,oe,M,X,te,H,J,me,he,z,T,F,$=t[7]&&ps(t);return{c(){e=_("div"),n=_("img"),r=E(),s=_("p"),l=N(o),d=E(),m=_("p"),y=N(t[4]),O=E(),R=_("p"),I=N(t[2]),Y=E(),k=_("div"),j=_("div"),ne=_("p"),oe=N(t[6]),M=E(),$&&$.c(),X=E(),te=_("p"),H=N(t[7]),b(n,"class","card-img svelte-1vr6xd0"),Zi(n.src,i=t[3])||b(n,"src",i),b(n,"alt","img of card"),b(s,"class",c="race "+t[0]+"-race svelte-1vr6xd0"),b(m,"class",w="points "+t[0]+"-race svelte-1vr6xd0"),b(R,"class",A="card-title "+t[0]+"-title svelte-1vr6xd0"),b(ne,"class","description svelte-1vr6xd0"),b(j,"class","bottom-section-wrapper svelte-1vr6xd0"),b(k,"class","card-bottom-section svelte-1vr6xd0"),b(e,"class",J="card bg-"+t[0]+(t[5]==="legendary"?"-rare":"")+" svelte-1vr6xd0")},m(L,de){G(L,e,de),u(e,n),u(e,r),u(e,s),u(s,l),u(e,d),u(e,m),u(m,y),u(e,O),u(e,R),u(R,I),u(e,Y),u(e,k),u(k,j),u(j,ne),u(ne,oe),u(j,M),$&&$.m(j,null),u(j,X),u(j,te),u(te,H),z=!0,T||(F=wn(e,"click",t[9]),T=!0)},p(L,de){(!z||de&8&&!Zi(n.src,i=L[3]))&&b(n,"src",i),(!z||de&1)&&o!==(o=gs(L[0])+"")&&Z(l,o),(!z||de&1&&c!==(c="race "+L[0]+"-race svelte-1vr6xd0"))&&b(s,"class",c),(!z||de&16)&&Z(y,L[4]),(!z||de&1&&w!==(w="points "+L[0]+"-race svelte-1vr6xd0"))&&b(m,"class",w),(!z||de&4)&&Z(I,L[2]),(!z||de&1&&A!==(A="card-title "+L[0]+"-title svelte-1vr6xd0"))&&b(R,"class",A),(!z||de&64)&&Z(oe,L[6]),L[7]?$?$.p(L,de):($=ps(L),$.c(),$.m(j,X)):$&&($.d(1),$=null),(!z||de&128)&&Z(H,L[7]),(!z||de&33&&J!==(J="card bg-"+L[0]+(L[5]==="legendary"?"-rare":"")+" svelte-1vr6xd0"))&&b(e,"class",J)},i(L){z||(st(()=>{z&&(he&&he.end(1),me=Ai(e,vr,{x:100}),me.start())}),z=!0)},o(L){me&&me.invalidate(),he=br(e,gn,{}),z=!1},d(L){L&&V(e),$&&$.d(),L&&he&&he.end(),T=!1,F()}}}function Jo(t){let e,n,i,r,s,o;return{c(){e=_("div"),b(e,"class","card facedown bottom-deck svelte-1vr6xd0")},m(l,c){G(l,e,c),r=!0,s||(o=wn(e,"click",t[11]),s=!0)},p:x,i(l){r||(st(()=>{r&&(i&&i.end(1),n=Ai(e,vr,{x:100}),n.start())}),r=!0)},o(l){n&&n.invalidate(),i=br(e,gn,{}),r=!1},d(l){l&&V(e),l&&i&&i.end(),s=!1,o()}}}function ps(t){let e,n;return{c(){e=_("p"),n=N(t[8]),b(e,"class","special-trait svelte-1vr6xd0")},m(i,r){G(i,e,r),u(e,n)},p(i,r){r&256&&Z(n,i[8])},d(i){i&&V(e)}}}function Qo(t){let e,n,i,r;const s=[Jo,Xo],o=[];function l(c,d){return c[1]?1:0}return e=l(t),n=o[e]=s[e](t),{c(){n.c(),i=Yt()},m(c,d){o[e].m(c,d),G(c,i,d),r=!0},p(c,[d]){let m=e;e=l(c),e===m?o[e].p(c,d):(Re(),D(o[m],1,1,()=>{o[m]=null}),Pe(),n=o[e],n?n.p(c,d):(n=o[e]=s[e](c),n.c()),v(n,1),n.m(i.parentNode,i))},i(c){r||(v(n),r=!0)},o(c){D(n),r=!1},d(c){o[e].d(c),c&&V(i)}}}function gs(t){const e=t[0].toUpperCase(),n=t.slice(1);return e+n}function Zo(t,e,n){let{faceUp:i=!0}=e,{displayTitle:r="Title here..."}=e,{title:s=""}=e,{img:o="/card-bg.png"}=e,{points:l=0}=e,{race:c="none"}=e,{rarity:d="common"}=e,{description:m=""}=e,{trait:y=""}=e,{traitTitle:w=""}=e;const O=xr();function R(A){O("cardClick",{title:s,points:l,race:c,trait:y})}function I(A){Un.call(this,t,A)}return t.$$set=A=>{"faceUp"in A&&n(1,i=A.faceUp),"displayTitle"in A&&n(2,r=A.displayTitle),"title"in A&&n(10,s=A.title),"img"in A&&n(3,o=A.img),"points"in A&&n(4,l=A.points),"race"in A&&n(0,c=A.race),"rarity"in A&&n(5,d=A.rarity),"description"in A&&n(6,m=A.description),"trait"in A&&n(7,y=A.trait),"traitTitle"in A&&n(8,w=A.traitTitle)},t.$$.update=()=>{t.$$.dirty&1&&c==="goblin-ish"&&n(0,c="goblin")},[c,i,r,o,l,d,m,y,w,R,s,I]}class $e extends ft{constructor(e){super(),ct(this,e,Zo,Qo,ot,{faceUp:1,displayTitle:2,title:10,img:3,points:4,race:0,rarity:5,description:6,trait:7,traitTitle:8})}}function $o(t){let e;return{c(){e=_("div"),b(e,"class","spinner svelte-beofvy")},m(n,i){G(n,e,i)},p:x,i:x,o:x,d(n){n&&V(e)}}}class xo extends ft{constructor(e){super(),ct(this,e,null,$o,ot,{})}}function ea(t){let e,n,i,r,s,o,l,c=t[0].points.humans+"",d,m,y,w,O,R,I=t[0].points.goblins+"",A,Y,k,j,ne,oe,M=t[0].points.dwarves+"",X,te,H,J,me,he,z=t[0].points.elves+"",T,F,$,L,de,Se,ee=t[0].points.bots+"",U,Le,ie,Ge,ae,B,q=t[0].points.beasts+"",pe,K,Ne,xe,gt,Ie,at=t[0].points.xenos+"",et;return{c(){e=_("h2"),e.textContent="Race Points:",n=E(),i=_("div"),r=_("div"),s=_("p"),s.textContent="H",o=E(),l=_("p"),d=N(c),m=E(),y=_("div"),w=_("p"),w.textContent="G",O=E(),R=_("p"),A=N(I),Y=E(),k=_("div"),j=_("p"),j.textContent="D",ne=E(),oe=_("p"),X=N(M),te=E(),H=_("div"),J=_("p"),J.textContent="E",me=E(),he=_("p"),T=N(z),F=E(),$=_("div"),L=_("p"),L.textContent="B",de=E(),Se=_("p"),U=N(ee),Le=E(),ie=_("div"),Ge=_("p"),Ge.textContent="B",ae=E(),B=_("p"),pe=N(q),K=E(),Ne=_("div"),xe=_("p"),xe.textContent="X",gt=E(),Ie=_("p"),et=N(at),b(e,"class","svelte-148dys1"),b(s,"class","race-point__blue bold  svelte-148dys1"),b(l,"class","race-point__blue svelte-148dys1"),b(w,"class","race-point__green bold svelte-148dys1"),b(R,"class","race-point__green svelte-148dys1"),b(j,"class","race-point__maroon bold svelte-148dys1"),b(oe,"class","race-point__maroon svelte-148dys1"),b(J,"class","race-point__silver bold svelte-148dys1"),b(he,"class","race-point__silver svelte-148dys1"),b(L,"class","race-point__grey bold svelte-148dys1"),b(Se,"class","race-point__grey svelte-148dys1"),b(Ge,"class","race-point__brown bold svelte-148dys1"),b(B,"class","race-point__brown svelte-148dys1"),b(xe,"class","race-point__yellow bold svelte-148dys1"),b(Ie,"class","race-point__yellow svelte-148dys1"),b(i,"class","race-points svelte-148dys1")},m(Ce,qe){G(Ce,e,qe),G(Ce,n,qe),G(Ce,i,qe),u(i,r),u(r,s),u(r,o),u(r,l),u(l,d),u(i,m),u(i,y),u(y,w),u(y,O),u(y,R),u(R,A),u(i,Y),u(i,k),u(k,j),u(k,ne),u(k,oe),u(oe,X),u(i,te),u(i,H),u(H,J),u(H,me),u(H,he),u(he,T),u(i,F),u(i,$),u($,L),u($,de),u($,Se),u(Se,U),u(i,Le),u(i,ie),u(ie,Ge),u(ie,ae),u(ie,B),u(B,pe),u(i,K),u(i,Ne),u(Ne,xe),u(Ne,gt),u(Ne,Ie),u(Ie,et)},p(Ce,[qe]){qe&1&&c!==(c=Ce[0].points.humans+"")&&Z(d,c),qe&1&&I!==(I=Ce[0].points.goblins+"")&&Z(A,I),qe&1&&M!==(M=Ce[0].points.dwarves+"")&&Z(X,M),qe&1&&z!==(z=Ce[0].points.elves+"")&&Z(T,z),qe&1&&ee!==(ee=Ce[0].points.bots+"")&&Z(U,ee),qe&1&&q!==(q=Ce[0].points.beasts+"")&&Z(pe,q),qe&1&&at!==(at=Ce[0].points.xenos+"")&&Z(et,at)},i:x,o:x,d(Ce){Ce&&V(e),Ce&&V(n),Ce&&V(i)}}}function ta(t,e,n){let{player:i={}}=e;return t.$$set=r=>{"player"in r&&n(0,i=r.player)},[i]}class ms extends ft{constructor(e){super(),ct(this,e,ta,ea,ot,{player:0})}}const rt=Object.create(null);rt.open="0";rt.close="1";rt.ping="2";rt.pong="3";rt.message="4";rt.upgrade="5";rt.noop="6";const Fn=Object.create(null);Object.keys(rt).forEach(t=>{Fn[rt[t]]=t});const pi={type:"error",data:"parser error"},kr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Tr=typeof ArrayBuffer=="function",Er=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ri=({type:t,data:e},n,i)=>kr&&e instanceof Blob?n?i(e):_s(e,i):Tr&&(e instanceof ArrayBuffer||Er(e))?n?i(e):_s(new Blob([e]),i):i(rt[t]+(e||"")),_s=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function bs(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let li;function na(t,e){if(kr&&t.data instanceof Blob)return t.data.arrayBuffer().then(bs).then(e);if(Tr&&(t.data instanceof ArrayBuffer||Er(t.data)))return e(bs(t.data));Ri(t,!1,n=>{li||(li=new TextEncoder),e(li.encode(n))})}const ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<ys.length;t++)dn[ys.charCodeAt(t)]=t;const ia=t=>{let e=t.length*.75,n=t.length,i,r=0,s,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),m=new Uint8Array(d);for(i=0;i<n;i+=4)s=dn[t.charCodeAt(i)],o=dn[t.charCodeAt(i+1)],l=dn[t.charCodeAt(i+2)],c=dn[t.charCodeAt(i+3)],m[r++]=s<<2|o>>4,m[r++]=(o&15)<<4|l>>2,m[r++]=(l&3)<<6|c&63;return d},sa=typeof ArrayBuffer=="function",Pi=(t,e)=>{if(typeof t!="string")return{type:"message",data:Cr(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:ra(t.substring(1),e)}:Fn[n]?t.length>1?{type:Fn[n],data:t.substring(1)}:{type:Fn[n]}:pi},ra=(t,e)=>{if(sa){const n=ia(t);return Cr(n,e)}else return{base64:!0,data:t}},Cr=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Ar=String.fromCharCode(30),oa=(t,e)=>{const n=t.length,i=new Array(n);let r=0;t.forEach((s,o)=>{Ri(s,!1,l=>{i[o]=l,++r===n&&e(i.join(Ar))})})},aa=(t,e)=>{const n=t.split(Ar),i=[];for(let r=0;r<n.length;r++){const s=Pi(n[r],e);if(i.push(s),s.type==="error")break}return i};function la(){return new TransformStream({transform(t,e){na(t,n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}let ci;function Mn(t){return t.reduce((e,n)=>e+n.length,0)}function qn(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let r=0;r<e;r++)n[r]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function ca(t,e){ci||(ci=new TextDecoder);const n=[];let i=0,r=-1,s=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(i===0){if(Mn(n)<1)break;const c=qn(n,1);s=(c[0]&128)===128,r=c[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(Mn(n)<2)break;const c=qn(n,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),i=3}else if(i===2){if(Mn(n)<8)break;const c=qn(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),m=d.getUint32(0);if(m>Math.pow(2,53-32)-1){l.enqueue(pi);break}r=m*Math.pow(2,32)+d.getUint32(4),i=3}else{if(Mn(n)<r)break;const c=qn(n,r);l.enqueue(Pi(s?c:ci.decode(c),e)),i=0}if(r===0||r>t){l.enqueue(pi);break}}}})}const Br=4;function De(t){if(t)return fa(t)}function fa(t){for(var e in De.prototype)t[e]=De.prototype[e];return t}De.prototype.on=De.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};De.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};De.prototype.off=De.prototype.removeListener=De.prototype.removeAllListeners=De.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===e||i.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};De.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this};De.prototype.emitReserved=De.prototype.emit;De.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};De.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Qe=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Rr(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const ua=Qe.setTimeout,ha=Qe.clearTimeout;function Zn(t,e){e.useNativeTimers?(t.setTimeoutFn=ua.bind(Qe),t.clearTimeoutFn=ha.bind(Qe)):(t.setTimeoutFn=Qe.setTimeout.bind(Qe),t.clearTimeoutFn=Qe.clearTimeout.bind(Qe))}const da=1.33;function pa(t){return typeof t=="string"?ga(t):Math.ceil((t.byteLength||t.size)*da)}function ga(t){let e=0,n=0;for(let i=0,r=t.length;i<r;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function ma(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function _a(t){let e={},n=t.split("&");for(let i=0,r=n.length;i<r;i++){let s=n[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class ba extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Oi extends De{constructor(e){super(),this.writable=!1,Zn(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new ba(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Pi(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=ma(e);return n.length?"?"+n:""}}const Pr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),gi=64,ya={};let ws=0,jn=0,vs;function ks(t){let e="";do e=Pr[t%gi]+e,t=Math.floor(t/gi);while(t>0);return e}function Or(){const t=ks(+new Date);return t!==vs?(ws=0,vs=t):t+"."+ks(ws++)}for(;jn<gi;jn++)ya[Pr[jn]]=jn;let Dr=!1;try{Dr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const wa=Dr;function Sr(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||wa))return new XMLHttpRequest}catch{}if(!e)try{return new Qe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function va(){}const ka=function(){return new Sr({xdomain:!1}).responseType!=null}();class Ta extends Oi{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let r=location.port;r||(r=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}const n=e&&e.forceBase64;this.supportsBinary=ka&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};aa(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,oa(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Or()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new it(this.uri(),e)}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class it extends De{constructor(e,n){super(),Zn(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=Rr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new Sr(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var r;i.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=it.requestsCount++,it.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=va,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete it.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}it.requestsCount=0;it.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ts);else if(typeof addEventListener=="function"){const t="onpagehide"in Qe?"pagehide":"unload";addEventListener(t,Ts,!1)}}function Ts(){for(let t in it.requests)it.requests.hasOwnProperty(t)&&it.requests[t].abort()}const Di=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),Hn=Qe.WebSocket||Qe.MozWebSocket,Es=!0,Ea="arraybuffer",Cs=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ca extends Oi{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,i=Cs?{}:Rr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=Es&&!Cs?n?new Hn(e,n):new Hn(e):new Hn(e,n,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;Ri(i,this.supportsBinary,s=>{const o={};try{Es&&this.ws.send(s)}catch{}r&&Di(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Or()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!Hn}}class Aa extends Oi{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=ca(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),r=la();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const s=()=>{i.read().then(({done:l,value:c})=>{l||(this.onPacket(c),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;this.writer.write(i).then(()=>{r&&Di(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Ba={websocket:Ca,webtransport:Aa,polling:Ta},Ra=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Pa=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function mi(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let r=Ra.exec(t||""),s={},o=14;for(;o--;)s[Pa[o]]=r[o]||"";return n!=-1&&i!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Oa(s,s.path),s.queryKey=Da(s,s.query),s}function Oa(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function Da(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(n[r]=s)}),n}let Lr=class zt extends De{constructor(e,n={}){super(),this.binaryType=Ea,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=mi(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=mi(n.host).host),Zn(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_a(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Br,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Ba[e](i)}open(){let e;if(this.opts.rememberUpgrade&&zt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;zt.priorWebsocketSuccess=!1;const r=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",y=>{if(!i)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;zt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=n.name,this.emitReserved("upgradeError",w)}}))};function s(){i||(i=!0,m(),n.close(),n=null)}const o=y=>{const w=new Error("probe error: "+y);w.transport=n.name,s(),this.emitReserved("upgradeError",w)};function l(){o("transport closed")}function c(){o("socket closed")}function d(y){n&&y.name!==n.name&&s()}const m=()=>{n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};n.once("open",r),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",zt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const r=this.writeBuffer[i].data;if(r&&(n+=pa(r)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,r){if(typeof n=="function"&&(r=n,n=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const s={type:e,data:n,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){zt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const r=e.length;for(;i<r;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}};Lr.protocol=Br;function Sa(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=mi(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(n&&n.port===i.port?"":":"+i.port),i}const La=typeof ArrayBuffer=="function",Na=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Nr=Object.prototype.toString,Ia=typeof Blob=="function"||typeof Blob<"u"&&Nr.call(Blob)==="[object BlobConstructor]",Ma=typeof File=="function"||typeof File<"u"&&Nr.call(File)==="[object FileConstructor]";function Si(t){return La&&(t instanceof ArrayBuffer||Na(t))||Ia&&t instanceof Blob||Ma&&t instanceof File}function zn(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(zn(t[n]))return!0;return!1}if(Si(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return zn(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&zn(t[n]))return!0;return!1}function qa(t){const e=[],n=t.data,i=t;return i.data=_i(n,e),i.attachments=e.length,{packet:i,buffers:e}}function _i(t,e){if(!t)return t;if(Si(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=_i(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=_i(t[i],e));return n}return t}function ja(t,e){return t.data=bi(t.data,e),delete t.attachments,t}function bi(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=bi(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=bi(t[n],e));return t}const Ha=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ua=5;var Q;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Q||(Q={}));class Va{constructor(e){this.replacer=e}encode(e){return(e.type===Q.EVENT||e.type===Q.ACK)&&zn(e)?this.encodeAsBinary({type:e.type===Q.EVENT?Q.BINARY_EVENT:Q.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Q.BINARY_EVENT||e.type===Q.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=qa(e),i=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(i),r}}function As(t){return Object.prototype.toString.call(t)==="[object Object]"}class Li extends De{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===Q.BINARY_EVENT;i||n.type===Q.BINARY_ACK?(n.type=i?Q.EVENT:Q.ACK,this.reconstructor=new Fa(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Si(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(Q[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Q.BINARY_EVENT||i.type===Q.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(s,n)}else i.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}i.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(Li.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Q.CONNECT:return As(n);case Q.DISCONNECT:return n===void 0;case Q.CONNECT_ERROR:return typeof n=="string"||As(n);case Q.EVENT:case Q.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Ha.indexOf(n[0])===-1);case Q.ACK:case Q.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Fa{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=ja(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const za=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Li,Encoder:Va,get PacketType(){return Q},protocol:Ua},Symbol.toStringTag,{value:"Module"}));function Ze(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Wa=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ir extends De{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ze(e,"open",this.onopen.bind(this)),Ze(e,"packet",this.onpacket.bind(this)),Ze(e,"error",this.onerror.bind(this)),Ze(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(Wa.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:Q.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,l=n.pop();this._registerAckCallback(o,l),i.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var i;const r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...o])}}emitWithAck(e,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((r,s)=>{n.push((o,l)=>i?o?s(o):r(l):r(o)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Q.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Q.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Q.EVENT:case Q.BINARY_EVENT:this.onevent(e);break;case Q.ACK:case Q.BINARY_ACK:this.onack(e);break;case Q.DISCONNECT:this.ondisconnect();break;case Q.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...r){i||(i=!0,n.packet({type:Q.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Q.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function Jt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Jt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Jt.prototype.reset=function(){this.attempts=0};Jt.prototype.setMin=function(t){this.ms=t};Jt.prototype.setMax=function(t){this.max=t};Jt.prototype.setJitter=function(t){this.jitter=t};class yi extends De{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Zn(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Jt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||za;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Lr(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=Ze(n,"open",function(){i.onopen(),e&&e()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Ze(n,"error",s);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ze(e,"ping",this.onping.bind(this)),Ze(e,"data",this.ondata.bind(this)),Ze(e,"error",this.onerror.bind(this)),Ze(e,"close",this.onclose.bind(this)),Ze(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Di(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new Ir(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const hn={};function Wn(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Sa(t,e.path||"/socket.io"),i=n.source,r=n.id,s=n.path,o=hn[r]&&s in hn[r].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new yi(i,e):(hn[r]||(hn[r]=new yi(i,e)),c=hn[r]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(Wn,{Manager:yi,Socket:Ir,io:Wn,connect:Wn});function Bs(t,e,n){const i=t.slice();return i[70]=e[n],i}function Rs(t,e,n){const i=t.slice();return i[70]=e[n],i}function Ps(t,e,n){const i=t.slice();return i[70]=e[n],i}function Os(t,e,n){const i=t.slice();return i[70]=e[n],i}function Ds(t,e,n){const i=t.slice();return i[70]=e[n],i}function Ss(t,e,n){const i=t.slice();return i[70]=e[n],i}function Ls(t,e,n){const i=t.slice();return i[70]=e[n],i}function Ns(t,e,n){const i=t.slice();return i[70]=e[n],i}function Is(t,e,n){const i=t.slice();return i[70]=e[n],i}function Ms(t,e,n){const i=t.slice();return i[70]=e[n],i}function qs(t,e,n){const i=t.slice();return i[87]=e[n],i}function js(t,e,n){const i=t.slice();return i[90]=e[n],i}function Hs(t,e,n){const i=t.slice();return i[93]=e[n],i}function Us(t,e,n){const i=t.slice();return i[87]=e[n],i}function Vs(t,e,n){const i=t.slice();return i[90]=e[n],i}function Fs(t,e,n){const i=t.slice();return i[93]=e[n],i}function zs(t){let e,n;return e=new Bi({props:{customClasses:"btn__green w-25",$$slots:{default:[Ga]},$$scope:{ctx:t}}}),e.$on("click",t[12]),{c(){ge(e.$$.fragment)},m(i,r){fe(e,i,r),n=!0},p(i,r){const s={};r[3]&8192&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Ga(t){let e;return{c(){e=N("Start game")},m(n,i){G(n,e,i)},d(n){n&&V(e)}}}function Ka(t){let e,n,i,r,s,o,l,c,d,m,y,w,O,R,I,A,Y,k,j,ne,oe,M,X,te,H,J,me,he,z,T=t[6]&&Ws(),F=t[8]&&Gs(t),$=t[11].hand,L=[];for(let B=0;B<$.length;B+=1)L[B]=Ks(Rs(t,$,B));const de=B=>D(L[B],1,1,()=>{L[B]=null});let Se=t[10].hand,ee=[];for(let B=0;B<Se.length;B+=1)ee[B]=Ys(Bs(t,Se,B));const U=B=>D(ee[B],1,1,()=>{ee[B]=null});X=new $e({props:{faceUp:!1}}),X.$on("click",t[14]);const Le=[Ja,Xa],ie=[];function Ge(B,q){return B[1]||B[5]<5?0:1}H=Ge(t),J=ie[H]=Le[H](t);let ae=t[2]&&Xs(t);return{c(){T&&T.c(),e=E(),n=_("div"),F&&F.c(),i=E(),r=_("div"),s=_("p"),o=N("Player 1"),c=E();for(let B=0;B<L.length;B+=1)L[B].c();m=E(),y=_("div"),w=_("p"),O=N("Player 2"),I=E();for(let B=0;B<ee.length;B+=1)ee[B].c();Y=E(),k=_("div"),j=_("h1"),ne=N("Turn "),oe=N(t[5]),M=E(),ge(X.$$.fragment),te=E(),J.c(),me=E(),ae&&ae.c(),b(s,"class",l="p1-name "+(t[11].turn?"turn-active":"")+" svelte-pitjfg"),b(r,"class",d="card-section card-section__ally "+(t[11].turn?"section-active":"")+" svelte-pitjfg"),b(w,"class",R="p2-name "+(t[10].turn?"turn-active":"")+" svelte-pitjfg"),b(y,"class",A="card-section card-section__enemy "+(t[10].turn?"section-active":"")+" svelte-pitjfg"),b(j,"class","turn-count svelte-pitjfg"),b(k,"class","game-buttons svelte-pitjfg"),b(n,"class",he="game-board "+(t[8]?"game-event":"")+" "+(t[0]?"gobble-declared":"")+" svelte-pitjfg")},m(B,q){T&&T.m(B,q),G(B,e,q),G(B,n,q),F&&F.m(n,null),u(n,i),u(n,r),u(r,s),u(s,o),u(r,c);for(let pe=0;pe<L.length;pe+=1)L[pe]&&L[pe].m(r,null);u(n,m),u(n,y),u(y,w),u(w,O),u(y,I);for(let pe=0;pe<ee.length;pe+=1)ee[pe]&&ee[pe].m(y,null);u(n,Y),u(n,k),u(k,j),u(j,ne),u(j,oe),u(k,M),fe(X,k,null),u(k,te),ie[H].m(k,null),u(n,me),ae&&ae.m(n,null),z=!0},p(B,q){if(B[6]?T?q[0]&64&&v(T,1):(T=Ws(),T.c(),v(T,1),T.m(e.parentNode,e)):T&&(Re(),D(T,1,1,()=>{T=null}),Pe()),B[8]?F?(F.p(B,q),q[0]&256&&v(F,1)):(F=Gs(B),F.c(),v(F,1),F.m(n,i)):F&&(F.d(1),F=null),(!z||q[0]&2048&&l!==(l="p1-name "+(B[11].turn?"turn-active":"")+" svelte-pitjfg"))&&b(s,"class",l),q[0]&44544){$=B[11].hand;let K;for(K=0;K<$.length;K+=1){const Ne=Rs(B,$,K);L[K]?(L[K].p(Ne,q),v(L[K],1)):(L[K]=Ks(Ne),L[K].c(),v(L[K],1),L[K].m(r,null))}for(Re(),K=$.length;K<L.length;K+=1)de(K);Pe()}if((!z||q[0]&2048&&d!==(d="card-section card-section__ally "+(B[11].turn?"section-active":"")+" svelte-pitjfg"))&&b(r,"class",d),(!z||q[0]&1024&&R!==(R="p2-name "+(B[10].turn?"turn-active":"")+" svelte-pitjfg"))&&b(w,"class",R),q[0]&44544){Se=B[10].hand;let K;for(K=0;K<Se.length;K+=1){const Ne=Bs(B,Se,K);ee[K]?(ee[K].p(Ne,q),v(ee[K],1)):(ee[K]=Ys(Ne),ee[K].c(),v(ee[K],1),ee[K].m(y,null))}for(Re(),K=Se.length;K<ee.length;K+=1)U(K);Pe()}(!z||q[0]&1024&&A!==(A="card-section card-section__enemy "+(B[10].turn?"section-active":"")+" svelte-pitjfg"))&&b(y,"class",A),(!z||q[0]&32)&&Z(oe,B[5]);let pe=H;H=Ge(B),H===pe?ie[H].p(B,q):(Re(),D(ie[pe],1,1,()=>{ie[pe]=null}),Pe(),J=ie[H],J?J.p(B,q):(J=ie[H]=Le[H](B),J.c()),v(J,1),J.m(k,null)),B[2]?ae?ae.p(B,q):(ae=Xs(B),ae.c(),ae.m(n,null)):ae&&(ae.d(1),ae=null),(!z||q[0]&257&&he!==(he="game-board "+(B[8]?"game-event":"")+" "+(B[0]?"gobble-declared":"")+" svelte-pitjfg"))&&b(n,"class",he)},i(B){if(!z){v(T),v(F);for(let q=0;q<$.length;q+=1)v(L[q]);for(let q=0;q<Se.length;q+=1)v(ee[q]);v(X.$$.fragment,B),v(J),z=!0}},o(B){D(T),L=L.filter(Boolean);for(let q=0;q<L.length;q+=1)D(L[q]);ee=ee.filter(Boolean);for(let q=0;q<ee.length;q+=1)D(ee[q]);D(X.$$.fragment,B),D(J),z=!1},d(B){T&&T.d(B),B&&V(e),B&&V(n),F&&F.d(),je(L,B),je(ee,B),ue(X),ie[H].d(),ae&&ae.d()}}}function Ya(t){let e,n,i,r,s,o,l,c,d,m,y,w,O,R,I,A=t[11].chargePoints+"",Y,k,j,ne,oe,M,X,te,H,J,me=t[11].infectPoints+"",he,z,T,F,$,L,de,Se,ee,U,Le,ie,Ge=t[11].wins+"",ae,B,q=t[11].losses+"",pe,K,Ne=t[11].draws+"",xe,gt,Ie,at,et=t[10].wins+"",Ce,qe,Bt=t[10].losses+"",Qt,vn,Rt=t[10].draws+"",Pt,kn,Zt,$t,xt,en,tn,ut,Tn,mt,Ot=t[10].chargePoints+"",nn,En,Cn,$n,a,p,C,S,se,Ae,re=t[10].infectPoints+"",ht,sn,Dt,rn,on,_t,Ni,An,Ii,an,Mi,xn,qi,St,Ke,Bn,ji,ei,Rn,Hi,Ui,Ye,Pn,Vi,ti,On,Fi,zi,Lt,Xe,Dn,Wi,ni,Sn,Gi,Ki,Je,Ln,Yi,ii,Nn,Xi,dt,Me,Nt=t[11].boosts,He=[];for(let f=0;f<Nt.length;f+=1)He[f]=Js(Fs(t,Nt,f));let It=t[11].traps,Ue=[];for(let f=0;f<It.length;f+=1)Ue[f]=Qs(Vs(t,It,f));let Mt=t[11].neutrals,Ve=[];for(let f=0;f<Mt.length;f+=1)Ve[f]=Zs(Us(t,Mt,f));L=new ms({props:{player:t[11]}});let qt=t[10].boosts,Fe=[];for(let f=0;f<qt.length;f+=1)Fe[f]=$s(Hs(t,qt,f));let jt=t[10].traps,ze=[];for(let f=0;f<jt.length;f+=1)ze[f]=xs(js(t,jt,f));let Ht=t[10].neutrals,We=[];for(let f=0;f<Ht.length;f+=1)We[f]=er(qs(t,Ht,f));_t=new ms({props:{player:t[10]}});let bt=t[11].startingHand,_e=[];for(let f=0;f<bt.length;f+=1)_e[f]=tr(Ms(t,bt,f));const Mr=f=>D(_e[f],1,1,()=>{_e[f]=null});let yt=t[11].cardsDrawn,be=[];for(let f=0;f<yt.length;f+=1)be[f]=nr(Is(t,yt,f));const qr=f=>D(be[f],1,1,()=>{be[f]=null});let wt=t[11].hand,ye=[];for(let f=0;f<wt.length;f+=1)ye[f]=ir(Ns(t,wt,f));const jr=f=>D(ye[f],1,1,()=>{ye[f]=null});let vt=t[11].discards,we=[];for(let f=0;f<vt.length;f+=1)we[f]=sr(Ls(t,vt,f));const Hr=f=>D(we[f],1,1,()=>{we[f]=null});let kt=t[10].startingHand,ve=[];for(let f=0;f<kt.length;f+=1)ve[f]=rr(Ss(t,kt,f));const Ur=f=>D(ve[f],1,1,()=>{ve[f]=null});let Tt=t[10].cardsDrawn,ke=[];for(let f=0;f<Tt.length;f+=1)ke[f]=or(Ds(t,Tt,f));const Vr=f=>D(ke[f],1,1,()=>{ke[f]=null});let Et=t[10].hand,Te=[];for(let f=0;f<Et.length;f+=1)Te[f]=ar(Os(t,Et,f));const Fr=f=>D(Te[f],1,1,()=>{Te[f]=null});let Ct=t[10].discards,Ee=[];for(let f=0;f<Ct.length;f+=1)Ee[f]=lr(Ps(t,Ct,f));const zr=f=>D(Ee[f],1,1,()=>{Ee[f]=null});return{c(){e=_("div"),n=_("div"),i=_("div"),r=_("p"),s=N(t[3]),o=E(),l=_("p"),c=N(t[4]),d=E(),m=_("p"),m.textContent="Player1 Boosts:",y=E();for(let f=0;f<He.length;f+=1)He[f].c();w=E(),O=_("p"),R=N("Charge boost points: "),I=_("span"),Y=N(A),k=E(),j=_("p"),j.textContent="Player1 Traps:",ne=E(),oe=_("span"),oe.textContent="Trap cards:",M=E();for(let f=0;f<Ue.length;f+=1)Ue[f].c();X=E(),te=_("p"),H=N("Infect trap penalty: "),J=_("span"),he=N(me),z=E(),T=_("span"),T.textContent="Neutral cards:",F=E();for(let f=0;f<Ve.length;f+=1)Ve[f].c();$=E(),ge(L.$$.fragment),de=E(),Se=_("h2"),Se.textContent="Player 1",ee=E(),U=_("div"),Le=_("p"),ie=N("Player 1 Win/Lose/Draw: "),ae=N(Ge),B=N("/"),pe=N(q),K=N("/"),xe=N(Ne),gt=E(),Ie=_("p"),at=N("Player 2 Win/Lose/Draw: "),Ce=N(et),qe=N("/"),Qt=N(Bt),vn=N("/"),Pt=N(Rt),kn=E(),Zt=_("p"),Zt.textContent="Player2 Boosts:",$t=E(),xt=_("span"),xt.textContent="Boost cards:",en=E();for(let f=0;f<Fe.length;f+=1)Fe[f].c();tn=E(),ut=_("p"),Tn=N("Charge boost points: "),mt=_("span"),nn=N(Ot),En=E(),Cn=_("p"),Cn.textContent="Player2 Traps:",$n=E(),a=_("span"),a.textContent="Trap cards:",p=E();for(let f=0;f<ze.length;f+=1)ze[f].c();C=E(),S=_("p"),se=N("Infect trap penalty: "),Ae=_("span"),ht=N(re),sn=E(),Dt=_("span"),Dt.textContent="Neutral cards:",rn=E();for(let f=0;f<We.length;f+=1)We[f].c();on=E(),ge(_t.$$.fragment),Ni=E(),An=_("h2"),An.textContent="Player 2",Ii=E(),an=_("h2"),Mi=N("Turn count: "),xn=N(t[5]),qi=E(),St=_("div"),Ke=_("div"),Bn=_("p"),Bn.textContent="Starting Hand:",ji=E();for(let f=0;f<_e.length;f+=1)_e[f].c();ei=E(),Rn=_("p"),Rn.textContent="Cards drawn:",Hi=E();for(let f=0;f<be.length;f+=1)be[f].c();Ui=E(),Ye=_("div"),Pn=_("p"),Pn.textContent="Final Hand:",Vi=E();for(let f=0;f<ye.length;f+=1)ye[f].c();ti=E(),On=_("p"),On.textContent="Cards discarded:",Fi=E();for(let f=0;f<we.length;f+=1)we[f].c();zi=E(),Lt=_("div"),Xe=_("div"),Dn=_("p"),Dn.textContent="Starting Hand:",Wi=E();for(let f=0;f<ve.length;f+=1)ve[f].c();ni=E(),Sn=_("p"),Sn.textContent="Cards drawn:",Gi=E();for(let f=0;f<ke.length;f+=1)ke[f].c();Ki=E(),Je=_("div"),Ln=_("p"),Ln.textContent="Final Hand:",Yi=E();for(let f=0;f<Te.length;f+=1)Te[f].c();ii=E(),Nn=_("p"),Nn.textContent="Cards discarded:",Xi=E();for(let f=0;f<Ee.length;f+=1)Ee[f].c();b(l,"class","margin-bottom-sm svelte-pitjfg"),b(I,"class","color-blue svelte-pitjfg"),b(O,"class","margin-bottom-sm svelte-pitjfg"),b(J,"class","color-red svelte-pitjfg"),b(te,"class","margin-bottom-sm svelte-pitjfg"),b(Se,"class","results-player-floating-header results-player-float-left svelte-pitjfg"),b(Ie,"class","margin-bottom-sm svelte-pitjfg"),b(mt,"class","color-blue svelte-pitjfg"),b(ut,"class","margin-bottom-sm svelte-pitjfg"),b(Ae,"class","color-red svelte-pitjfg"),b(S,"class","margin-bottom-sm svelte-pitjfg"),b(An,"class","results-player-floating-header results-player-float-right svelte-pitjfg"),b(an,"class","results-player-floating-header results-turn-count-float-middle svelte-pitjfg"),b(n,"class","results-messages-flex-wrapper svelte-pitjfg"),b(Bn,"class","history__small-header svelte-pitjfg"),b(Rn,"class","history__small-header svelte-pitjfg"),b(Ke,"class","history__cards-drawn"),b(Pn,"class","history__small-header svelte-pitjfg"),b(On,"class","history__small-header svelte-pitjfg"),b(Ye,"class","history__cards-discarded"),b(St,"class","player-history-wrapper svelte-pitjfg"),b(Dn,"class","history__small-header svelte-pitjfg"),b(Sn,"class","history__small-header svelte-pitjfg"),b(Xe,"class","history__cards-drawn"),b(Ln,"class","history__small-header svelte-pitjfg"),b(Nn,"class","history__small-header svelte-pitjfg"),b(Je,"class","history__cards-discarded"),b(Lt,"class","player-history-wrapper svelte-pitjfg"),b(e,"class","results-screen svelte-pitjfg")},m(f,g){G(f,e,g),u(e,n),u(n,i),u(i,r),u(r,s),u(i,o),u(i,l),u(l,c),u(i,d),u(i,m),u(i,y);for(let P=0;P<He.length;P+=1)He[P]&&He[P].m(i,null);u(i,w),u(i,O),u(O,R),u(O,I),u(I,Y),u(i,k),u(i,j),u(i,ne),u(i,oe),u(i,M);for(let P=0;P<Ue.length;P+=1)Ue[P]&&Ue[P].m(i,null);u(i,X),u(i,te),u(te,H),u(te,J),u(J,he),u(i,z),u(i,T),u(i,F);for(let P=0;P<Ve.length;P+=1)Ve[P]&&Ve[P].m(i,null);u(i,$),fe(L,i,null),u(i,de),u(i,Se),u(n,ee),u(n,U),u(U,Le),u(Le,ie),u(Le,ae),u(Le,B),u(Le,pe),u(Le,K),u(Le,xe),u(U,gt),u(U,Ie),u(Ie,at),u(Ie,Ce),u(Ie,qe),u(Ie,Qt),u(Ie,vn),u(Ie,Pt),u(U,kn),u(U,Zt),u(U,$t),u(U,xt),u(U,en);for(let P=0;P<Fe.length;P+=1)Fe[P]&&Fe[P].m(U,null);u(U,tn),u(U,ut),u(ut,Tn),u(ut,mt),u(mt,nn),u(U,En),u(U,Cn),u(U,$n),u(U,a),u(U,p);for(let P=0;P<ze.length;P+=1)ze[P]&&ze[P].m(U,null);u(U,C),u(U,S),u(S,se),u(S,Ae),u(Ae,ht),u(U,sn),u(U,Dt),u(U,rn);for(let P=0;P<We.length;P+=1)We[P]&&We[P].m(U,null);u(U,on),fe(_t,U,null),u(U,Ni),u(U,An),u(U,Ii),u(U,an),u(an,Mi),u(an,xn),u(e,qi),u(e,St),u(St,Ke),u(Ke,Bn),u(Ke,ji);for(let P=0;P<_e.length;P+=1)_e[P]&&_e[P].m(Ke,null);u(Ke,ei),u(Ke,Rn),u(Ke,Hi);for(let P=0;P<be.length;P+=1)be[P]&&be[P].m(Ke,null);u(St,Ui),u(St,Ye),u(Ye,Pn),u(Ye,Vi);for(let P=0;P<ye.length;P+=1)ye[P]&&ye[P].m(Ye,null);u(Ye,ti),u(Ye,On),u(Ye,Fi);for(let P=0;P<we.length;P+=1)we[P]&&we[P].m(Ye,null);u(e,zi),u(e,Lt),u(Lt,Xe),u(Xe,Dn),u(Xe,Wi);for(let P=0;P<ve.length;P+=1)ve[P]&&ve[P].m(Xe,null);u(Xe,ni),u(Xe,Sn),u(Xe,Gi);for(let P=0;P<ke.length;P+=1)ke[P]&&ke[P].m(Xe,null);u(Lt,Ki),u(Lt,Je),u(Je,Ln),u(Je,Yi);for(let P=0;P<Te.length;P+=1)Te[P]&&Te[P].m(Je,null);u(Je,ii),u(Je,Nn),u(Je,Xi);for(let P=0;P<Ee.length;P+=1)Ee[P]&&Ee[P].m(Je,null);Me=!0},p(f,g){if((!Me||g[0]&8)&&Z(s,f[3]),(!Me||g[0]&16)&&Z(c,f[4]),g[0]&2048){Nt=f[11].boosts;let h;for(h=0;h<Nt.length;h+=1){const W=Fs(f,Nt,h);He[h]?He[h].p(W,g):(He[h]=Js(W),He[h].c(),He[h].m(i,w))}for(;h<He.length;h+=1)He[h].d(1);He.length=Nt.length}if((!Me||g[0]&2048)&&A!==(A=f[11].chargePoints+"")&&Z(Y,A),g[0]&2048){It=f[11].traps;let h;for(h=0;h<It.length;h+=1){const W=Vs(f,It,h);Ue[h]?Ue[h].p(W,g):(Ue[h]=Qs(W),Ue[h].c(),Ue[h].m(i,X))}for(;h<Ue.length;h+=1)Ue[h].d(1);Ue.length=It.length}if((!Me||g[0]&2048)&&me!==(me=f[11].infectPoints+"")&&Z(he,me),g[0]&2048){Mt=f[11].neutrals;let h;for(h=0;h<Mt.length;h+=1){const W=Us(f,Mt,h);Ve[h]?Ve[h].p(W,g):(Ve[h]=Zs(W),Ve[h].c(),Ve[h].m(i,$))}for(;h<Ve.length;h+=1)Ve[h].d(1);Ve.length=Mt.length}const P={};if(g[0]&2048&&(P.player=f[11]),L.$set(P),(!Me||g[0]&2048)&&Ge!==(Ge=f[11].wins+"")&&Z(ae,Ge),(!Me||g[0]&2048)&&q!==(q=f[11].losses+"")&&Z(pe,q),(!Me||g[0]&2048)&&Ne!==(Ne=f[11].draws+"")&&Z(xe,Ne),(!Me||g[0]&1024)&&et!==(et=f[10].wins+"")&&Z(Ce,et),(!Me||g[0]&1024)&&Bt!==(Bt=f[10].losses+"")&&Z(Qt,Bt),(!Me||g[0]&1024)&&Rt!==(Rt=f[10].draws+"")&&Z(Pt,Rt),g[0]&1024){qt=f[10].boosts;let h;for(h=0;h<qt.length;h+=1){const W=Hs(f,qt,h);Fe[h]?Fe[h].p(W,g):(Fe[h]=$s(W),Fe[h].c(),Fe[h].m(U,tn))}for(;h<Fe.length;h+=1)Fe[h].d(1);Fe.length=qt.length}if((!Me||g[0]&1024)&&Ot!==(Ot=f[10].chargePoints+"")&&Z(nn,Ot),g[0]&1024){jt=f[10].traps;let h;for(h=0;h<jt.length;h+=1){const W=js(f,jt,h);ze[h]?ze[h].p(W,g):(ze[h]=xs(W),ze[h].c(),ze[h].m(U,C))}for(;h<ze.length;h+=1)ze[h].d(1);ze.length=jt.length}if((!Me||g[0]&1024)&&re!==(re=f[10].infectPoints+"")&&Z(ht,re),g[0]&1024){Ht=f[10].neutrals;let h;for(h=0;h<Ht.length;h+=1){const W=qs(f,Ht,h);We[h]?We[h].p(W,g):(We[h]=er(W),We[h].c(),We[h].m(U,on))}for(;h<We.length;h+=1)We[h].d(1);We.length=Ht.length}const Ji={};if(g[0]&1024&&(Ji.player=f[10]),_t.$set(Ji),(!Me||g[0]&32)&&Z(xn,f[5]),g[0]&133632){bt=f[11].startingHand;let h;for(h=0;h<bt.length;h+=1){const W=Ms(f,bt,h);_e[h]?(_e[h].p(W,g),v(_e[h],1)):(_e[h]=tr(W),_e[h].c(),v(_e[h],1),_e[h].m(Ke,ei))}for(Re(),h=bt.length;h<_e.length;h+=1)Mr(h);Pe()}if(g[0]&133632){yt=f[11].cardsDrawn;let h;for(h=0;h<yt.length;h+=1){const W=Is(f,yt,h);be[h]?(be[h].p(W,g),v(be[h],1)):(be[h]=nr(W),be[h].c(),v(be[h],1),be[h].m(Ke,null))}for(Re(),h=yt.length;h<be.length;h+=1)qr(h);Pe()}if(g[0]&133632){wt=f[11].hand;let h;for(h=0;h<wt.length;h+=1){const W=Ns(f,wt,h);ye[h]?(ye[h].p(W,g),v(ye[h],1)):(ye[h]=ir(W),ye[h].c(),v(ye[h],1),ye[h].m(Ye,ti))}for(Re(),h=wt.length;h<ye.length;h+=1)jr(h);Pe()}if(g[0]&133632){vt=f[11].discards;let h;for(h=0;h<vt.length;h+=1){const W=Ls(f,vt,h);we[h]?(we[h].p(W,g),v(we[h],1)):(we[h]=sr(W),we[h].c(),v(we[h],1),we[h].m(Ye,null))}for(Re(),h=vt.length;h<we.length;h+=1)Hr(h);Pe()}if(g[0]&132608){kt=f[10].startingHand;let h;for(h=0;h<kt.length;h+=1){const W=Ss(f,kt,h);ve[h]?(ve[h].p(W,g),v(ve[h],1)):(ve[h]=rr(W),ve[h].c(),v(ve[h],1),ve[h].m(Xe,ni))}for(Re(),h=kt.length;h<ve.length;h+=1)Ur(h);Pe()}if(g[0]&132608){Tt=f[10].cardsDrawn;let h;for(h=0;h<Tt.length;h+=1){const W=Ds(f,Tt,h);ke[h]?(ke[h].p(W,g),v(ke[h],1)):(ke[h]=or(W),ke[h].c(),v(ke[h],1),ke[h].m(Xe,null))}for(Re(),h=Tt.length;h<ke.length;h+=1)Vr(h);Pe()}if(g[0]&132608){Et=f[10].hand;let h;for(h=0;h<Et.length;h+=1){const W=Os(f,Et,h);Te[h]?(Te[h].p(W,g),v(Te[h],1)):(Te[h]=ar(W),Te[h].c(),v(Te[h],1),Te[h].m(Je,ii))}for(Re(),h=Et.length;h<Te.length;h+=1)Fr(h);Pe()}if(g[0]&132608){Ct=f[10].discards;let h;for(h=0;h<Ct.length;h+=1){const W=Ps(f,Ct,h);Ee[h]?(Ee[h].p(W,g),v(Ee[h],1)):(Ee[h]=lr(W),Ee[h].c(),v(Ee[h],1),Ee[h].m(Je,null))}for(Re(),h=Ct.length;h<Ee.length;h+=1)zr(h);Pe()}},i(f){if(!Me){v(L.$$.fragment,f),v(_t.$$.fragment,f);for(let g=0;g<bt.length;g+=1)v(_e[g]);for(let g=0;g<yt.length;g+=1)v(be[g]);for(let g=0;g<wt.length;g+=1)v(ye[g]);for(let g=0;g<vt.length;g+=1)v(we[g]);for(let g=0;g<kt.length;g+=1)v(ve[g]);for(let g=0;g<Tt.length;g+=1)v(ke[g]);for(let g=0;g<Et.length;g+=1)v(Te[g]);for(let g=0;g<Ct.length;g+=1)v(Ee[g]);st(()=>{Me&&(dt||(dt=is(e,gn,{},!0)),dt.run(1))}),Me=!0}},o(f){D(L.$$.fragment,f),D(_t.$$.fragment,f),_e=_e.filter(Boolean);for(let g=0;g<_e.length;g+=1)D(_e[g]);be=be.filter(Boolean);for(let g=0;g<be.length;g+=1)D(be[g]);ye=ye.filter(Boolean);for(let g=0;g<ye.length;g+=1)D(ye[g]);we=we.filter(Boolean);for(let g=0;g<we.length;g+=1)D(we[g]);ve=ve.filter(Boolean);for(let g=0;g<ve.length;g+=1)D(ve[g]);ke=ke.filter(Boolean);for(let g=0;g<ke.length;g+=1)D(ke[g]);Te=Te.filter(Boolean);for(let g=0;g<Te.length;g+=1)D(Te[g]);Ee=Ee.filter(Boolean);for(let g=0;g<Ee.length;g+=1)D(Ee[g]);dt||(dt=is(e,gn,{},!1)),dt.run(0),Me=!1},d(f){f&&V(e),je(He,f),je(Ue,f),je(Ve,f),ue(L),je(Fe,f),je(ze,f),je(We,f),ue(_t),je(_e,f),je(be,f),je(ye,f),je(we,f),je(ve,f),je(ke,f),je(Te,f),je(Ee,f),f&&dt&&dt.end()}}}function Ws(t){let e,n;return e=new xo({}),{c(){ge(e.$$.fragment)},m(i,r){fe(e,i,r),n=!0},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Gs(t){let e,n,i;return{c(){e=_("p"),n=N(t[7]),b(e,"class","game-event-message svelte-pitjfg")},m(r,s){G(r,e,s),u(e,n)},p(r,s){s[0]&128&&Z(n,r[7])},i(r){i||st(()=>{i=Ai(e,gn,{}),i.start()})},o:x,d(r){r&&V(e)}}}function Ks(t){let e,n;return e=new $e({props:{faceUp:t[13]("p1")||t[10].hasVision||t[11].isExposed,displayTitle:t[9][t[70]].displayTitle,title:t[9][t[70]].title,img:t[9][t[70]].image,trait:t[9][t[70]].trait,traitTitle:t[9][t[70]].traitTitle,description:t[9][t[70]].description,race:t[9][t[70]].race,rarity:t[9][t[70]].rarity,points:t[9][t[70]].points}}),e.$on("cardClick",t[18]),{c(){ge(e.$$.fragment)},m(i,r){fe(e,i,r),n=!0},p(i,r){const s={};r[0]&3072&&(s.faceUp=i[13]("p1")||i[10].hasVision||i[11].isExposed),r[0]&2560&&(s.displayTitle=i[9][i[70]].displayTitle),r[0]&2560&&(s.title=i[9][i[70]].title),r[0]&2560&&(s.img=i[9][i[70]].image),r[0]&2560&&(s.trait=i[9][i[70]].trait),r[0]&2560&&(s.traitTitle=i[9][i[70]].traitTitle),r[0]&2560&&(s.description=i[9][i[70]].description),r[0]&2560&&(s.race=i[9][i[70]].race),r[0]&2560&&(s.rarity=i[9][i[70]].rarity),r[0]&2560&&(s.points=i[9][i[70]].points),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Ys(t){let e,n;return e=new $e({props:{faceUp:t[13]("p2")||t[11].hasVision||t[10].isExposed,displayTitle:t[9][t[70]].displayTitle,title:t[9][t[70]].title,img:t[9][t[70]].image,trait:t[9][t[70]].trait,traitTitle:t[9][t[70]].traitTitle,description:t[9][t[70]].description,race:t[9][t[70]].race,rarity:t[9][t[70]].rarity,points:t[9][t[70]].points}}),e.$on("cardClick",t[19]),{c(){ge(e.$$.fragment)},m(i,r){fe(e,i,r),n=!0},p(i,r){const s={};r[0]&3072&&(s.faceUp=i[13]("p2")||i[11].hasVision||i[10].isExposed),r[0]&1536&&(s.displayTitle=i[9][i[70]].displayTitle),r[0]&1536&&(s.title=i[9][i[70]].title),r[0]&1536&&(s.img=i[9][i[70]].image),r[0]&1536&&(s.trait=i[9][i[70]].trait),r[0]&1536&&(s.traitTitle=i[9][i[70]].traitTitle),r[0]&1536&&(s.description=i[9][i[70]].description),r[0]&1536&&(s.race=i[9][i[70]].race),r[0]&1536&&(s.rarity=i[9][i[70]].rarity),r[0]&1536&&(s.points=i[9][i[70]].points),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Xa(t){let e,n;return e=new Bi({props:{round:!0,customClasses:"btn__orange",$$slots:{default:[Qa]},$$scope:{ctx:t}}}),e.$on("click",t[16]),{c(){ge(e.$$.fragment)},m(i,r){fe(e,i,r),n=!0},p(i,r){const s={};r[3]&8192&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Ja(t){let e,n;return e=new Bi({props:{round:!0,customClasses:"btn__orange_disabled",$$slots:{default:[Za]},$$scope:{ctx:t}}}),{c(){ge(e.$$.fragment)},m(i,r){fe(e,i,r),n=!0},p(i,r){const s={};r[3]&8192&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}function Qa(t){let e;return{c(){e=N("Gobbledegook!")},m(n,i){G(n,e,i)},d(n){n&&V(e)}}}function Za(t){let e;return{c(){e=N("Gobbledegook!")},m(n,i){G(n,e,i)},d(n){n&&V(e)}}}function Xs(t){let e,n=t[11].turn?"Player 1":"Player 2",i,r;return{c(){e=_("p"),i=N(n),r=_("span"),r.textContent="'s turn",b(r,"class","svelte-pitjfg"),b(e,"class","turn-text svelte-pitjfg")},m(s,o){G(s,e,o),u(e,i),u(e,r)},p(s,o){o[0]&2048&&n!==(n=s[11].turn?"Player 1":"Player 2")&&Z(i,n)},d(s){s&&V(e)}}}function Js(t){let e,n=t[93]+"",i,r;return{c(){e=_("span"),i=N(n),r=N("  "),b(e,"class","color-blue svelte-pitjfg")},m(s,o){G(s,e,o),u(e,i),u(e,r)},p(s,o){o[0]&2048&&n!==(n=s[93]+"")&&Z(i,n)},d(s){s&&V(e)}}}function Qs(t){let e,n=t[90]+"",i,r;return{c(){e=_("span"),i=N(n),r=N("  "),b(e,"class","color-red svelte-pitjfg")},m(s,o){G(s,e,o),u(e,i),u(e,r)},p(s,o){o[0]&2048&&n!==(n=s[90]+"")&&Z(i,n)},d(s){s&&V(e)}}}function Zs(t){let e,n=t[87]+"",i,r;return{c(){e=_("span"),i=N(n),r=N("  "),b(e,"class","color-purple svelte-pitjfg")},m(s,o){G(s,e,o),u(e,i),u(e,r)},p(s,o){o[0]&2048&&n!==(n=s[87]+"")&&Z(i,n)},d(s){s&&V(e)}}}function $s(t){let e,n=t[93]+"",i,r;return{c(){e=_("span"),i=N(n),r=N("  "),b(e,"class","color-blue svelte-pitjfg")},m(s,o){G(s,e,o),u(e,i),u(e,r)},p(s,o){o[0]&1024&&n!==(n=s[93]+"")&&Z(i,n)},d(s){s&&V(e)}}}function xs(t){let e,n=t[90]+"",i,r;return{c(){e=_("span"),i=N(n),r=N("  "),b(e,"class","color-red svelte-pitjfg")},m(s,o){G(s,e,o),u(e,i),u(e,r)},p(s,o){o[0]&1024&&n!==(n=s[90]+"")&&Z(i,n)},d(s){s&&V(e)}}}function er(t){let e,n=t[87]+"",i,r;return{c(){e=_("span"),i=N(n),r=N("  "),b(e,"class","color-purple svelte-pitjfg")},m(s,o){G(s,e,o),u(e,i),u(e,r)},p(s,o){o[0]&1024&&n!==(n=s[87]+"")&&Z(i,n)},d(s){s&&V(e)}}}function tr(t){let e,n,i;return n=new $e({props:{displayTitle:t[9][t[70]].displayTitle,title:t[9][t[70]].title,img:t[9][t[70]].image,trait:t[9][t[70]].trait,traitTitle:t[9][t[70]].traitTitle,race:t[9][t[70]].race,rarity:t[9][t[70]].rarity,points:t[17](t[70],"p1")}}),{c(){e=_("div"),ge(n.$$.fragment),b(e,"class","history__card-wrapper svelte-pitjfg")},m(r,s){G(r,e,s),fe(n,e,null),i=!0},p(r,s){const o={};s[0]&2560&&(o.displayTitle=r[9][r[70]].displayTitle),s[0]&2560&&(o.title=r[9][r[70]].title),s[0]&2560&&(o.img=r[9][r[70]].image),s[0]&2560&&(o.trait=r[9][r[70]].trait),s[0]&2560&&(o.traitTitle=r[9][r[70]].traitTitle),s[0]&2560&&(o.race=r[9][r[70]].race),s[0]&2560&&(o.rarity=r[9][r[70]].rarity),s[0]&2048&&(o.points=r[17](r[70],"p1")),n.$set(o)},i(r){i||(v(n.$$.fragment,r),i=!0)},o(r){D(n.$$.fragment,r),i=!1},d(r){r&&V(e),ue(n)}}}function nr(t){let e,n,i,r;return n=new $e({props:{displayTitle:t[9][t[70]].displayTitle,title:t[9][t[70]].title,img:t[9][t[70]].image,trait:t[9][t[70]].trait,traitTitle:t[9][t[70]].traitTitle,race:t[9][t[70]].race,rarity:t[9][t[70]].rarity,points:t[17](t[70],"p1")}}),{c(){e=_("div"),ge(n.$$.fragment),i=E(),b(e,"class","history__card-wrapper svelte-pitjfg")},m(s,o){G(s,e,o),fe(n,e,null),u(e,i),r=!0},p(s,o){const l={};o[0]&2560&&(l.displayTitle=s[9][s[70]].displayTitle),o[0]&2560&&(l.title=s[9][s[70]].title),o[0]&2560&&(l.img=s[9][s[70]].image),o[0]&2560&&(l.trait=s[9][s[70]].trait),o[0]&2560&&(l.traitTitle=s[9][s[70]].traitTitle),o[0]&2560&&(l.race=s[9][s[70]].race),o[0]&2560&&(l.rarity=s[9][s[70]].rarity),o[0]&2048&&(l.points=s[17](s[70],"p1")),n.$set(l)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){D(n.$$.fragment,s),r=!1},d(s){s&&V(e),ue(n)}}}function ir(t){let e,n,i,r;return n=new $e({props:{displayTitle:t[9][t[70]].displayTitle,title:t[9][t[70]].title,img:t[9][t[70]].image,trait:t[9][t[70]].trait,traitTitle:t[9][t[70]].traitTitle,race:t[9][t[70]].race,rarity:t[9][t[70]].rarity,points:t[17](t[70],"p1")}}),{c(){e=_("div"),ge(n.$$.fragment),i=E(),b(e,"class","history__card-wrapper svelte-pitjfg")},m(s,o){G(s,e,o),fe(n,e,null),u(e,i),r=!0},p(s,o){const l={};o[0]&2560&&(l.displayTitle=s[9][s[70]].displayTitle),o[0]&2560&&(l.title=s[9][s[70]].title),o[0]&2560&&(l.img=s[9][s[70]].image),o[0]&2560&&(l.trait=s[9][s[70]].trait),o[0]&2560&&(l.traitTitle=s[9][s[70]].traitTitle),o[0]&2560&&(l.race=s[9][s[70]].race),o[0]&2560&&(l.rarity=s[9][s[70]].rarity),o[0]&2048&&(l.points=s[17](s[70],"p1")),n.$set(l)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){D(n.$$.fragment,s),r=!1},d(s){s&&V(e),ue(n)}}}function sr(t){let e,n,i,r;return n=new $e({props:{displayTitle:t[9][t[70]].displayTitle,title:t[9][t[70]].title,img:t[9][t[70]].image,trait:t[9][t[70]].trait,traitTitle:t[9][t[70]].traitTitle,race:t[9][t[70]].race,rarity:t[9][t[70]].rarity,points:t[17](t[70],"p1")}}),{c(){e=_("div"),ge(n.$$.fragment),i=E(),b(e,"class","history__card-wrapper svelte-pitjfg")},m(s,o){G(s,e,o),fe(n,e,null),u(e,i),r=!0},p(s,o){const l={};o[0]&2560&&(l.displayTitle=s[9][s[70]].displayTitle),o[0]&2560&&(l.title=s[9][s[70]].title),o[0]&2560&&(l.img=s[9][s[70]].image),o[0]&2560&&(l.trait=s[9][s[70]].trait),o[0]&2560&&(l.traitTitle=s[9][s[70]].traitTitle),o[0]&2560&&(l.race=s[9][s[70]].race),o[0]&2560&&(l.rarity=s[9][s[70]].rarity),o[0]&2048&&(l.points=s[17](s[70],"p1")),n.$set(l)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){D(n.$$.fragment,s),r=!1},d(s){s&&V(e),ue(n)}}}function rr(t){let e,n,i;return n=new $e({props:{displayTitle:t[9][t[70]].displayTitle,title:t[9][t[70]].title,img:t[9][t[70]].image,trait:t[9][t[70]].trait,traitTitle:t[9][t[70]].traitTitle,race:t[9][t[70]].race,rarity:t[9][t[70]].rarity,points:t[17](t[70],"p2")}}),{c(){e=_("div"),ge(n.$$.fragment),b(e,"class","history__card-wrapper svelte-pitjfg")},m(r,s){G(r,e,s),fe(n,e,null),i=!0},p(r,s){const o={};s[0]&1536&&(o.displayTitle=r[9][r[70]].displayTitle),s[0]&1536&&(o.title=r[9][r[70]].title),s[0]&1536&&(o.img=r[9][r[70]].image),s[0]&1536&&(o.trait=r[9][r[70]].trait),s[0]&1536&&(o.traitTitle=r[9][r[70]].traitTitle),s[0]&1536&&(o.race=r[9][r[70]].race),s[0]&1536&&(o.rarity=r[9][r[70]].rarity),s[0]&1024&&(o.points=r[17](r[70],"p2")),n.$set(o)},i(r){i||(v(n.$$.fragment,r),i=!0)},o(r){D(n.$$.fragment,r),i=!1},d(r){r&&V(e),ue(n)}}}function or(t){let e,n,i,r;return n=new $e({props:{displayTitle:t[9][t[70]].displayTitle,title:t[9][t[70]].title,img:t[9][t[70]].image,trait:t[9][t[70]].trait,traitTitle:t[9][t[70]].traitTitle,race:t[9][t[70]].race,rarity:t[9][t[70]].rarity,points:t[17](t[70],"p2")}}),{c(){e=_("div"),ge(n.$$.fragment),i=E(),b(e,"class","history__card-wrapper svelte-pitjfg")},m(s,o){G(s,e,o),fe(n,e,null),u(e,i),r=!0},p(s,o){const l={};o[0]&1536&&(l.displayTitle=s[9][s[70]].displayTitle),o[0]&1536&&(l.title=s[9][s[70]].title),o[0]&1536&&(l.img=s[9][s[70]].image),o[0]&1536&&(l.trait=s[9][s[70]].trait),o[0]&1536&&(l.traitTitle=s[9][s[70]].traitTitle),o[0]&1536&&(l.race=s[9][s[70]].race),o[0]&1536&&(l.rarity=s[9][s[70]].rarity),o[0]&1024&&(l.points=s[17](s[70],"p2")),n.$set(l)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){D(n.$$.fragment,s),r=!1},d(s){s&&V(e),ue(n)}}}function ar(t){let e,n,i,r;return n=new $e({props:{displayTitle:t[9][t[70]].displayTitle,title:t[9][t[70]].title,img:t[9][t[70]].image,trait:t[9][t[70]].trait,traitTitle:t[9][t[70]].traitTitle,race:t[9][t[70]].race,rarity:t[9][t[70]].rarity,points:t[17](t[70],"p2")}}),{c(){e=_("div"),ge(n.$$.fragment),i=E(),b(e,"class","history__card-wrapper svelte-pitjfg")},m(s,o){G(s,e,o),fe(n,e,null),u(e,i),r=!0},p(s,o){const l={};o[0]&1536&&(l.displayTitle=s[9][s[70]].displayTitle),o[0]&1536&&(l.title=s[9][s[70]].title),o[0]&1536&&(l.img=s[9][s[70]].image),o[0]&1536&&(l.trait=s[9][s[70]].trait),o[0]&1536&&(l.traitTitle=s[9][s[70]].traitTitle),o[0]&1536&&(l.race=s[9][s[70]].race),o[0]&1536&&(l.rarity=s[9][s[70]].rarity),o[0]&1024&&(l.points=s[17](s[70],"p2")),n.$set(l)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){D(n.$$.fragment,s),r=!1},d(s){s&&V(e),ue(n)}}}function lr(t){let e,n,i,r;return n=new $e({props:{displayTitle:t[9][t[70]].displayTitle,title:t[9][t[70]].title,img:t[9][t[70]].image,trait:t[9][t[70]].trait,traitTitle:t[9][t[70]].traitTitle,race:t[9][t[70]].race,rarity:t[9][t[70]].rarity,points:t[17](t[70],"p2")}}),{c(){e=_("div"),ge(n.$$.fragment),i=E(),b(e,"class","history__card-wrapper svelte-pitjfg")},m(s,o){G(s,e,o),fe(n,e,null),u(e,i),r=!0},p(s,o){const l={};o[0]&1536&&(l.displayTitle=s[9][s[70]].displayTitle),o[0]&1536&&(l.title=s[9][s[70]].title),o[0]&1536&&(l.img=s[9][s[70]].image),o[0]&1536&&(l.trait=s[9][s[70]].trait),o[0]&1536&&(l.traitTitle=s[9][s[70]].traitTitle),o[0]&1536&&(l.race=s[9][s[70]].race),o[0]&1536&&(l.rarity=s[9][s[70]].rarity),o[0]&1024&&(l.points=s[17](s[70],"p2")),n.$set(l)},i(s){r||(v(n.$$.fragment,s),r=!0)},o(s){D(n.$$.fragment,s),r=!1},d(s){s&&V(e),ue(n)}}}function $a(t){let e,n,i,r,s,o=!t[2]&&zs(t);const l=[Ya,Ka],c=[];function d(m,y){return m[3]?0:1}return i=d(t),r=c[i]=l[i](t),{c(){e=_("main"),o&&o.c(),n=E(),r.c()},m(m,y){G(m,e,y),o&&o.m(e,null),u(e,n),c[i].m(e,null),s=!0},p(m,y){m[2]?o&&(Re(),D(o,1,1,()=>{o=null}),Pe()):o?(o.p(m,y),y[0]&4&&v(o,1)):(o=zs(m),o.c(),v(o,1),o.m(e,n));let w=i;i=d(m),i===w?c[i].p(m,y):(Re(),D(c[w],1,1,()=>{c[w]=null}),Pe(),r=c[i],r?r.p(m,y):(r=c[i]=l[i](m),r.c()),v(r,1),r.m(e,null))},i(m){s||(v(o),v(r),s=!0)},o(m){D(o),D(r),s=!1},d(m){m&&V(e),o&&o.d(),c[i].d()}}}function xa(t,e){let n=t.hand.filter(r=>r==="protectron").length,i=t.hand.filter(r=>r==="virus").length;t.hand.includes("ai")&&(n+=e.hand.filter(r=>r==="protectron").length,i+=e.hand.filter(r=>r==="virus").length),t.hand.forEach(r=>{r==="virus"&&(t.points.bots+=8),r==="protectron"&&(t.points.bots+=n*i)}),t.hand.includes("ai")&&e.hand.forEach(r=>{r==="virus"&&(t.points.bots+=8),r==="protectron"&&(t.points.bots+=n*i)})}function el(t,e,n){let i,r,s,o,l,c,d,m,y,w,O,R,I,A,Y;Be(t,un,a=>n(9,i=a)),Be(t,Io,a=>n(24,r=a)),Be(t,ce,a=>n(10,s=a)),Be(t,le,a=>n(11,o=a)),Be(t,Fo,a=>n(25,l=a)),Be(t,Vo,a=>n(26,c=a)),Be(t,Uo,a=>n(27,d=a)),Be(t,Ho,a=>n(28,m=a)),Be(t,jo,a=>n(29,y=a)),Be(t,qo,a=>n(30,w=a)),Be(t,Mo,a=>n(31,O=a)),Be(t,No,a=>n(32,R=a)),Be(t,Lo,a=>n(33,I=a)),Be(t,fn,a=>n(34,A=a)),Be(t,cn,a=>n(35,Y=a));let k=Wn("http://192.168.2.10:6912"),j=!1,ne=!1,oe=!1,M=!0,X="",te="",H=0,J=!1,me="",he=!1,z={...i},T={beasts:[...I],bots:[...R],dwarves:[...r],elves:[...O],goblins:[...w],humans:[...y],xenos:[...m],boosts:[...d],traps:[...c],neutrals:[...l]},F=Object.keys(T);_r(()=>{k.on("connect",()=>console.log(`User ID: ${k.id} connected!`)),k.on("connect_error",a=>console.error("Connection error:",a)),k.on("set-users",a=>{Object.entries(a).forEach(([p,C])=>{le.update(S=>(S.id=a.p1,S)),cn.set({...o}),ce.update(S=>(S.id=a.p2,S)),fn.set({...s})})}),k.on("game-started",a=>{L(),le.set(a.player1),ce.set(a.player2),T={...a.fullDeck}}),k.on("add-turn-count",()=>n(5,H++,H)),k.on("turn-changed",a=>{le.update(p=>(p.turn=!a.player1.turn,p.playingTwice=!1,p.hasVision=!1,p)),ce.update(p=>(p.turn=!a.player2.turn,p.playingTwice=!1,p.hasVision=!1,p))}),k.on("turn-count-increased",()=>n(5,H+=3)),k.on("card-drawn",a=>{T={...a.fullDeck},F=a.deckTypes,le.set(a.player1),ce.set(a.player2)}),k.on("hands-swapped",a=>{le.set(a.player1),ce.set(a.player2)}),k.on("deck-neutralized",()=>Ot()),k.on("event-displayed",a=>En(a)),k.on("card-discarded",a=>{le.set(a.player1),ce.set(a.player2)}),k.on("gdg-declared",()=>n(0,j=!0)),k.on("end-game-sync-started",a=>{ie()==="p1"&&ce.set(a.player2),ie()==="p2"&&le.set(a.player1),z={...a.cardDetails},k.emit("finish-end-game-sync",{player1:o,player2:s,cardDetails:i})}),k.on("end-game-sync-finished",a=>{le.set(a.player1),ce.set(a.player2),z={...a.cardDetails}}),k.on("game-ended",a=>$()),k.emit("client-ready")});function $(){M=!0,n(2,oe=!1),n(1,ne=!0),le.update(a=>(a.turn=!1,a)),ce.update(a=>(a.turn=!1,a)),qe(o,s),qe(s,o),console.log({p1:o,p2:s}),et(),U(),U(!0),console.log(o,s)}function L(){le.set({...Y}),ce.set({...A}),T={beasts:[...I],bots:[...R],dwarves:[...r],elves:[...O],goblins:[...w],humans:[...y],xenos:[...m],boosts:[...d],traps:[...c],neutrals:[...l]},tt(un,i.warpstalker.points=0,i),tt(un,i.voidRunner.points=0,i),F=Object.keys(T),z={...i},n(5,H=0),M=!1,n(2,oe=!0),n(0,j=!1),n(1,ne=!1),n(3,X="")}function de(){L(),B(o),B(s),Se(),k.emit("start-game",{player1:o,player2:s,fullDeck:T})}function Se(){Math.ceil(Math.random()*2)===1?(tt(le,o.playedFirst=!0,o),tt(le,o.turn=!0,o),tt(ce,s.turn=!1,s)):(tt(ce,s.playedFirst=!0,s),tt(le,o.turn=!1,o),tt(ce,s.turn=!0,s))}function ee(a){a.playingTwice||a.hand.length>=6||(o.playedFirst&&o.turn||s.playedFirst&&s.turn)&&k.emit("new-turn")}function U(a=!1){const p=T.beasts?T.beasts.length:0,C=T.bots?T.bots.length:0,S=T.dwarves?T.dwarves.length:0,se=T.elves?T.elves.length:0,Ae=T.goblins?T.goblins.length:0,re=T.humans?T.humans.length:0,ht=T.xenos?T.xenos.length:0,sn=T.boosts?T.boosts.length:0,Dt=T.traps?T.traps.length:0,rn=T.neutrals?T.neutrals.length:0;if(a)console.log(`Cards remaining per deck:

      Beasts: ${p}

      Humans: ${re}

      Goblins: ${Ae}

      Elves: ${se}

      Dwarves: ${S}
)
      Bots: ${C}
)
      Xenos: ${ht}
)
      Boosts: ${sn}
)
      Traps: ${Dt}
)
      Neutrals: ${rn}
`);else{const on=re+Ae+se+S+C+p+ht+sn+Dt+rn;console.log(`Cards remaining in deck: ${on}`)}}function Le(){return!!(o.id===k.id&&o.turn||s.id===k.id&&s.turn)}function ie(){return o.id===k.id?"p1":s.id===k.id?"p2":"guest"}function Ge(a){return!!(M||ie()==="guest"||ie()==="p1"&&a==="p1"||ie()==="p2"&&a==="p2")}function ae(){k.emit("change-turns",{player1:o,player2:s})}function B(a){a.hand=[];for(let p=1;p<=5;p++){let C=Math.floor(Math.random()*F.length),S=F[C];C=Math.floor(Math.random()*T[S].length);const se=T[S][C],Ae=T[S].indexOf(se);T[S].splice(Ae,1),a.hand.push(se),["corruption"].includes(se)&&ut(a,se),["chastity"].includes(se)&&en(a,se),["switcharoo"].includes(se)&&mt(a,se)}o===a?le.update(p=>(p.hand=a.hand,p.startingHand=a.hand,p)):ce.update(p=>(p.hand=a.hand,p.startingHand=a.hand,p))}function q(a,p=!0){if(M)return;p&&ee(a);let C="",S="",se=0;if(n(1,ne=!0),p&&a.hand.length===5&&(a.isExposed=!1),a.hand.length>5&&!a.playingTwice||a.hand.length>=7)return;if(a.dwarfNextTurn?C=pe(a):(se=Math.floor(Math.random()*F.length),C=F[se]),F.length===0&&C===void 0){console.log("No more cards!"),n(6,J=!0),k.emit("start-end-game-sync",{player1:o,player2:s,cardDetails:i}),setTimeout(()=>{k.emit("end-game"),n(6,J=!1)},1500);return}if(a.goblinLordMarked)a.goblinLordMarked=!1,T.goblins.length===0?C=F[se]:C="goblins",T.goblins.includes("goblinLord")?S=T.goblins.find(re=>re==="goblinLord"):(se=Math.floor(Math.random()*T[C].length),S=T[C][se]);else{if(C==="elves"&&T.elves.includes("elfChampion")?S=T.elves.find(re=>re==="elfChampion"):(se=Math.floor(Math.random()*T[C].length),S=T[C][se]),a.drewWarchief&&K(a)&&(C="goblins",S="goblinLordsMark"),S==="lost"&&a.hand.includes("chastity")){const re=T[C].indexOf(S);if(T[C].splice(re,1),T[C].length===0){const ht=F.indexOf(C);F.splice(ht,1)}q(a,!1);return}(S==="longbeardLeader"||S==="dwarfCommander"||S==="dwarvenCall"&&!a.hasCorruption)&&(a.dwarfNextTurn=!0),S==="warchief"&&(a.drewWarchief=!0),S==="goblinLordsMark"&&(a.goblinLordMarked=!0),(S==="warpstalker"||S==="voidRunner")&&$t(a,S),i[S].race==="trap"&&ut(a,S),i[S].race==="boost"&&en(a,S),i[S].race==="neutral"&&mt(a,S)}const Ae=T[C].indexOf(S);if(T[C].splice(Ae,1),T[C].length===0){const re=F.indexOf(C);F.splice(re,1)}ie()==="p1"?le.update(re=>(re.hand=[...re.hand,S],re.cardsDrawn=[...a.cardsDrawn,S],re)):ce.update(re=>(re.hand=[...re.hand,S],re.cardsDrawn=[...a.cardsDrawn,S],re)),k.emit("draw-card",{player1:o,player2:s,deckTypes:F,fullDeck:T})}function pe(a){a.dwarfNextTurn=!1;let p="",C=0;return T.dwarves&&T.dwarves.length!==0?p="dwarves":(C=Math.floor(Math.random()*F.length),p=F[C]),p}function K(a){return a.drewWarchief=!1,!!(T.goblins&&T.goblins.includes("goblinLordsMark"))}function Ne(){M||ie()!=="guest"&&(Le()&&o.turn&&q(o),Le()&&s.turn&&q(s))}function xe(a){if(!Le())return;const p=ie()==="p1"?o:s;if(o.turn){const C=o.hand.indexOf(a);le.update(S=>(S.hand.splice(C,1),S.discards=[...S.discards,a],S))}else if(s.turn){const C=s.hand.indexOf(a);ce.update(S=>(S.hand.splice(C,1),S.discards=[...S.discards,a],S))}k.emit("discard-card",{player1:o,player2:s}),a==="switcharoo"&&p.hand.length===5&&!j&&gt(),p.playingTwice&&a!=="echo"&&(p.playingTwice=!1),a==="alchemist"&&(p.dwarfNextTurn=Math.random()<.5),!(p.hand.length>5)&&(j?(n(6,J=!0),k.emit("start-end-game-sync",{player1:o,player2:s,cardDetails:i}),setTimeout(()=>{k.emit("end-game"),n(6,J=!1)},1500)):(ae(),n(1,ne=!1)))}function gt(){k.emit("display-event","switcharoo");let a=[...s.hand];ce.update(p=>(p.hand=[...o.hand],p)),le.update(p=>(p.hand=[...a],p)),k.emit("swap-hands",{player1:o,player2:s})}function Ie(a,p){let C=a.detail.title;p.length>5&&xe(C)}function at(){Le()&&(M||(j?(n(6,J=!0),k.emit("start-end-game-sync",{player1:o,player2:s,cardDetails:i}),setTimeout(()=>{k.emit("end-game"),n(6,J=!1)},1500)):(console.log("Gobbledegook declared!!"),ae(),n(0,j=!0),k.emit("gdg-declared"))))}function et(){o.highestPoints>s.highestPoints?(le.update(a=>(a.wins+=1,a)),cn.update(a=>(a.wins+=1,a)),ce.update(a=>(a.losses+=1,a)),fn.update(a=>(a.losses+=1,a)),n(3,X=`Player 1 is the winner with ${o.highestPoints} points!🎊🥳🍾`),n(4,te=`Player 2 loses with ${s.highestPoints} points...${s.highestPoints<=0?"💩💩💩":"💩"}`)):s.highestPoints>o.highestPoints?(le.update(a=>(a.losses+=1,a)),cn.update(a=>(a.losses+=1,a)),ce.update(a=>(a.wins+=1,a)),fn.update(a=>(a.wins+=1,a)),n(3,X=`Player 2 is the winner with ${s.highestPoints} points!🎊🥳🍾`),n(4,te=`Player 1 loses with ${o.highestPoints} points...${o.highestPoints<=0?"💩💩💩":"💩"}`)):o.highestPoints===5e5&&s.highestPoints===5e5?(le.update(a=>(a.draws+=1,a)),cn.update(a=>(a.draws+=1,a)),ce.update(a=>(a.draws+=1,a)),fn.update(a=>(a.draws+=1,a)),n(3,X="It seems neither the goblins nor the elves want to go to war with each other while their leaders are on the field..."),n(4,te=" it's a draw!😓😓😓")):(le.update(a=>(a.draws+=1,a)),ce.update(a=>(a.draws+=1,a)),n(3,X=`Player 1 had ${o.highestPoints} points and player 2 had ${s.highestPoints} points...`),n(4,te=" it's a draw!😓"))}function Ce(a){a.hand.forEach(p=>{const C=i[p].race;switch(C){case"beast":a.points.beasts+=i[p].points;break;case"bot":i[p].title==="faeBot"&&(a.points.elves+=i[p].points),a.points.bots+=i[p].points;break;case"elf":a.points.elves+=i[p].points;break;case"dwarf":i[p].title==="hobbit"&&(a.points.humans+=i[p].points),a.points.dwarves+=i[p].points;break;case"goblin":a.points.goblins+=i[p].points;break;case"human":a.points.humans+=i[p].points;break;case"xeno":a.points.xenos+=ie()==="p1"&&a===o||ie()==="p2"&&a===s?i[p].points:z[p].points;break;default:console.log(`Didn't match a race? This was the race of the card: ${C}`)}a.highestPoints=Math.max(a.points.beasts,a.points.bots,a.points.dwarves,a.points.elves,a.points.goblins,a.points.humans,a.points.xenos)})}function qe(a,p){Ce(a),p.hand.includes("ai")&&(a.points.bots=0),a.hand.includes("commander")&&Qt(a),a.hand.includes("emperor")&&Bt(a),a.hand.includes("goblinLord")&&vn(a,p),a.hand.includes("elfKing")&&Rt(a,p),a.hand.includes("dreamDestroyer")&&Pt(a),a.hand.includes("dreamDestroyer")&&Pt(a),a.hand.includes("ai")&&kn(a,p),a.hand.includes("protectron")&&xa(a,p),a.hand.includes("longbeardLeader")&&Zt(a),a.hand.includes("nelladan")&&a.hand.includes("nadallen")&&(a.points.elves+=10),a.hand.includes("nebulite")&&$t(a,"nebulite"),tn(a),Tn(a),nn(a),a.highestPoints=Math.max(a.points.beasts,a.points.bots,a.points.dwarves,a.points.elves,a.points.goblins,a.points.humans,a.points.xenos)}function Bt(a){a.points.humans*=2,a.hand.forEach(p=>{i[p].race!=="human"&&i[p].race!=="xeno"&&i[p].title!=="hobbit"&&(a.points.humans+=i[p].points)})}function Qt(a){let p=a.hand.filter(C=>C==="commander").length;a.hand.forEach(C=>{(i[C].race==="human"||i[C].title==="hobbit")&&(a.points.humans+=p)})}function vn(a,p){const C=a.hand.every(Ae=>i[Ae].race==="goblin");console.log(`from inside calculateGoblinLord, goblinHand = ${C}`);const S=p.hand.every(Ae=>i[Ae].race==="elf"),se=p.hand.includes("elfKing");C&&S&&se?a.points.goblins=5e5:C&&(a.points.goblins=1e6)}function Rt(a,p){const C=p.hand.every(Ae=>i[Ae].race==="goblin"),S=a.hand.every(Ae=>i[Ae].race==="elf"||i[Ae].title==="faeBot"),se=p.hand.includes("goblinLord");C&&se&&S?a.points.elves=5e5:S?a.points.elves*=3:a.points.elves*=2}function Pt(a){a.points.beasts=0,a.hand.forEach(p=>{i[p].race==="beast"&&(a.points.beasts+=12)})}function kn(a,p){a.points.bots=0,p.points.bots=0,a.hand.forEach(C=>{i[C].race==="bot"&&(a.points.bots+=i[C].points+2)}),p.hand.forEach(C=>{i[C].race==="bot"&&(a.points.bots+=i[C].points+2)})}function Zt(a){let p=0;o.discards.forEach(C=>{r.includes(C)&&(p+=1)}),s.discards.forEach(C=>{r.includes(C)&&(p+=1)}),a.points.dwarves+=p*5}function $t(a,p){p==="warpstalker"&&tt(un,i[p].points=Math.ceil(Math.random()*7)+6,i),p==="voidRunner"&&tt(un,i[p].points=H,i),p==="nebulite"&&a.hand.forEach(C=>{i[C].race==="xeno"&&i[C].title!=="nebulite"&&(a.points.xenos+=4)})}function xt(a,p){if(!["warpstalker","voidRunner"].includes(a))return i[a].points;if(ie()===p){if(a==="warpstalker")return i.warpstalker.points;if(a==="voidRunner")return i.voidRunner.points}else{if(a==="warpstalker")return z.warpstalker.points;if(a==="voidRunner")return z.voidRunner.points}}function en(a,p){a.boosts=[...a.boosts,p],p==="chastity"&&(a.hasChastity=!0),p==="charge"&&(a.chargeDrawnTurns=[...a.chargeDrawnTurns,H])}function tn(a){if(!(a.hand.includes("xenoguard")||a.hand.includes("corruption")||a.discards.includes("corruption"))){for(let p=0;p<a.chargeDrawnTurns.length;p++)a.chargePoints+=H-a.chargeDrawnTurns[p];a.points.bots+=a.chargePoints,a.points.humans+=a.chargePoints,a.boosts.forEach(p=>{p==="rejuvenate"&&Object.entries(a.points).forEach(([C,S])=>a.points[C]+=10)})}}function ut(a,p){a.traps=[...a.traps,p],p==="corruption"&&(a.hasCorruption=!0),p==="infect"&&(a.infectDrawnTurns=[...a.infectDrawnTurns,H]),p==="exposed"&&!a.hasChastity&&!a.hand.includes("chastity")&&(a.isExposed=!0)}function Tn(a){if(!(a.hand.includes("rhino")||a.hand.includes("chastity")||a.discards.includes("chastity"))){for(let p=0;p<a.infectDrawnTurns.length;p++)a.infectPoints+=H-a.infectDrawnTurns[p];Object.entries(a.points).forEach(([p,C])=>a.points[p]-=a.infectPoints),a.traps.forEach(p=>{p==="sap"&&Object.entries(a.points).forEach(([C,S])=>a.points[C]-=10),p==="xenophobia"&&(a.points.xenos-=10)})}}function mt(a,p){a.neutrals=[...a.neutrals,p],p==="echo"&&(a.playingTwice=!0),p==="vision"&&(a.hasVision=!0),p==="ticktock"&&(k.emit("increase-turn-count"),k.emit("display-event","ticktock")),p==="neutralize"&&k.emit("neutralize-deck"),p==="xenoBloom"&&k.emit("display-event","xenoBloom")}function Ot(){k.emit("display-event","neutralize"),le.update(a=>(a.boosts=[],a.traps=[],a.neutrals=[],a.chargeDrawnTurns=[],a.infectDrawnTurns=[],a.hasChastity=!1,a.hasCorruption=!1,a.hasVision=!1,a.isExposed=!1,a.chargePoints=0,a.infectPoints=0,a)),ce.update(a=>(a.boosts=[],a.traps=[],a.neutrals=[],a.chargeDrawnTurns=[],a.infectDrawnTurns=[],a.hasChastity=!1,a.hasCorruption=!1,a.hasVision=!1,a.isExposed=!1,a.chargePoints=0,a.infectPoints=0,a))}function nn(a){a.neutrals.forEach(p=>{p==="xenoBloom"&&(le.update(C=>(C.points.xenos+=15,C)),ce.update(C=>(C.points.xenos+=15,C)))})}function En(a){n(8,he=!0),setTimeout(()=>n(8,he=!1),2e3),a==="neutralize"&&n(7,me="Neutralized!"),a==="switcharoo"&&n(7,me="Switcharoo!"),a==="xenoBloom"&&n(7,me="XenoBloom!"),a==="ticktock"&&n(7,me="Tick Tock!")}return[j,ne,oe,X,te,H,J,me,he,i,s,o,de,Ge,Ne,Ie,at,xt,a=>Ie(a,o.hand),a=>Ie(a,s.hand)]}class tl extends ft{constructor(e){super(),ct(this,e,el,$a,ot,{},null,[-1,-1,-1,-1])}}function nl(t){let e,n,i;return n=new tl({}),{c(){e=_("main"),ge(n.$$.fragment),b(e,"class","svelte-hd17me")},m(r,s){G(r,e,s),fe(n,e,null),i=!0},p:x,i(r){i||(v(n.$$.fragment,r),i=!0)},o(r){D(n.$$.fragment,r),i=!1},d(r){r&&V(e),ue(n)}}}class cr extends ft{constructor(e){super(),ct(this,e,null,nl,ot,{})}}function il(t){let e,n,i,r;return e=new hs({props:{path:"/home",component:cr}}),i=new hs({props:{path:"/",component:cr}}),{c(){ge(e.$$.fragment),n=E(),ge(i.$$.fragment)},m(s,o){fe(e,s,o),G(s,n,o),fe(i,s,o),r=!0},p:x,i(s){r||(v(e.$$.fragment,s),v(i.$$.fragment,s),r=!0)},o(s){D(e.$$.fragment,s),D(i.$$.fragment,s),r=!1},d(s){ue(e,s),s&&V(n),ue(i,s)}}}function sl(t){let e,n;return e=new Do({props:{$$slots:{default:[il]},$$scope:{ctx:t}}}),{c(){ge(e.$$.fragment)},m(i,r){fe(e,i,r),n=!0},p(i,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){D(e.$$.fragment,i),n=!1},d(i){ue(e,i)}}}class rl extends ft{constructor(e){super(),ct(this,e,null,sl,ot,{})}}new rl({target:document.getElementById("app")});
