(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Z(){}const Zn=t=>t;function Xn(t,e){for(const n in e)t[n]=e[n];return t}function $r(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function mr(t){return t()}function Zi(){return Object.create(null)}function mt(t){t.forEach(mr)}function Jt(t){return typeof t=="function"}function et(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let qn;function xi(t,e){return qn||(qn=document.createElement("a")),qn.href=e,t===qn.href}function Qr(t){return Object.keys(t).length===0}function _r(t,...e){if(t==null)return Z;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Pe(t,e,n){t.$$.on_destroy.push(_r(e,n))}function wn(t,e,n,i){if(t){const s=br(t,e,n,i);return t[0](s)}}function br(t,e,n,i){return t[1]&&i?Xn(n.ctx.slice(),t[1](i(e))):n.ctx}function yn(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let c=0;c<o;c+=1)r[c]=e.dirty[c]|s[c];return r}return e.dirty|s}return e.dirty}function vn(t,e,n,i,s,r){if(s){const o=br(e,n,i,r);t.p(o,s)}}function kn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function es(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function nt(t,e,n){return t.set(n),e}function ts(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const wr=typeof window<"u";let Ti=wr?()=>window.performance.now():()=>Date.now(),Ci=wr?t=>requestAnimationFrame(t):Z;const Xt=new Set;function yr(t){Xt.forEach(e=>{e.c(t)||(Xt.delete(e),e.f())}),Xt.size!==0&&Ci(yr)}function Ei(t){let e;return Xt.size===0&&Ci(yr),{promise:new Promise(n=>{Xt.add(e={c:t,f:n})}),abort(){Xt.delete(e)}}}function f(t,e){t.appendChild(e)}function vr(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Zr(t){const e=w("style");return xr(vr(t),e),e.sheet}function xr(t,e){return f(t.head||t,e),e.sheet}function z(t,e,n){t.insertBefore(e,n||null)}function V(t){t.parentNode&&t.parentNode.removeChild(t)}function Me(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function ns(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function L(t){return document.createTextNode(t)}function k(){return L(" ")}function $t(){return L("")}function Qt(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function eo(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.data!==e&&(t.data=e)}function kr(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,i,e),s}function is(t,e){return new t(e)}const Yn=new Map;let Jn=0;function to(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function no(t,e){const n={stylesheet:Zr(e),rules:{}};return Yn.set(t,n),n}function $n(t,e,n,i,s,r,o,c=0){const l=16.666/i;let d=`{
`;for(let T=0;T<=1;T+=l){const W=e+(n-e)*r(T);d+=T*100+`%{${o(W,1-W)}}
`}const g=d+`100% {${o(n,1-n)}}
}`,m=`__svelte_${to(g)}_${c}`,_=vr(t),{stylesheet:A,rules:B}=Yn.get(_)||no(_,t);B[m]||(B[m]=!0,A.insertRule(`@keyframes ${m} ${g}`,A.cssRules.length));const S=t.style.animation||"";return t.style.animation=`${S?`${S}, `:""}${m} ${i}ms linear ${s}ms 1 both`,Jn+=1,m}function Qn(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),Jn-=s,Jn||io())}function io(){Ci(()=>{Jn||(Yn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&V(e)}),Yn.clear())})}let _n;function ft(t){_n=t}function Zt(){if(!_n)throw new Error("Function called outside component initialization");return _n}function Tr(t){Zt().$$.on_mount.push(t)}function so(t){Zt().$$.on_destroy.push(t)}function ro(){const t=Zt();return(e,n,{cancelable:i=!1}={})=>{const s=t.$$.callbacks[e];if(s){const r=kr(e,n,{cancelable:i});return s.slice().forEach(o=>{o.call(t,r)}),!r.defaultPrevented}return!0}}function ai(t,e){return Zt().$$.context.set(t,e),e}function di(t){return Zt().$$.context.get(t)}function zn(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const jt=[],ss=[];let Yt=[];const rs=[],oo=Promise.resolve();let pi=!1;function ao(){pi||(pi=!0,oo.then(Ai))}function rt(t){Yt.push(t)}const li=new Set;let zt=0;function Ai(){if(zt!==0)return;const t=_n;do{try{for(;zt<jt.length;){const e=jt[zt];zt++,ft(e),lo(e.$$)}}catch(e){throw jt.length=0,zt=0,e}for(ft(null),jt.length=0,zt=0;ss.length;)ss.pop()();for(let e=0;e<Yt.length;e+=1){const n=Yt[e];li.has(n)||(li.add(n),n())}Yt.length=0}while(jt.length);for(;rs.length;)rs.pop()();pi=!1,li.clear(),ft(t)}function lo(t){if(t.fragment!==null){t.update(),mt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(rt)}}function co(t){const e=[],n=[];Yt.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Yt=e}let hn;function Bi(){return hn||(hn=Promise.resolve(),hn.then(()=>{hn=null})),hn}function Bt(t,e,n){t.dispatchEvent(kr(`${e?"intro":"outro"}${n}`))}const Wn=new Set;let it;function Be(){it={r:0,c:[],p:it}}function Re(){it.r||mt(it.c),it=it.p}function v(t,e){t&&t.i&&(Wn.delete(t),t.i(e))}function O(t,e,n,i){if(t&&t.o){if(Wn.has(t))return;Wn.add(t),it.c.push(()=>{Wn.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Ri={duration:0};function Pi(t,e,n){const i={direction:"in"};let s=e(t,n,i),r=!1,o,c,l=0;function d(){o&&Qn(t,o)}function g(){const{delay:_=0,duration:A=300,easing:B=Zn,tick:S=Z,css:T}=s||Ri;T&&(o=$n(t,0,1,A,_,B,T,l++)),S(0,1);const W=Ti()+_,C=W+A;c&&c.abort(),r=!0,rt(()=>Bt(t,!0,"start")),c=Ei(F=>{if(r){if(F>=C)return S(1,0),Bt(t,!0,"end"),d(),r=!1;if(F>=W){const te=B((F-W)/A);S(te,1-te)}}return r})}let m=!1;return{start(){m||(m=!0,Qn(t),Jt(s)?(s=s(i),Bi().then(g)):g())},invalidate(){m=!1},end(){r&&(d(),r=!1)}}}function Cr(t,e,n){const i={direction:"out"};let s=e(t,n,i),r=!0,o;const c=it;c.r+=1;function l(){const{delay:d=0,duration:g=300,easing:m=Zn,tick:_=Z,css:A}=s||Ri;A&&(o=$n(t,1,0,g,d,m,A));const B=Ti()+d,S=B+g;rt(()=>Bt(t,!1,"start")),Ei(T=>{if(r){if(T>=S)return _(0,1),Bt(t,!1,"end"),--c.r||mt(c.c),!1;if(T>=B){const W=m((T-B)/g);_(1-W,W)}}return r})}return Jt(s)?Bi().then(()=>{s=s(i),l()}):l(),{end(d){d&&s.tick&&s.tick(1,0),r&&(o&&Qn(t,o),r=!1)}}}function os(t,e,n,i){const s={direction:"both"};let r=e(t,n,s),o=i?0:1,c=null,l=null,d=null;function g(){d&&Qn(t,d)}function m(A,B){const S=A.b-o;return B*=Math.abs(S),{a:o,b:A.b,d:S,duration:B,start:A.start,end:A.start+B,group:A.group}}function _(A){const{delay:B=0,duration:S=300,easing:T=Zn,tick:W=Z,css:C}=r||Ri,F={start:Ti()+B,b:A};A||(F.group=it,it.r+=1),c||l?l=F:(C&&(g(),d=$n(t,o,A,S,B,T,C)),A&&W(0,1),c=m(F,S),rt(()=>Bt(t,A,"start")),Ei(te=>{if(l&&te>l.start&&(c=m(l,S),l=null,Bt(t,c.b,"start"),C&&(g(),d=$n(t,o,c.b,c.duration,0,T,r.css))),c){if(te>=c.end)W(o=c.b,1-o),Bt(t,c.b,"end"),l||(c.b?g():--c.group.r||mt(c.group.c)),c=null;else if(te>=c.start){const ge=te-c.start;o=c.a+c.d*T(ge/c.duration),W(o,1-o)}}return!!(c||l)}))}return{run(A){Jt(r)?Bi().then(()=>{r=r(s),_(A)}):_(A)},end(){g(),c=l=null}}}function as(t,e){const n=e.token={};function i(s,r,o,c){if(e.token!==n)return;e.resolved=c;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=c);const d=s&&(e.current=s)(l);let g=!1;e.block&&(e.blocks?e.blocks.forEach((m,_)=>{_!==r&&m&&(Be(),O(m,1,1,()=>{e.blocks[_]===m&&(e.blocks[_]=null)}),Re())}):e.block.d(1),d.c(),v(d,1),d.m(e.mount(),e.anchor),g=!0),e.block=d,e.blocks&&(e.blocks[r]=d),g&&Ai()}if($r(t)){const s=Zt();if(t.then(r=>{ft(s),i(e.then,1,e.value,r),ft(null)},r=>{if(ft(s),i(e.catch,2,e.error,r),ft(null),!e.hasCatch)throw r}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function uo(t,e,n){const i=e.slice(),{resolved:s}=t;t.current===t.then&&(i[t.value]=s),t.current===t.catch&&(i[t.error]=s),t.block.p(i,n)}function fo(t,e){const n={},i={},s={$$scope:1};let r=t.length;for(;r--;){const o=t[r],c=e[r];if(c){for(const l in o)l in c||(i[l]=1);for(const l in c)s[l]||(n[l]=c[l],s[l]=1);t[r]=c}else for(const l in o)s[l]=1}for(const o in i)o in n||(n[o]=void 0);return n}function ls(t){return typeof t=="object"&&t!==null?t:{}}function ce(t){t&&t.c()}function oe(t,e,n,i){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),i||rt(()=>{const o=t.$$.on_mount.map(mr).filter(Jt);t.$$.on_destroy?t.$$.on_destroy.push(...o):mt(o),t.$$.on_mount=[]}),r.forEach(rt)}function ae(t,e){const n=t.$$;n.fragment!==null&&(co(n.after_update),mt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ho(t,e){t.$$.dirty[0]===-1&&(jt.push(t),ao(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(t,e,n,i,s,r,o,c=[-1]){const l=_n;ft(t);const d=t.$$={fragment:null,ctx:[],props:r,update:Z,not_equal:s,bound:Zi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Zi(),dirty:c,skip_bound:!1,root:e.target||l.$$.root};o&&o(d.root);let g=!1;if(d.ctx=n?n(t,e.props||{},(m,_,...A)=>{const B=A.length?A[0]:_;return d.ctx&&s(d.ctx[m],d.ctx[m]=B)&&(!d.skip_bound&&d.bound[m]&&d.bound[m](B),g&&ho(t,m)),_}):[],d.update(),g=!0,mt(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const m=eo(e.target);d.fragment&&d.fragment.l(m),m.forEach(V)}else d.fragment&&d.fragment.c();e.intro&&v(t.$$.fragment),oe(t,e.target,e.anchor,e.customElement),Ai()}ft(l)}class lt{$destroy(){ae(this,1),this.$destroy=Z}$on(e,n){if(!Jt(n))return Z;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Qr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const cs={},gi={},po={},Er=/^:(.+)/,us=4,go=3,mo=2,_o=1,bo=1,mi=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),ci=t=>t.replace(/(^\/+|\/+$)/g,""),wo=(t,e)=>{const n=t.default?0:mi(t.path).reduce((i,s)=>(i+=us,s===""?i+=bo:Er.test(s)?i+=mo:s[0]==="*"?i-=us+_o:i+=go,i),0);return{route:t,score:n,index:e}},yo=t=>t.map(wo).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),fs=(t,e)=>{let n,i;const[s]=e.split("?"),r=mi(s),o=r[0]==="",c=yo(t);for(let l=0,d=c.length;l<d;l++){const g=c[l].route;let m=!1;if(g.default){i={route:g,params:{},uri:e};continue}const _=mi(g.path),A={},B=Math.max(r.length,_.length);let S=0;for(;S<B;S++){const T=_[S],W=r[S];if(T&&T[0]==="*"){const F=T==="*"?"*":T.slice(1);A[F]=r.slice(S).map(decodeURIComponent).join("/");break}if(typeof W>"u"){m=!0;break}const C=Er.exec(T);if(C&&!o){const F=decodeURIComponent(W);A[C[1]]=F}else if(T!==W){m=!0;break}}if(!m){n={route:g,params:A,uri:"/"+r.slice(0,S).join("/")};break}}return n||i||null},hs=(t,e)=>`${ci(e==="/"?t:`${ci(t)}/${ci(e)}`)}/`,Ar=()=>typeof window<"u"&&"document"in window&&"location"in window,vo=t=>({params:t&4}),ds=t=>({params:t[2]});function ps(t){let e,n,i,s;const r=[To,ko],o=[];function c(l,d){return l[0]?0:1}return e=c(t),n=o[e]=r[e](t),{c(){n.c(),i=$t()},m(l,d){o[e].m(l,d),z(l,i,d),s=!0},p(l,d){let g=e;e=c(l),e===g?o[e].p(l,d):(Be(),O(o[g],1,1,()=>{o[g]=null}),Re(),n=o[e],n?n.p(l,d):(n=o[e]=r[e](l),n.c()),v(n,1),n.m(i.parentNode,i))},i(l){s||(v(n),s=!0)},o(l){O(n),s=!1},d(l){o[e].d(l),l&&V(i)}}}function ko(t){let e;const n=t[8].default,i=wn(n,t,t[7],ds);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,r){i&&i.p&&(!e||r&132)&&vn(i,n,s,s[7],e?yn(n,s[7],r,vo):kn(s[7]),ds)},i(s){e||(v(i,s),e=!0)},o(s){O(i,s),e=!1},d(s){i&&i.d(s)}}}function To(t){let e,n,i,s={ctx:t,current:null,token:null,hasCatch:!1,pending:Ao,then:Eo,catch:Co,value:12,blocks:[,,,]};return as(n=t[0],s),{c(){e=$t(),s.block.c()},m(r,o){z(r,e,o),s.block.m(r,s.anchor=o),s.mount=()=>e.parentNode,s.anchor=e,i=!0},p(r,o){t=r,s.ctx=t,o&1&&n!==(n=t[0])&&as(n,s)||uo(s,t,o)},i(r){i||(v(s.block),i=!0)},o(r){for(let o=0;o<3;o+=1){const c=s.blocks[o];O(c)}i=!1},d(r){r&&V(e),s.block.d(r),s.token=null,s=null}}}function Co(t){return{c:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function Eo(t){var c;let e,n,i;const s=[t[2],t[3]];var r=((c=t[12])==null?void 0:c.default)||t[12];function o(l){let d={};for(let g=0;g<s.length;g+=1)d=Xn(d,s[g]);return{props:d}}return r&&(e=is(r,o())),{c(){e&&ce(e.$$.fragment),n=$t()},m(l,d){e&&oe(e,l,d),z(l,n,d),i=!0},p(l,d){var m;const g=d&12?fo(s,[d&4&&ls(l[2]),d&8&&ls(l[3])]):{};if(d&1&&r!==(r=((m=l[12])==null?void 0:m.default)||l[12])){if(e){Be();const _=e;O(_.$$.fragment,1,0,()=>{ae(_,1)}),Re()}r?(e=is(r,o()),ce(e.$$.fragment),v(e.$$.fragment,1),oe(e,n.parentNode,n)):e=null}else r&&e.$set(g)},i(l){i||(e&&v(e.$$.fragment,l),i=!0)},o(l){e&&O(e.$$.fragment,l),i=!1},d(l){l&&V(n),e&&ae(e,l)}}}function Ao(t){return{c:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function Bo(t){let e,n,i=t[1]&&t[1].route===t[5]&&ps(t);return{c(){i&&i.c(),e=$t()},m(s,r){i&&i.m(s,r),z(s,e,r),n=!0},p(s,[r]){s[1]&&s[1].route===s[5]?i?(i.p(s,r),r&2&&v(i,1)):(i=ps(s),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(Be(),O(i,1,1,()=>{i=null}),Re())},i(s){n||(v(i),n=!0)},o(s){O(i),n=!1},d(s){i&&i.d(s),s&&V(e)}}}function Ro(t,e,n){let i,{$$slots:s={},$$scope:r}=e,{path:o=""}=e,{component:c=null}=e,l={},d={};const{registerRoute:g,unregisterRoute:m,activeRoute:_}=di(gi);Pe(t,_,B=>n(1,i=B));const A={path:o,default:o===""};return g(A),so(()=>{m(A)}),t.$$set=B=>{n(11,e=Xn(Xn({},e),es(B))),"path"in B&&n(6,o=B.path),"component"in B&&n(0,c=B.component),"$$scope"in B&&n(7,r=B.$$scope)},t.$$.update=()=>{if(i&&i.route===A){n(2,l=i.params);const{component:B,path:S,...T}=e;n(3,d=T),B&&(B.toString().startsWith("class ")?n(0,c=B):n(0,c=B())),Ar()&&(window==null||window.scrollTo(0,0))}},e=es(e),[c,i,l,d,_,A,o,r,s]}class gs extends lt{constructor(e){super(),at(this,e,Ro,Bo,et,{path:6,component:0})}}const Wt=[];function Po(t,e){return{subscribe:De(t,e).subscribe}}function De(t,e=Z){let n;const i=new Set;function s(c){if(et(t,c)&&(t=c,n)){const l=!Wt.length;for(const d of i)d[1](),Wt.push(d,t);if(l){for(let d=0;d<Wt.length;d+=2)Wt[d][0](Wt[d+1]);Wt.length=0}}}function r(c){s(c(t))}function o(c,l=Z){const d=[c,l];return i.add(d),i.size===1&&(n=e(s)||Z),c(t),()=>{i.delete(d),i.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}function Oo(t,e,n){const i=!Array.isArray(t),s=i?[t]:t,r=e.length<2;return Po(n,o=>{let c=!1;const l=[];let d=0,g=Z;const m=()=>{if(d)return;g();const A=e(i?l[0]:l,o);r?o(A):g=Jt(A)?A:Z},_=s.map((A,B)=>_r(A,S=>{l[B]=S,d&=~(1<<B),c&&m()},()=>{d|=1<<B}));return c=!0,m(),function(){mt(_),g(),c=!1}})}const ui=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Do=t=>{const e=[];let n=ui(t);return{get location(){return n},listen(i){e.push(i);const s=()=>{n=ui(t),i({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const r=e.indexOf(i);e.splice(r,1)}},navigate(i,{state:s,replace:r=!1}={}){s={...s,key:Date.now()+""};try{r?t.history.replaceState(s,"",i):t.history.pushState(s,"",i)}catch{t.location[r?"replace":"assign"](i)}n=ui(t),e.forEach(o=>o({location:n,action:"PUSH"})),document.activeElement.blur()}}},So=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],i=[];return{get location(){return n[e]},addEventListener(s,r){},removeEventListener(s,r){},history:{get entries(){return n},get index(){return e},get state(){return i[e]},pushState(s,r,o){const[c,l=""]=o.split("?");e++,n.push({pathname:c,search:l}),i.push(s)},replaceState(s,r,o){const[c,l=""]=o.split("?");n[e]={pathname:c,search:l},i[e]=s}}}},Lo=Do(Ar()?window:So()),No=t=>({route:t&2,location:t&1}),ms=t=>({route:t[1]&&t[1].uri,location:t[0]});function Io(t){let e;const n=t[12].default,i=wn(n,t,t[11],ms);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,[r]){i&&i.p&&(!e||r&2051)&&vn(i,n,s,s[11],e?yn(n,s[11],r,No):kn(s[11]),ms)},i(s){e||(v(i,s),e=!0)},o(s){O(i,s),e=!1},d(s){i&&i.d(s)}}}function Mo(t,e,n){let i,s,r,o,{$$slots:c={},$$scope:l}=e,{basepath:d="/"}=e,{url:g=null}=e,{history:m=Lo}=e;ai(po,m);const _=di(cs),A=di(gi),B=De([]);Pe(t,B,M=>n(9,s=M));const S=De(null);Pe(t,S,M=>n(1,o=M));let T=!1;const W=_||De(g?{pathname:g}:m.location);Pe(t,W,M=>n(0,i=M));const C=A?A.routerBase:De({path:d,uri:d});Pe(t,C,M=>n(10,r=M));const F=Oo([C,S],([M,Y])=>{if(!Y)return M;const{path:ne}=M,{route:H,uri:x}=Y;return{path:H.default?ne:H.path.replace(/\*.*$/,""),uri:x}}),te=M=>{const{path:Y}=r;let{path:ne}=M;if(M._path=ne,M.path=hs(Y,ne),typeof window>"u"){if(T)return;const H=fs([M],i.pathname);H&&(S.set(H),T=!0)}else B.update(H=>[...H,M])},ge=M=>{B.update(Y=>Y.filter(ne=>ne!==M))};return _||(Tr(()=>m.listen(Y=>{W.set(Y.location)})),ai(cs,W)),ai(gi,{activeRoute:S,base:C,routerBase:F,registerRoute:te,unregisterRoute:ge}),t.$$set=M=>{"basepath"in M&&n(6,d=M.basepath),"url"in M&&n(7,g=M.url),"history"in M&&n(8,m=M.history),"$$scope"in M&&n(11,l=M.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:M}=r;B.update(Y=>Y.map(ne=>Object.assign(ne,{path:hs(M,ne._path)})))}if(t.$$.dirty&513){const M=fs(s,i.pathname);S.set(M)}},[i,o,B,S,W,C,d,g,m,s,r,l,c]}class qo extends lt{constructor(e){super(),at(this,e,Mo,Io,et,{basepath:6,url:7,history:8})}}function Ho(t){const e=t-1;return e*e*e+1}function bn(t,{delay:e=0,duration:n=400,easing:i=Zn}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*s}`}}function Br(t,{delay:e=0,duration:n=400,easing:i=Ho,x:s=0,y:r=0,opacity:o=0}={}){const c=getComputedStyle(t),l=+c.opacity,d=c.transform==="none"?"":c.transform,g=l*(1-o),[m,_]=ts(s),[A,B]=ts(r);return{delay:e,duration:n,easing:i,css:(S,T)=>`
			transform: ${d} translate(${(1-S)*m}${_}, ${(1-S)*A}${B});
			opacity: ${l-g*T}`}}const de=De({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],chargeDrawnTurns:[],infectDrawnTurns:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargePoints:0,infectPoints:0}),dn=De({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],chargeDrawnTurns:[],infectDrawnTurns:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargePoints:0,infectPoints:0}),pe=De({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargeDrawnTurns:[],infectDrawnTurns:[],chargePoints:0,infectPoints:0}),pn=De({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,wins:0,losses:0,draws:0,playedFirst:!1,playingTwice:!1,turn:!1,dwarfNextTurn:!1,drewWarchief:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],neutrals:[],hasChastity:!1,hasCorruption:!1,hasVision:!1,isExposed:!1,chargeDrawnTurns:[],infectDrawnTurns:[],chargePoints:0,infectPoints:0}),Gt=De({emperor:{title:"emperor",displayTitle:"Emperor",points:10,amount:1,rarity:"legendary",traitTitle:"Unity Pact",trait:"Human points are doubled and all races in your hand except xenos will count towards your final score.",description:"The leader of the human race.",race:"human",image:"/humans/emperor.png"},commander:{title:"commander",displayTitle:"Commander",points:7,amount:2,rarity:"epic",traitTitle:"Rally",trait:"When the commander is in your hand, all humans you have will receive +1 point, including commanders. This effect also stacks with the emperor.",description:"Powerful soldier second only to the emperor.",race:"human",image:"/humans/commander.png"},assassin:{title:"assassin",displayTitle:"Assassin",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A highly skilled professional killer.",race:"human",image:"/humans/assassin.png"},knight:{title:"knight",displayTitle:"Knight",points:5,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A middle ranked soldier.",race:"human",image:"/humans/knight.png"},soldier:{title:"soldier",displayTitle:"Soldier",points:4,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A low ranked soldier.",race:"human",image:"/humans/soldier.png"},scout:{title:"scout",displayTitle:"Scout",points:3,amount:4,rarity:"common",traitTitle:"",trait:"",description:"The lowest ranked in the human army.",race:"human",image:"/humans/scout.png"},villager:{title:"villager",displayTitle:"Villager",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"An innocent villager.",race:"human",image:"/humans/villager.png"},villager2:{title:"villager2",displayTitle:"Villager",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"An innocent villager.",race:"human",image:"/humans/villager2.png"},goblinLord:{title:"goblinLord",displayTitle:"Goblin Lord",points:11,amount:1,rarity:"legendary",traitTitle:"Gobbledegook",trait:"If your hand contains only goblins, you receive an insane amount of bonus points, doesn't count goblin lord's mark. Beware, the elf king can block this trait, resulting in a draw.",description:"The leader of the goblins.",race:"goblin",image:"/goblins/goblin-lord.gif"},goblinLordsMark:{title:"goblinLordsMark",displayTitle:"Goblin Lord's Mark",points:0,amount:1,rarity:"epic",traitTitle:"Death's Mark",trait:"Draw the goblin lord next turn, only applies if this card is drawn. If no goblin lord, draw a goblin.",description:"A sign that the goblin lord is near.",race:"goblin-ish",image:"/goblins/goblin-lord_mark.png"},warchief:{title:"warchief",displayTitle:"Warchief",points:8,amount:1,rarity:"epic",traitTitle:"Chieftain's call",trait:"The next card drawn will be the goblin lord's mark, if it's still in the deck.",description:"Born in battle, this brutal war hungry goblin is second only to the goblin lord himself.",race:"goblin",image:"/goblins/warchief.png"},troll:{title:"troll",displayTitle:"Troll",points:7,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"Loyal high ranked soldier in the goblin army.",race:"goblin",image:"/goblins/troll.png"},shaman:{title:"shaman",displayTitle:"Shaman",points:6,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A magic wielding goblin.",race:"goblin",image:"/goblins/shaman.png"},thief:{title:"thief",displayTitle:"Thief",points:4,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A quick, elusive but weak goblin.",race:"goblin",image:"/goblins/thief.png"},hobgoblin:{title:"hobgoblin",displayTitle:"Hobgoblin",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A low ranked goblin.",race:"goblin",image:"/goblins/hobgoblin.png"},bokoblin:{title:"bokoblin",displayTitle:"Bokoblin",points:2,amount:3,rarity:"common",traitTitle:"",trait:"",description:"The weakest of goblins.",race:"goblin",image:"/goblins/bokoblin.png"},elfKing:{title:"elfKing",displayTitle:"Elf King",points:12,amount:1,rarity:"legendary",traitTitle:"Superior Race",trait:"If your hand contains only elves, they will have their points trippled, otherwise doubled! The elf king also prevents the enemy from using the goblin lord's special trait.",description:"The purest, most powerful and respected leader of the elves.",race:"elf",image:"/elves/elf_king.png"},elfChampion:{title:"elfChampion",displayTitle:"Elf Champion",points:10,amount:1,rarity:"epic",traitTitle:"Stand Guard",trait:"The elf champion is always the first elf drawn.",description:"Destined to be the next elf king, this elf champion lost an arm in battle and came back even more fierce.",race:"elf",image:"/elves/elf_champion.png"},darkElf:{title:"darkElf",displayTitle:"Dark Elf",points:7,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"High ranked powerful elf.",race:"elf",image:"/elves/dark_elf.png"},highElf:{title:"highElf",displayTitle:"High Elf",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"An elf in tune with nature, they're quite strong..",race:"elf",image:"/elves/high_elf.png"},nadallen:{title:"nadallen",displayTitle:"Nadallen",points:5,amount:1,rarity:"rare",traitTitle:"Twin Power",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",description:"The stronger half of the rare elvan twins.",race:"elf",image:"/elves/nadallen.png"},nelladan:{title:"nelladan",displayTitle:"Nelladan",points:2,amount:4,rarity:"uncommon",traitTitle:"Twin Power",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",description:"A rare elvan twin.",race:"elf",image:"/elves/nelladan.png"},woodElf:{title:"woodElf",displayTitle:"Wood Elf",points:4,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"An elf who aspires to be a forest dwelling elf.",race:"elf",image:"/elves/wood_elf.png"},forestDweller:{title:"forestDweller",displayTitle:"Wild Elf",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"An elf with no social status.",race:"elf",image:"/elves/forest_dweller.png"},bard:{title:"bard",displayTitle:"Bard",points:1,amount:3,rarity:"common",traitTitle:"",trait:"",description:"A weak musician.",race:"elf",image:"/elves/bard.png"},longbeardLeader:{title:"longbeardLeader",displayTitle:"Longbeard Leader",points:11,amount:1,rarity:"legendary",traitTitle:"Drunken revenge",trait:"If drawn, the next card will be a dwarf. Additionally, gain 5 points for every discarded dwarf.",description:"The bravest and most feared amongst the dwarves.",race:"dwarf",image:"/dwarves/longbeard-leader.gif"},dwarfCommander:{title:"dwarfCommander",displayTitle:"Dwarf Commander",points:8,amount:2,rarity:"epic",traitTitle:"Recruit",trait:"If drawn, the next card will be a dwarf. Has no effect if there are no remaining dwarves.",description:"Right hand man to the longbeard leader himself.",race:"dwarf",image:"/dwarves/dwarf-commander.png"},alchemist:{title:"alchemist",displayTitle:"Alchemist",points:7,amount:2,rarity:"amazing",traitTitle:"Another Round",trait:"50% chance to draw a dwarf next turn when discarded, does not stack.",description:"A dwarven warrior wielding science as magic.",race:"dwarf",image:"/dwarves/alchemist.png"},dwarfWarrior:{title:"dwarfWarrior",displayTitle:"Dwarf Warrior",points:6,amount:2,rarity:"amazing",traitTitle:"",trait:"",description:"A strong and reliable dwarven warrior.",race:"dwarf",image:"/dwarves/warrior.png"},hunter:{title:"hunter",displayTitle:"Hunter",points:5,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A strong and capable hunter.",race:"dwarf",image:"/dwarves/hunter.png"},traveller:{title:"traveller",displayTitle:"Traveller",points:4,amount:2,rarity:"uncommon",traitTitle:"",trait:"",description:"An adventurous but feeble dwarf.",race:"dwarf",image:"/dwarves/traveller.png"},miner:{title:"miner",displayTitle:"Miner",points:3,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"An average miner, not great in a fight.",race:"dwarf",image:"/dwarves/miner.png"},blacksmith:{title:"blacksmith",displayTitle:"Blacksmith",points:3,amount:2,rarity:"uncommon",traitTitle:"",trait:"",description:"A typical blacksmith, not very strong.",race:"dwarf",image:"/dwarves/blacksmith.png"},hobbit:{title:"hobbit",displayTitle:"Hobbit",points:2,amount:3,rarity:"uncommon",traitTitle:"Half and half.",trait:"Hobbit points count towards both dwarves and humans.",description:"Half dwarf, half human. Although rare and different, they're generally accepted by all dwarves.",race:"dwarf",image:"/dwarves/hobbit.png"},bartender:{title:"bartender",displayTitle:"Bartender",points:1,amount:2,rarity:"common",traitTitle:"",trait:"",description:"A popular dwarf at the local pub, a serious drinker even amongst dwarves..",race:"dwarf",image:"/dwarves/bartender.png"},ai:{title:"ai",displayTitle:"A.I.",points:11,amount:1,rarity:"legendary",traitTitle:"Binary Manipulator",trait:"ALL bots will receive +2 points, effectively quarantining viruses. Additionally, A.I. will hack all bots and steal their points.",description:"The core of the modern bot society, excels in probability computation and hacking.",race:"bot",image:"/bots/ai.png"},protectron:{title:"protectron",displayTitle:"Protectron",points:9,amount:2,rarity:"epic",traitTitle:"Antivirus",trait:"Reprograms viruses into helpful programs, setting their point value to 6. Protectron will also receive +1 point for every reprogrammed virus.",description:"The most advanced battle bot and previous leader of the bots until A.I. took over, now second in command.",race:"bot",image:"/bots/protectron.png"},sawBot:{title:"sawBot",displayTitle:"Sawbot-3000",points:7,amount:4,rarity:"rare",traitTitle:"",trait:"",description:"A bot designed to kill humans and trees, but mostly humans, beware.",race:"bot",image:"/bots/saw-bot.png"},faeBot:{title:"faeBot",displayTitle:"Fae Bot",points:6,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"Counts as both a bot and elf, created as a gift to the elves as a peace treaty.",race:"bot",image:"/bots/fae-bot.png"},killBot:{title:"killBot",displayTitle:"Kill Bot",points:5,amount:4,rarity:"rare",traitTitle:"",trait:"",description:"An aggressive bot, known to attack on sight.",race:"bot",image:"/bots/kill-bot.png"},incuBot:{title:"incuBot",displayTitle:"Incu Bot",points:2,amount:4,rarity:"uncommon",traitTitle:"",trait:"",description:"A weak incubator bot used to repair small bots.",race:"bot",image:"/bots/incu-bot.png"},virus:{title:"virus",displayTitle:"Virus",points:-2,amount:6,rarity:"common",traitTitle:"",trait:"",description:"A common computer virus, can be reprogrammed by protectron or quarantined A.I.",race:"bot",image:"/bots/virus.png"},dreamDestroyer:{title:"dreamDestroyer",displayTitle:"Dream Destroyer",points:12,amount:1,rarity:"legendary",traitTitle:"🤬Roid Rage🤬",trait:"All of your beasts are worth 12 points.",description:"The fiercest creature in the animal kingdom.",race:"beast",image:"/beasts/dream-destroyer.gif"},rhino:{title:"rhino",displayTitle:"Rhinestone",points:10,amount:3,rarity:"amazing",traitTitle:"Thick skin",trait:"Blocks all endgame trap cards.",description:"A feared beast at the top of the food chain.",race:"beast",image:"/beasts/rhino.png"},bear:{title:"bear",displayTitle:"Theo Thunderpaw",points:9,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"A powerful top level beast, matched by few.",race:"beast",image:"/beasts/bear.png"},lion:{title:"lion",displayTitle:"Goldenmane",points:8,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"The original kings of the jungle.",race:"beast",image:"/beasts/lion.png"},panther:{title:"panther",displayTitle:"Panth Nocturna",points:7,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A quick and efficient beast, known to stalk it's prey before pouncing.",race:"beast",image:"/beasts/panther.png"},wolf:{title:"wolf",displayTitle:"Alpha Wolfbane",points:6,amount:3,rarity:"rare",traitTitle:"",trait:"",description:"A lone wolf with the strength of a pack.",race:"beast",image:"/beasts/wolf.png"},fox:{title:"fox",displayTitle:"Finn Foxglove",points:5,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"A fox on steroids.",race:"beast",image:"/beasts/fox.png"},dog:{title:"dog",displayTitle:"Pawl Barkington",points:4,amount:3,rarity:"uncommon",traitTitle:"",trait:"",description:"More bark than bite, recognized as the weakest beast.",race:"beast",image:"/beasts/dog.png"},xenoGuard:{title:"xenoGuard",displayTitle:"Xeno Guard",points:15,amount:3,rarity:"epic",traitTitle:"Antibodies",trait:"Blocks all of your end game boost cards, not the enemy boosts.",description:"The xenoGuard is a highly intelligent and powerful creature, feared by many. It is the most feared creature in the xeno hive, tasked with the safety of the xeno overlord.",race:"xeno",image:"/xenos/xeno_guard.png"},abyssolarian:{title:"abyssolarian",displayTitle:"Abyssolarian",points:10,amount:3,rarity:"epic",traitTitle:"",trait:"",description:"A feral xeno born in the darkest depths of Xenopp. Produces light to lure prey.",race:"xeno",image:"/xenos/abyssolarian.png"},warpstalker:{title:"warpstalker",displayTitle:"Warpstalker",points:0,amount:3,rarity:"epic",traitTitle:"Hive Resonance",trait:"When drawn, a random point value (7-13 inclusive) will be chosen, then applied to ALL ally warpstalkers.",description:"A xeno capable of riftwalking, similar to teleporting over short distances. Sometimes riftwalks to the wrong place.",race:"xeno",image:"/xenos/xeno_placeholder.png"},voidRunner:{title:"voidRunner",displayTitle:"Void Runner",points:0,amount:3,rarity:"epic",traitTitle:"Hive Unity",trait:"When drawn, ALL ally void Runners' points are set to the number of turns passed.",description:"A non sentient xeno who's only purpose is to run and grow stronger. If it ever stops it will die.",race:"xeno",image:"/xenos/xeno_placeholder.png"},nebulite:{title:"nebulite",displayTitle:"Nebulite",points:0,amount:3,rarity:"epic",traitTitle:"Hive Blossom",trait:"Buffs all xenos by +4, does not apply to self and does not stack with other Nebulites.",description:"Artificially created xenos incapable of speech.",race:"xeno",image:"/xenos/xeno_placeholder.png"},celenial:{title:"celenial",displayTitle:"Celenial",points:5,amount:3,rarity:"amazing",traitTitle:"",trait:"",description:"The lowest of the xenos, often mistreated. Excluding the nebulites, celenials are the weakest of the xenos, often used as bait for the abyssolarians.",race:"xeno",image:"/xenos/xeno_placeholder.png"},chastity:{title:"chastity",displayTitle:"Chastity",points:0,amount:1,rarity:"",traitTitle:"Purity",trait:"Active immediately even if discarded. Blocks all trap cards except Corruption, only one exists in deck. If acquired by switcharoo, only active while in hand.",description:"",race:"boost",image:"/boosts/rainbow_boost.png"},rejuvenate:{title:"rejuvenate",displayTitle:"Rejuvenate",points:0,amount:2,rarity:"",traitTitle:"Rejuvenation",trait:"If drawn, player gains 10 points at the end of the game even after this card is discarded",description:"",race:"boost",image:"/boosts/blue_boost.png"},dwarvenCall:{title:"dwarvenCall",displayTitle:"Dwarven Call",points:0,amount:2,rarity:"",traitTitle:"Last Call",trait:"If drawn, next card drawn is a dwarf. If no dwarves are left, draw random card.",description:"",race:"boost",image:"/boosts/ale.png"},charge:{title:"charge",displayTitle:"Charge",points:0,amount:2,rarity:"",traitTitle:"Recharge",trait:"Only affects bots and humans. If drawn, at the end of the game, gain points equal to (amount of turns - turns passed since drawn * charge cards) even if discarded.",description:"",race:"boost",image:"/boosts/charge.png"},corruption:{title:"corruption",displayTitle:"Corruption",points:0,amount:1,rarity:"",traitTitle:"Impurity",trait:"Active immediately even if discarded. Blocks all boost cards except Chastity, only one exists in deck. If acquired by switcharoo, only active while in hand.",description:"",race:"trap",image:"/boosts/rainbow_boost.png"},sap:{title:"sap",displayTitle:"Sap",points:0,amount:2,rarity:"",traitTitle:"Sapped",trait:"If drawn, player loses 10 points at the end of the game even after this card is discarded.",description:"",race:"trap",image:"/traps/red_trap.png"},xenophobia:{title:"xenophobia",displayTitle:"Xenophobia",points:0,amount:1,rarity:"",traitTitle:"Dissociate",trait:"If drawn, xenos lose 10 points at the end of the game even after this card is discarded.",description:"",race:"trap",image:"/traps/xeno_trap.png"},infect:{title:"infect",displayTitle:"Infect",points:0,amount:2,rarity:"",traitTitle:"Infection",trait:"Does not affect bots. If drawn, at the end of the game, lose points equal to (amount of turns - turns passed since drawn * infect cards) even if discarded.",description:"",race:"trap",image:"/traps/green_trap.png"},lost:{title:"lost",displayTitle:"Lost",points:0,amount:2,rarity:"",traitTitle:"Lost",trait:"If drawn, lose a turn because this card is useless.",description:"",race:"trap",image:"/traps/white_trap.png"},exposed:{title:"exposed",displayTitle:"Exposed",points:0,amount:1,rarity:"",traitTitle:"Expose",trait:"If drawn, your hand is exposed until your next turn, unless you have a card that blocks traps.",description:"",race:"trap",image:"/traps/camo_trap.png"},neutralize:{title:"neutralize",displayTitle:"Neutralize",points:0,amount:1,rarity:"",traitTitle:"Neutralize",trait:"When drawn, all boosts and traps in effect are neutralized. Only 1 in deck.",description:"",race:"neutral",image:"/neutrals/neutralize.png"},switcharoo:{title:"switcharoo",displayTitle:"Switcharoo",points:0,amount:2,rarity:"",traitTitle:"Swap Swap",trait:"When discarded, players will swap hands unless player has over 6 cards or gobbledegook declared. For special xeno cards(e.g. Void Runner) they will receive the new player's point value for that card, not the previous value.",description:"",race:"neutral",image:"/neutrals/switcharoo.png"},echo:{title:"echo",displayTitle:"Echo",points:0,amount:3,rarity:"",traitTitle:"Echo Echo",trait:"If drawn, player can draw another card, maximum 7. Discarding echos prolongs this, when you discard a non echo card, you will need to continue discarding down to 5 cards.",description:"",race:"neutral",image:"/neutrals/echo.png"},ticktock:{title:"ticktock",displayTitle:"Ticktock",points:0,amount:2,rarity:"",traitTitle:"Chrono Charge",trait:"If drawn, adds 3 turns.",description:"",race:"neutral",image:"/neutrals/ticktock.png"},vision:{title:"vision",displayTitle:"Vision",points:0,amount:3,rarity:"",traitTitle:"Envision",trait:"If drawn, see the opponents cards for the duration of your turn.",description:"",race:"neutral",image:"/neutrals/vision.png"},xenoBloom:{title:"xenoBloom",displayTitle:"Xeno Bloom",points:0,amount:1,rarity:"",traitTitle:"Bloom",trait:"If drawn, both players receive +15 bonus xeno points at the end of the game.",description:"",race:"neutral",image:"/neutrals/xeno_bloom.png"}}),Uo=De(["dreamDestroyer","rhino","rhino","rhino","bear","bear","bear","lion","lion","lion","panther","panther","panther","wolf","wolf","wolf","fox","fox","fox","dog","dog","dog"]),Vo=De(["ai","protectron","protectron","faeBot","faeBot","faeBot","sawBot","sawBot","sawBot","sawBot","killBot","killBot","killBot","killBot","incuBot","incuBot","incuBot","incuBot","virus","virus","virus","virus","virus","virus"]),Fo=De(["longbeardLeader","dwarfCommander","dwarfCommander","alchemist","alchemist","dwarfWarrior","dwarfWarrior","hunter","hunter","hunter","miner","miner","miner","blacksmith","blacksmith","traveller","traveller","bartender","bartender","hobbit","hobbit","hobbit"]),zo=De(["elfKing","elfChampion","darkElf","darkElf","highElf","highElf","highElf","nadallen","nelladan","nelladan","nelladan","nelladan","woodElf","woodElf","woodElf","forestDweller","forestDweller","forestDweller","bard","bard","bard"]),Wo=De(["goblinLord","warchief","troll","troll","troll","shaman","shaman","shaman","thief","thief","thief","hobgoblin","hobgoblin","hobgoblin","bokoblin","bokoblin","bokoblin","goblinLordsMark"]),jo=De(["emperor","commander","commander","assassin","assassin","assassin","knight","knight","knight","knight","soldier","soldier","soldier","soldier","scout","scout","scout","scout","villager","villager","villager2","villager2"]),Go=De(["xenoGuard","xenoGuard","xenoGuard","abyssolarian","abyssolarian","abyssolarian","warpstalker","warpstalker","warpstalker","voidRunner","voidRunner","voidRunner","celenial","celenial","celenial","nebulite","nebulite","nebulite"]),Ko=De(["chastity","rejuvenate","rejuvenate","charge","charge","dwarvenCall","dwarvenCall"]),Xo=De(["corruption","sap","sap","infect","infect","lost","lost","xenophobia","exposed","exposed"]),Yo=De(["neutralize","echo","echo","echo","switcharoo","switcharoo","ticktock","ticktock","ticktock","vision","vision","xenoBloom"]);function Jo(t){let e,n,i,s,r;const o=t[5].default,c=wn(o,t,t[4],null);return{c(){e=w("button"),c&&c.c(),y(e,"class",n=t[0]+" "+t[1]+" svelte-16lc27q")},m(l,d){z(l,e,d),c&&c.m(e,null),i=!0,s||(r=Qt(e,"click",t[8]),s=!0)},p(l,d){c&&c.p&&(!i||d&16)&&vn(c,o,l,l[4],i?yn(o,l[4],d,null):kn(l[4]),null),(!i||d&3&&n!==(n=l[0]+" "+l[1]+" svelte-16lc27q"))&&y(e,"class",n)},i(l){i||(v(c,l),i=!0)},o(l){O(c,l),i=!1},d(l){l&&V(e),c&&c.d(l),s=!1,r()}}}function $o(t){let e,n,i,s,r;const o=t[5].default,c=wn(o,t,t[4],null);return{c(){e=w("button"),c&&c.c(),y(e,"class",n="round "+t[0]+" svelte-16lc27q")},m(l,d){z(l,e,d),c&&c.m(e,null),i=!0,s||(r=Qt(e,"click",t[7]),s=!0)},p(l,d){c&&c.p&&(!i||d&16)&&vn(c,o,l,l[4],i?yn(o,l[4],d,null):kn(l[4]),null),(!i||d&1&&n!==(n="round "+l[0]+" svelte-16lc27q"))&&y(e,"class",n)},i(l){i||(v(c,l),i=!0)},o(l){O(c,l),i=!1},d(l){l&&V(e),c&&c.d(l),s=!1,r()}}}function Qo(t){let e,n,i,s,r;const o=t[5].default,c=wn(o,t,t[4],null);return{c(){e=w("button"),c&&c.c(),y(e,"type","submit"),y(e,"class",n=t[0]+" "+t[1]+" svelte-16lc27q")},m(l,d){z(l,e,d),c&&c.m(e,null),i=!0,s||(r=Qt(e,"click",t[6]),s=!0)},p(l,d){c&&c.p&&(!i||d&16)&&vn(c,o,l,l[4],i?yn(o,l[4],d,null):kn(l[4]),null),(!i||d&3&&n!==(n=l[0]+" "+l[1]+" svelte-16lc27q"))&&y(e,"class",n)},i(l){i||(v(c,l),i=!0)},o(l){O(c,l),i=!1},d(l){l&&V(e),c&&c.d(l),s=!1,r()}}}function Zo(t){let e,n,i,s;const r=[Qo,$o,Jo],o=[];function c(l,d){return l[3]?0:l[2]?1:2}return e=c(t),n=o[e]=r[e](t),{c(){n.c(),i=$t()},m(l,d){o[e].m(l,d),z(l,i,d),s=!0},p(l,[d]){let g=e;e=c(l),e===g?o[e].p(l,d):(Be(),O(o[g],1,1,()=>{o[g]=null}),Re(),n=o[e],n?n.p(l,d):(n=o[e]=r[e](l),n.c()),v(n,1),n.m(i.parentNode,i))},i(l){s||(v(n),s=!0)},o(l){O(n),s=!1},d(l){o[e].d(l),l&&V(i)}}}function xo(t,e,n){let{$$slots:i={},$$scope:s}=e,{customClasses:r=""}=e,{bgColor:o=""}=e,{round:c=!1}=e,{btnSubmit:l=!1}=e;function d(_){zn.call(this,t,_)}function g(_){zn.call(this,t,_)}function m(_){zn.call(this,t,_)}return t.$$set=_=>{"customClasses"in _&&n(0,r=_.customClasses),"bgColor"in _&&n(1,o=_.bgColor),"round"in _&&n(2,c=_.round),"btnSubmit"in _&&n(3,l=_.btnSubmit),"$$scope"in _&&n(4,s=_.$$scope)},[r,o,c,l,s,i,d,g,m]}class xn extends lt{constructor(e){super(),at(this,e,xo,Zo,et,{customClasses:0,bgColor:1,round:2,btnSubmit:3})}}function ea(t){let e,n,i,s,r,o=bs(t[0])+"",c,l,d,g,m,_,A,B,S,T,W,C,F,te,ge,M,Y,ne,H,x,me,ue,X,J,R,U=t[7]&&_s(t);return{c(){e=w("div"),n=w("img"),s=k(),r=w("p"),c=L(o),d=k(),g=w("p"),m=L(t[4]),A=k(),B=w("p"),S=L(t[2]),W=k(),C=w("div"),F=w("div"),te=w("p"),ge=L(t[6]),M=k(),U&&U.c(),Y=k(),ne=w("p"),H=L(t[7]),y(n,"class","card-img svelte-av0not"),xi(n.src,i=t[3])||y(n,"src",i),y(n,"alt","img of card"),y(r,"class",l="race "+t[0]+"-race svelte-av0not"),y(g,"class",_="points "+t[0]+"-race svelte-av0not"),y(B,"class",T="card-title "+t[0]+"-title svelte-av0not"),y(te,"class","description svelte-av0not"),y(F,"class","bottom-section-wrapper svelte-av0not"),y(C,"class","card-bottom-section svelte-av0not"),y(e,"class",x="card bg-"+t[0]+(t[5]==="legendary"?"-rare":"")+" svelte-av0not")},m(I,ie){z(I,e,ie),f(e,n),f(e,s),f(e,r),f(r,c),f(e,d),f(e,g),f(g,m),f(e,A),f(e,B),f(B,S),f(e,W),f(e,C),f(C,F),f(F,te),f(te,ge),f(F,M),U&&U.m(F,null),f(F,Y),f(F,ne),f(ne,H),X=!0,J||(R=Qt(e,"click",t[9]),J=!0)},p(I,ie){(!X||ie&8&&!xi(n.src,i=I[3]))&&y(n,"src",i),(!X||ie&1)&&o!==(o=bs(I[0])+"")&&Q(c,o),(!X||ie&1&&l!==(l="race "+I[0]+"-race svelte-av0not"))&&y(r,"class",l),(!X||ie&16)&&Q(m,I[4]),(!X||ie&1&&_!==(_="points "+I[0]+"-race svelte-av0not"))&&y(g,"class",_),(!X||ie&4)&&Q(S,I[2]),(!X||ie&1&&T!==(T="card-title "+I[0]+"-title svelte-av0not"))&&y(B,"class",T),(!X||ie&64)&&Q(ge,I[6]),I[7]?U?U.p(I,ie):(U=_s(I),U.c(),U.m(F,Y)):U&&(U.d(1),U=null),(!X||ie&128)&&Q(H,I[7]),(!X||ie&33&&x!==(x="card bg-"+I[0]+(I[5]==="legendary"?"-rare":"")+" svelte-av0not"))&&y(e,"class",x)},i(I){X||(rt(()=>{X&&(ue&&ue.end(1),me=Pi(e,Br,{x:100}),me.start())}),X=!0)},o(I){me&&me.invalidate(),ue=Cr(e,bn,{}),X=!1},d(I){I&&V(e),U&&U.d(),I&&ue&&ue.end(),J=!1,R()}}}function ta(t){let e,n,i,s,r,o;return{c(){e=w("div"),y(e,"class","card facedown bottom-deck svelte-av0not")},m(c,l){z(c,e,l),s=!0,r||(o=Qt(e,"click",t[11]),r=!0)},p:Z,i(c){s||(rt(()=>{s&&(i&&i.end(1),n=Pi(e,Br,{x:100}),n.start())}),s=!0)},o(c){n&&n.invalidate(),i=Cr(e,bn,{}),s=!1},d(c){c&&V(e),c&&i&&i.end(),r=!1,o()}}}function _s(t){let e,n;return{c(){e=w("p"),n=L(t[8]),y(e,"class","special-trait svelte-av0not")},m(i,s){z(i,e,s),f(e,n)},p(i,s){s&256&&Q(n,i[8])},d(i){i&&V(e)}}}function na(t){let e,n,i,s;const r=[ta,ea],o=[];function c(l,d){return l[1]?1:0}return e=c(t),n=o[e]=r[e](t),{c(){n.c(),i=$t()},m(l,d){o[e].m(l,d),z(l,i,d),s=!0},p(l,[d]){let g=e;e=c(l),e===g?o[e].p(l,d):(Be(),O(o[g],1,1,()=>{o[g]=null}),Re(),n=o[e],n?n.p(l,d):(n=o[e]=r[e](l),n.c()),v(n,1),n.m(i.parentNode,i))},i(l){s||(v(n),s=!0)},o(l){O(n),s=!1},d(l){o[e].d(l),l&&V(i)}}}function bs(t){const e=t[0].toUpperCase(),n=t.slice(1);return e+n}function ia(t,e,n){let{faceUp:i=!0}=e,{displayTitle:s="Title here..."}=e,{title:r=""}=e,{img:o="/card-bg.png"}=e,{points:c=0}=e,{race:l="none"}=e,{rarity:d="common"}=e,{description:g=""}=e,{trait:m=""}=e,{traitTitle:_=""}=e;const A=ro();function B(T){A("cardClick",{title:r,points:c,race:l,trait:m})}function S(T){zn.call(this,t,T)}return t.$$set=T=>{"faceUp"in T&&n(1,i=T.faceUp),"displayTitle"in T&&n(2,s=T.displayTitle),"title"in T&&n(10,r=T.title),"img"in T&&n(3,o=T.img),"points"in T&&n(4,c=T.points),"race"in T&&n(0,l=T.race),"rarity"in T&&n(5,d=T.rarity),"description"in T&&n(6,g=T.description),"trait"in T&&n(7,m=T.trait),"traitTitle"in T&&n(8,_=T.traitTitle)},t.$$.update=()=>{t.$$.dirty&1&&l==="goblin-ish"&&n(0,l="goblin")},[l,i,s,o,c,d,g,m,_,B,r,S]}class Qe extends lt{constructor(e){super(),at(this,e,ia,na,et,{faceUp:1,displayTitle:2,title:10,img:3,points:4,race:0,rarity:5,description:6,trait:7,traitTitle:8})}}function ws(t,e,n){const i=t.slice();return i[8]=e[n][0],i[9]=e[n][1],i}function sa(t,e,n){const i=t.slice();return i[12]=e[n],i}function ra(t){let e;return{c(){e=w("div"),y(e,"class","card-details svelte-1vda0za")},m(n,i){z(n,e,i)},p:Z,d(n){n&&V(e)}}}function ys(t){let e,n;return e=new Qe({props:{displayTitle:t[0][t[8]].displayTitle,title:t[0][t[8]].title,img:t[0][t[8]].image,description:t[0][t[8]].description,traitTitle:t[0][t[8]].traitTitle,trait:t[0][t[8]].trait,race:t[0][t[8]].race,rarity:t[0][t[8]].rarity,points:t[0][t[8]].points}}),{c(){ce(e.$$.fragment)},m(i,s){oe(e,i,s),n=!0},p(i,s){const r={};s&1&&(r.displayTitle=i[0][i[8]].displayTitle),s&1&&(r.title=i[0][i[8]].title),s&1&&(r.img=i[0][i[8]].image),s&1&&(r.description=i[0][i[8]].description),s&1&&(r.traitTitle=i[0][i[8]].traitTitle),s&1&&(r.trait=i[0][i[8]].trait),s&1&&(r.race=i[0][i[8]].race),s&1&&(r.rarity=i[0][i[8]].rarity),s&1&&(r.points=i[0][i[8]].points),e.$set(r)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function oa(t){let e,n,i,s,r=t[1],o=[];for(let g=0;g<r.length;g+=1)o[g]=ra(sa(t,r,g));let c=Object.entries(t[0]),l=[];for(let g=0;g<c.length;g+=1)l[g]=ys(ws(t,c,g));const d=g=>O(l[g],1,1,()=>{l[g]=null});return{c(){e=w("main");for(let g=0;g<o.length;g+=1)o[g].c();n=k(),i=w("div");for(let g=0;g<l.length;g+=1)l[g].c();y(i,"class","grid svelte-1vda0za"),y(e,"class","main-content svelte-1vda0za")},m(g,m){z(g,e,m);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(e,null);f(e,n),f(e,i);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(i,null);s=!0},p(g,[m]){if(m&1){c=Object.entries(g[0]);let _;for(_=0;_<c.length;_+=1){const A=ws(g,c,_);l[_]?(l[_].p(A,m),v(l[_],1)):(l[_]=ys(A),l[_].c(),v(l[_],1),l[_].m(i,null))}for(Be(),_=c.length;_<l.length;_+=1)d(_);Re()}},i(g){if(!s){for(let m=0;m<c.length;m+=1)v(l[m]);s=!0}},o(g){l=l.filter(Boolean);for(let m=0;m<l.length;m+=1)O(l[m]);s=!1},d(g){g&&V(e),Me(o,g),Me(l,g)}}}function aa(t,e,n){let i;Pe(t,Gt,r=>n(0,i=r));const s=Object.entries(i).filter(([r,o])=>o.race==="human");return Object.entries(i).filter(([r,o])=>o.race==="goblin"),Object.entries(i).filter(([r,o])=>o.race==="elf"),Object.entries(i).filter(([r,o])=>o.race==="dwarf"),Object.entries(i).filter(([r,o])=>o.race==="bot"),Object.entries(i).filter(([r,o])=>o.race==="beast"),Object.entries(i).filter(([r,o])=>o.race==="xeno"),[i,s]}class la extends lt{constructor(e){super(),at(this,e,aa,oa,et,{})}}function ca(t){let e;return{c(){e=w("div"),y(e,"class","spinner svelte-beofvy")},m(n,i){z(n,e,i)},p:Z,i:Z,o:Z,d(n){n&&V(e)}}}class ua extends lt{constructor(e){super(),at(this,e,null,ca,et,{})}}function fa(t){let e,n,i,s,r,o,c,l=t[0].points.humans+"",d,g,m,_,A,B,S=t[0].points.goblins+"",T,W,C,F,te,ge,M=t[0].points.dwarves+"",Y,ne,H,x,me,ue,X=t[0].points.elves+"",J,R,U,I,ie,qe,ee=t[0].points.bots+"",tt,j,se,_e,fe,P,q=t[0].points.beasts+"",le,K,Ue,Ze,ht,ct,Le=t[0].points.xenos+"",dt;return{c(){e=w("h2"),e.textContent="Race Points:",n=k(),i=w("div"),s=w("div"),r=w("p"),r.textContent="H",o=k(),c=w("p"),d=L(l),g=k(),m=w("div"),_=w("p"),_.textContent="G",A=k(),B=w("p"),T=L(S),W=k(),C=w("div"),F=w("p"),F.textContent="D",te=k(),ge=w("p"),Y=L(M),ne=k(),H=w("div"),x=w("p"),x.textContent="E",me=k(),ue=w("p"),J=L(X),R=k(),U=w("div"),I=w("p"),I.textContent="B",ie=k(),qe=w("p"),tt=L(ee),j=k(),se=w("div"),_e=w("p"),_e.textContent="B",fe=k(),P=w("p"),le=L(q),K=k(),Ue=w("div"),Ze=w("p"),Ze.textContent="X",ht=k(),ct=w("p"),dt=L(Le),y(e,"class","svelte-148dys1"),y(r,"class","race-point__blue bold  svelte-148dys1"),y(c,"class","race-point__blue svelte-148dys1"),y(_,"class","race-point__green bold svelte-148dys1"),y(B,"class","race-point__green svelte-148dys1"),y(F,"class","race-point__maroon bold svelte-148dys1"),y(ge,"class","race-point__maroon svelte-148dys1"),y(x,"class","race-point__silver bold svelte-148dys1"),y(ue,"class","race-point__silver svelte-148dys1"),y(I,"class","race-point__grey bold svelte-148dys1"),y(qe,"class","race-point__grey svelte-148dys1"),y(_e,"class","race-point__brown bold svelte-148dys1"),y(P,"class","race-point__brown svelte-148dys1"),y(Ze,"class","race-point__yellow bold svelte-148dys1"),y(ct,"class","race-point__yellow svelte-148dys1"),y(i,"class","race-points svelte-148dys1")},m(be,He){z(be,e,He),z(be,n,He),z(be,i,He),f(i,s),f(s,r),f(s,o),f(s,c),f(c,d),f(i,g),f(i,m),f(m,_),f(m,A),f(m,B),f(B,T),f(i,W),f(i,C),f(C,F),f(C,te),f(C,ge),f(ge,Y),f(i,ne),f(i,H),f(H,x),f(H,me),f(H,ue),f(ue,J),f(i,R),f(i,U),f(U,I),f(U,ie),f(U,qe),f(qe,tt),f(i,j),f(i,se),f(se,_e),f(se,fe),f(se,P),f(P,le),f(i,K),f(i,Ue),f(Ue,Ze),f(Ue,ht),f(Ue,ct),f(ct,dt)},p(be,[He]){He&1&&l!==(l=be[0].points.humans+"")&&Q(d,l),He&1&&S!==(S=be[0].points.goblins+"")&&Q(T,S),He&1&&M!==(M=be[0].points.dwarves+"")&&Q(Y,M),He&1&&X!==(X=be[0].points.elves+"")&&Q(J,X),He&1&&ee!==(ee=be[0].points.bots+"")&&Q(tt,ee),He&1&&q!==(q=be[0].points.beasts+"")&&Q(le,q),He&1&&Le!==(Le=be[0].points.xenos+"")&&Q(dt,Le)},i:Z,o:Z,d(be){be&&V(e),be&&V(n),be&&V(i)}}}function ha(t,e,n){let{player:i={}}=e;return t.$$set=s=>{"player"in s&&n(0,i=s.player)},[i]}class vs extends lt{constructor(e){super(),at(this,e,ha,fa,et,{player:0})}}const ot=Object.create(null);ot.open="0";ot.close="1";ot.ping="2";ot.pong="3";ot.message="4";ot.upgrade="5";ot.noop="6";const jn=Object.create(null);Object.keys(ot).forEach(t=>{jn[ot[t]]=t});const _i={type:"error",data:"parser error"},Rr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Pr=typeof ArrayBuffer=="function",Or=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Oi=({type:t,data:e},n,i)=>Rr&&e instanceof Blob?n?i(e):ks(e,i):Pr&&(e instanceof ArrayBuffer||Or(e))?n?i(e):ks(new Blob([e]),i):i(ot[t]+(e||"")),ks=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function Ts(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let fi;function da(t,e){if(Rr&&t.data instanceof Blob)return t.data.arrayBuffer().then(Ts).then(e);if(Pr&&(t.data instanceof ArrayBuffer||Or(t.data)))return e(Ts(t.data));Oi(t,!1,n=>{fi||(fi=new TextEncoder),e(fi.encode(n))})}const Cs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Cs.length;t++)mn[Cs.charCodeAt(t)]=t;const pa=t=>{let e=t.length*.75,n=t.length,i,s=0,r,o,c,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),g=new Uint8Array(d);for(i=0;i<n;i+=4)r=mn[t.charCodeAt(i)],o=mn[t.charCodeAt(i+1)],c=mn[t.charCodeAt(i+2)],l=mn[t.charCodeAt(i+3)],g[s++]=r<<2|o>>4,g[s++]=(o&15)<<4|c>>2,g[s++]=(c&3)<<6|l&63;return d},ga=typeof ArrayBuffer=="function",Di=(t,e)=>{if(typeof t!="string")return{type:"message",data:Dr(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:ma(t.substring(1),e)}:jn[n]?t.length>1?{type:jn[n],data:t.substring(1)}:{type:jn[n]}:_i},ma=(t,e)=>{if(ga){const n=pa(t);return Dr(n,e)}else return{base64:!0,data:t}},Dr=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Sr=String.fromCharCode(30),_a=(t,e)=>{const n=t.length,i=new Array(n);let s=0;t.forEach((r,o)=>{Oi(r,!1,c=>{i[o]=c,++s===n&&e(i.join(Sr))})})},ba=(t,e)=>{const n=t.split(Sr),i=[];for(let s=0;s<n.length;s++){const r=Di(n[s],e);if(i.push(r),r.type==="error")break}return i};function wa(){return new TransformStream({transform(t,e){da(t,n=>{const i=n.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let hi;function Hn(t){return t.reduce((e,n)=>e+n.length,0)}function Un(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)n[s]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function ya(t,e){hi||(hi=new TextDecoder);const n=[];let i=0,s=-1,r=!1;return new TransformStream({transform(o,c){for(n.push(o);;){if(i===0){if(Hn(n)<1)break;const l=Un(n,1);r=(l[0]&128)===128,s=l[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(Hn(n)<2)break;const l=Un(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(Hn(n)<8)break;const l=Un(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),g=d.getUint32(0);if(g>Math.pow(2,53-32)-1){c.enqueue(_i);break}s=g*Math.pow(2,32)+d.getUint32(4),i=3}else{if(Hn(n)<s)break;const l=Un(n,s);c.enqueue(Di(r?l:hi.decode(l),e)),i=0}if(s===0||s>t){c.enqueue(_i);break}}}})}const Lr=4;function Se(t){if(t)return va(t)}function va(t){for(var e in Se.prototype)t[e]=Se.prototype[e];return t}Se.prototype.on=Se.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Se.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Se.prototype.off=Se.prototype.removeListener=Se.prototype.removeAllListeners=Se.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Se.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};Se.prototype.emitReserved=Se.prototype.emit;Se.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Se.prototype.hasListeners=function(t){return!!this.listeners(t).length};const $e=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Nr(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const ka=$e.setTimeout,Ta=$e.clearTimeout;function ei(t,e){e.useNativeTimers?(t.setTimeoutFn=ka.bind($e),t.clearTimeoutFn=Ta.bind($e)):(t.setTimeoutFn=$e.setTimeout.bind($e),t.clearTimeoutFn=$e.clearTimeout.bind($e))}const Ca=1.33;function Ea(t){return typeof t=="string"?Aa(t):Math.ceil((t.byteLength||t.size)*Ca)}function Aa(t){let e=0,n=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function Ba(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Ra(t){let e={},n=t.split("&");for(let i=0,s=n.length;i<s;i++){let r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class Pa extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Si extends Se{constructor(e){super(),this.writable=!1,ei(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new Pa(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Di(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Ba(e);return n.length?"?"+n:""}}const Ir="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),bi=64,Oa={};let Es=0,Vn=0,As;function Bs(t){let e="";do e=Ir[t%bi]+e,t=Math.floor(t/bi);while(t>0);return e}function Mr(){const t=Bs(+new Date);return t!==As?(Es=0,As=t):t+"."+Bs(Es++)}for(;Vn<bi;Vn++)Oa[Ir[Vn]]=Vn;let qr=!1;try{qr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Da=qr;function Hr(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Da))return new XMLHttpRequest}catch{}if(!e)try{return new $e[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Sa(){}const La=function(){return new Hr({xdomain:!1}).responseType!=null}();class Na extends Si{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const n=e&&e.forceBase64;this.supportsBinary=La&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};ba(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,_a(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Mr()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new st(this.uri(),e)}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class st extends Se{constructor(e,n){super(),ei(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=Nr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new Hr(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=st.requestsCount++,st.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Sa,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete st.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}st.requestsCount=0;st.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Rs);else if(typeof addEventListener=="function"){const t="onpagehide"in $e?"pagehide":"unload";addEventListener(t,Rs,!1)}}function Rs(){for(let t in st.requests)st.requests.hasOwnProperty(t)&&st.requests[t].abort()}const Li=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),Fn=$e.WebSocket||$e.MozWebSocket,Ps=!0,Ia="arraybuffer",Os=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ma extends Si{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,i=Os?{}:Nr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=Ps&&!Os?n?new Fn(e,n):new Fn(e):new Fn(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;Oi(i,this.supportsBinary,r=>{const o={};try{Ps&&this.ws.send(r)}catch{}s&&Li(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Mr()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!Fn}}class qa extends Si{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=ya(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),s=wa();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const r=()=>{i.read().then(({done:c,value:l})=>{c||(this.onPacket(l),r())}).catch(c=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;this.writer.write(i).then(()=>{s&&Li(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Ha={websocket:Ma,webtransport:qa,polling:Na},Ua=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Va=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wi(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let s=Ua.exec(t||""),r={},o=14;for(;o--;)r[Va[o]]=s[o]||"";return n!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Fa(r,r.path),r.queryKey=za(r,r.query),r}function Fa(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function za(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(n[s]=r)}),n}let Ur=class Kt extends Se{constructor(e,n={}){super(),this.binaryType=Ia,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=wi(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=wi(n.host).host),ei(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ra(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Lr,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Ha[e](i)}open(){let e;if(this.opts.rememberUpgrade&&Kt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;Kt.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!i)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Kt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(g(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=n.name,this.emitReserved("upgradeError",_)}}))};function r(){i||(i=!0,g(),n.close(),n=null)}const o=m=>{const _=new Error("probe error: "+m);_.transport=n.name,r(),this.emitReserved("upgradeError",_)};function c(){o("transport closed")}function l(){o("socket closed")}function d(m){n&&m.name!==n.name&&r()}const g=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",c),this.off("close",l),this.off("upgrading",d)};n.once("open",s),n.once("error",o),n.once("close",c),this.once("close",l),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Kt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=Ea(s)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:n,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){Kt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const s=e.length;for(;i<s;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}};Ur.protocol=Lr;function Wa(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=wi(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}const ja=typeof ArrayBuffer=="function",Ga=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Vr=Object.prototype.toString,Ka=typeof Blob=="function"||typeof Blob<"u"&&Vr.call(Blob)==="[object BlobConstructor]",Xa=typeof File=="function"||typeof File<"u"&&Vr.call(File)==="[object FileConstructor]";function Ni(t){return ja&&(t instanceof ArrayBuffer||Ga(t))||Ka&&t instanceof Blob||Xa&&t instanceof File}function Gn(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(Gn(t[n]))return!0;return!1}if(Ni(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Gn(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Gn(t[n]))return!0;return!1}function Ya(t){const e=[],n=t.data,i=t;return i.data=yi(n,e),i.attachments=e.length,{packet:i,buffers:e}}function yi(t,e){if(!t)return t;if(Ni(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=yi(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=yi(t[i],e));return n}return t}function Ja(t,e){return t.data=vi(t.data,e),delete t.attachments,t}function vi(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=vi(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=vi(t[n],e));return t}const $a=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Qa=5;var $;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})($||($={}));class Za{constructor(e){this.replacer=e}encode(e){return(e.type===$.EVENT||e.type===$.ACK)&&Gn(e)?this.encodeAsBinary({type:e.type===$.EVENT?$.BINARY_EVENT:$.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===$.BINARY_EVENT||e.type===$.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Ya(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}function Ds(t){return Object.prototype.toString.call(t)==="[object Object]"}class Ii extends Se{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===$.BINARY_EVENT;i||n.type===$.BINARY_ACK?(n.type=i?$.EVENT:$.ACK,this.reconstructor=new xa(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ni(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if($[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===$.BINARY_EVENT||i.type===$.BINARY_ACK){const r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(r,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(r,n)}else i.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const r=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}i.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){const r=this.tryParse(e.substr(n));if(Ii.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case $.CONNECT:return Ds(n);case $.DISCONNECT:return n===void 0;case $.CONNECT_ERROR:return typeof n=="string"||Ds(n);case $.EVENT:case $.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&$a.indexOf(n[0])===-1);case $.ACK:case $.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class xa{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Ja(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const el=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ii,Encoder:Za,get PacketType(){return $},protocol:Qa},Symbol.toStringTag,{value:"Module"}));function xe(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const tl=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Fr extends Se{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[xe(e,"open",this.onopen.bind(this)),xe(e,"packet",this.onpacket.bind(this)),xe(e,"error",this.onerror.bind(this)),xe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(tl.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:$.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,c=n.pop();this._registerAckCallback(o,c),i.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},s);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(r),n.apply(this,[null,...o])}}emitWithAck(e,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,r)=>{n.push((o,c)=>i?o?r(o):s(c):s(o)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:$.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case $.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case $.EVENT:case $.BINARY_EVENT:this.onevent(e);break;case $.ACK:case $.BINARY_ACK:this.onack(e);break;case $.DISCONNECT:this.ondisconnect();break;case $.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:$.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:$.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function xt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}xt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};xt.prototype.reset=function(){this.attempts=0};xt.prototype.setMin=function(t){this.ms=t};xt.prototype.setMax=function(t){this.max=t};xt.prototype.setJitter=function(t){this.jitter=t};class ki extends Se{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ei(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new xt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||el;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ur(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=xe(n,"open",function(){i.onopen(),e&&e()}),r=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},o=xe(n,"error",r);if(this._timeout!==!1){const c=this._timeout,l=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),n.close()},c);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(xe(e,"ping",this.onping.bind(this)),xe(e,"data",this.ondata.bind(this)),xe(e,"error",this.onerror.bind(this)),xe(e,"close",this.onclose.bind(this)),xe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Li(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new Fr(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const gn={};function Kn(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Wa(t,e.path||"/socket.io"),i=n.source,s=n.id,r=n.path,o=gn[s]&&r in gn[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return c?l=new ki(i,e):(gn[s]||(gn[s]=new ki(i,e)),l=gn[s]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Kn,{Manager:ki,Socket:Fr,io:Kn,connect:Kn});function Ss(t,e,n){const i=t.slice();return i[72]=e[n],i}function Ls(t,e,n){const i=t.slice();return i[72]=e[n],i}function Ns(t,e,n){const i=t.slice();return i[72]=e[n],i}function Is(t,e,n){const i=t.slice();return i[72]=e[n],i}function Ms(t,e,n){const i=t.slice();return i[72]=e[n],i}function qs(t,e,n){const i=t.slice();return i[72]=e[n],i}function Hs(t,e,n){const i=t.slice();return i[72]=e[n],i}function Us(t,e,n){const i=t.slice();return i[72]=e[n],i}function Vs(t,e,n){const i=t.slice();return i[72]=e[n],i}function Fs(t,e,n){const i=t.slice();return i[72]=e[n],i}function zs(t,e,n){const i=t.slice();return i[89]=e[n],i}function Ws(t,e,n){const i=t.slice();return i[92]=e[n],i}function js(t,e,n){const i=t.slice();return i[95]=e[n],i}function Gs(t,e,n){const i=t.slice();return i[89]=e[n],i}function Ks(t,e,n){const i=t.slice();return i[92]=e[n],i}function Xs(t,e,n){const i=t.slice();return i[95]=e[n],i}function Ys(t){let e,n;return e=new la({}),{c(){ce(e.$$.fragment)},m(i,s){oe(e,i,s),n=!0},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function nl(t){let e,n,i,s,r,o,c,l,d,g,m,_,A,B,S,T,W,C,F,te,ge,M,Y,ne,H,x,me,ue,X,J=t[6]&&Js(),R=t[9]&&$s(t),U=t[12].hand,I=[];for(let P=0;P<U.length;P+=1)I[P]=Qs(Ls(t,U,P));const ie=P=>O(I[P],1,1,()=>{I[P]=null});let qe=t[11].hand,ee=[];for(let P=0;P<qe.length;P+=1)ee[P]=Zs(Ss(t,qe,P));const tt=P=>O(ee[P],1,1,()=>{ee[P]=null});Y=new Qe({props:{faceUp:!1}}),Y.$on("click",t[15]);const j=[ol,rl,sl],se=[];function _e(P,q){return P[2]?P[1]||P[5]<5?1:2:0}H=_e(t),x=se[H]=j[H](t);let fe=t[2]&&xs(t);return{c(){J&&J.c(),e=k(),n=w("div"),R&&R.c(),i=k(),s=w("div"),r=w("p"),o=L("Player 1"),l=k();for(let P=0;P<I.length;P+=1)I[P].c();g=k(),m=w("div"),_=w("p"),A=L("Player 2"),S=k();for(let P=0;P<ee.length;P+=1)ee[P].c();W=k(),C=w("div"),F=w("h1"),te=L("Turn "),ge=L(t[5]),M=k(),ce(Y.$$.fragment),ne=k(),x.c(),me=k(),fe&&fe.c(),y(r,"class",c="p1-name "+(t[12].turn?"turn-active":"")+" svelte-16l4w7d"),y(s,"class",d="card-section card-section__ally "+(t[12].turn?"section-active":"")+" svelte-16l4w7d"),y(_,"class",B="p2-name "+(t[11].turn?"turn-active":"")+" svelte-16l4w7d"),y(m,"class",T="card-section card-section__enemy "+(t[11].turn?"section-active":"")+" svelte-16l4w7d"),y(F,"class","turn-count svelte-16l4w7d"),y(C,"class","game-buttons svelte-16l4w7d"),y(n,"class",ue="game-board "+(t[9]?"game-event":"")+" "+(t[0]?"gobble-declared":"")+" svelte-16l4w7d")},m(P,q){J&&J.m(P,q),z(P,e,q),z(P,n,q),R&&R.m(n,null),f(n,i),f(n,s),f(s,r),f(r,o),f(s,l);for(let le=0;le<I.length;le+=1)I[le]&&I[le].m(s,null);f(n,g),f(n,m),f(m,_),f(_,A),f(m,S);for(let le=0;le<ee.length;le+=1)ee[le]&&ee[le].m(m,null);f(n,W),f(n,C),f(C,F),f(F,te),f(F,ge),f(C,M),oe(Y,C,null),f(C,ne),se[H].m(C,null),f(n,me),fe&&fe.m(n,null),X=!0},p(P,q){if(P[6]?J?q[0]&64&&v(J,1):(J=Js(),J.c(),v(J,1),J.m(e.parentNode,e)):J&&(Be(),O(J,1,1,()=>{J=null}),Re()),P[9]?R?(R.p(P,q),q[0]&512&&v(R,1)):(R=$s(P),R.c(),v(R,1),R.m(n,i)):R&&(R.d(1),R=null),(!X||q[0]&4096&&c!==(c="p1-name "+(P[12].turn?"turn-active":"")+" svelte-16l4w7d"))&&y(r,"class",c),q[0]&89088){U=P[12].hand;let K;for(K=0;K<U.length;K+=1){const Ue=Ls(P,U,K);I[K]?(I[K].p(Ue,q),v(I[K],1)):(I[K]=Qs(Ue),I[K].c(),v(I[K],1),I[K].m(s,null))}for(Be(),K=U.length;K<I.length;K+=1)ie(K);Re()}if((!X||q[0]&4096&&d!==(d="card-section card-section__ally "+(P[12].turn?"section-active":"")+" svelte-16l4w7d"))&&y(s,"class",d),(!X||q[0]&2048&&B!==(B="p2-name "+(P[11].turn?"turn-active":"")+" svelte-16l4w7d"))&&y(_,"class",B),q[0]&89088){qe=P[11].hand;let K;for(K=0;K<qe.length;K+=1){const Ue=Ss(P,qe,K);ee[K]?(ee[K].p(Ue,q),v(ee[K],1)):(ee[K]=Zs(Ue),ee[K].c(),v(ee[K],1),ee[K].m(m,null))}for(Be(),K=qe.length;K<ee.length;K+=1)tt(K);Re()}(!X||q[0]&2048&&T!==(T="card-section card-section__enemy "+(P[11].turn?"section-active":"")+" svelte-16l4w7d"))&&y(m,"class",T),(!X||q[0]&32)&&Q(ge,P[5]);let le=H;H=_e(P),H===le?se[H].p(P,q):(Be(),O(se[le],1,1,()=>{se[le]=null}),Re(),x=se[H],x?x.p(P,q):(x=se[H]=j[H](P),x.c()),v(x,1),x.m(C,null)),P[2]?fe?fe.p(P,q):(fe=xs(P),fe.c(),fe.m(n,null)):fe&&(fe.d(1),fe=null),(!X||q[0]&513&&ue!==(ue="game-board "+(P[9]?"game-event":"")+" "+(P[0]?"gobble-declared":"")+" svelte-16l4w7d"))&&y(n,"class",ue)},i(P){if(!X){v(J),v(R);for(let q=0;q<U.length;q+=1)v(I[q]);for(let q=0;q<qe.length;q+=1)v(ee[q]);v(Y.$$.fragment,P),v(x),X=!0}},o(P){O(J),I=I.filter(Boolean);for(let q=0;q<I.length;q+=1)O(I[q]);ee=ee.filter(Boolean);for(let q=0;q<ee.length;q+=1)O(ee[q]);O(Y.$$.fragment,P),O(x),X=!1},d(P){J&&J.d(P),P&&V(e),P&&V(n),R&&R.d(),Me(I,P),Me(ee,P),ae(Y),se[H].d(),fe&&fe.d()}}}function il(t){let e,n,i,s,r,o,c,l,d,g,m,_,A,B,S,T,W=t[12].chargePoints+"",C,F,te,ge,M,Y,ne,H,x,me,ue=t[12].infectPoints+"",X,J,R,U,I,ie,qe,ee,tt,j,se,_e,fe=t[12].wins+"",P,q,le=t[12].losses+"",K,Ue,Ze=t[12].draws+"",ht,ct,Le,dt,be=t[11].wins+"",He,en,Rt=t[11].losses+"",tn,Tn,Pt=t[11].draws+"",Ot,Cn,nn,sn,rn,on,an,pt,En,_t,Dt=t[11].chargePoints+"",ln,An,cn,ti,Bn,a,p,E,N,re,Oe=t[11].infectPoints+"",he,bt,St,un,Lt,ut,Mi,Rn,qi,fn,Hi,ni,Ui,Nt,Ke,Pn,Vi,ii,On,Fi,zi,Xe,Dn,Wi,si,Sn,ji,Gi,It,Ye,Ln,Ki,ri,Nn,Xi,Yi,Je,In,Ji,oi,Mn,$i,gt,Ne,Ie=!t[2]&&er(t),Mt=t[12].boosts,Ve=[];for(let u=0;u<Mt.length;u+=1)Ve[u]=tr(Xs(t,Mt,u));let qt=t[12].traps,Fe=[];for(let u=0;u<qt.length;u+=1)Fe[u]=nr(Ks(t,qt,u));let Ht=t[12].neutrals,ze=[];for(let u=0;u<Ht.length;u+=1)ze[u]=ir(Gs(t,Ht,u));ie=new vs({props:{player:t[12]}});let Ut=t[11].boosts,We=[];for(let u=0;u<Ut.length;u+=1)We[u]=sr(js(t,Ut,u));let Vt=t[11].traps,je=[];for(let u=0;u<Vt.length;u+=1)je[u]=rr(Ws(t,Vt,u));let Ft=t[11].neutrals,Ge=[];for(let u=0;u<Ft.length;u+=1)Ge[u]=or(zs(t,Ft,u));ut=new vs({props:{player:t[11]}});let wt=t[12].startingHand,we=[];for(let u=0;u<wt.length;u+=1)we[u]=ar(Fs(t,wt,u));const zr=u=>O(we[u],1,1,()=>{we[u]=null});let yt=t[12].cardsDrawn,ye=[];for(let u=0;u<yt.length;u+=1)ye[u]=lr(Vs(t,yt,u));const Wr=u=>O(ye[u],1,1,()=>{ye[u]=null});let vt=t[12].hand,ve=[];for(let u=0;u<vt.length;u+=1)ve[u]=cr(Us(t,vt,u));const jr=u=>O(ve[u],1,1,()=>{ve[u]=null});let kt=t[12].discards,ke=[];for(let u=0;u<kt.length;u+=1)ke[u]=ur(Hs(t,kt,u));const Gr=u=>O(ke[u],1,1,()=>{ke[u]=null});let Tt=t[11].startingHand,Te=[];for(let u=0;u<Tt.length;u+=1)Te[u]=fr(qs(t,Tt,u));const Kr=u=>O(Te[u],1,1,()=>{Te[u]=null});let Ct=t[11].cardsDrawn,Ce=[];for(let u=0;u<Ct.length;u+=1)Ce[u]=hr(Ms(t,Ct,u));const Xr=u=>O(Ce[u],1,1,()=>{Ce[u]=null});let Et=t[11].hand,Ee=[];for(let u=0;u<Et.length;u+=1)Ee[u]=dr(Is(t,Et,u));const Yr=u=>O(Ee[u],1,1,()=>{Ee[u]=null});let At=t[11].discards,Ae=[];for(let u=0;u<At.length;u+=1)Ae[u]=pr(Ns(t,At,u));const Jr=u=>O(Ae[u],1,1,()=>{Ae[u]=null});return{c(){e=w("div"),Ie&&Ie.c(),n=k(),i=w("div"),s=w("div"),r=w("p"),o=L(t[3]),c=k(),l=w("p"),d=L(t[4]),g=k(),m=w("p"),m.textContent="Player1 Boosts:",_=k();for(let u=0;u<Ve.length;u+=1)Ve[u].c();A=k(),B=w("p"),S=L("Charge boost points: "),T=w("span"),C=L(W),F=k(),te=w("p"),te.textContent="Player1 Traps:",ge=k(),M=w("span"),M.textContent="Trap cards:",Y=k();for(let u=0;u<Fe.length;u+=1)Fe[u].c();ne=k(),H=w("p"),x=L("Infect trap penalty: "),me=w("span"),X=L(ue),J=k(),R=w("span"),R.textContent="Neutral cards:",U=k();for(let u=0;u<ze.length;u+=1)ze[u].c();I=k(),ce(ie.$$.fragment),qe=k(),ee=w("h2"),ee.textContent="Player 1",tt=k(),j=w("div"),se=w("p"),_e=L("Player 1 Win/Lose/Draw: "),P=L(fe),q=L("/"),K=L(le),Ue=L("/"),ht=L(Ze),ct=k(),Le=w("p"),dt=L("Player 2 Win/Lose/Draw: "),He=L(be),en=L("/"),tn=L(Rt),Tn=L("/"),Ot=L(Pt),Cn=k(),nn=w("p"),nn.textContent="Player2 Boosts:",sn=k(),rn=w("span"),rn.textContent="Boost cards:",on=k();for(let u=0;u<We.length;u+=1)We[u].c();an=k(),pt=w("p"),En=L("Charge boost points: "),_t=w("span"),ln=L(Dt),An=k(),cn=w("p"),cn.textContent="Player2 Traps:",ti=k(),Bn=w("span"),Bn.textContent="Trap cards:",a=k();for(let u=0;u<je.length;u+=1)je[u].c();p=k(),E=w("p"),N=L("Infect trap penalty: "),re=w("span"),he=L(Oe),bt=k(),St=w("span"),St.textContent="Neutral cards:",un=k();for(let u=0;u<Ge.length;u+=1)Ge[u].c();Lt=k(),ce(ut.$$.fragment),Mi=k(),Rn=w("h2"),Rn.textContent="Player 2",qi=k(),fn=w("h2"),Hi=L("Turn count: "),ni=L(t[5]),Ui=k(),Nt=w("div"),Ke=w("div"),Pn=w("p"),Pn.textContent="Starting Hand:",Vi=k();for(let u=0;u<we.length;u+=1)we[u].c();ii=k(),On=w("p"),On.textContent="Cards drawn:",Fi=k();for(let u=0;u<ye.length;u+=1)ye[u].c();zi=k(),Xe=w("div"),Dn=w("p"),Dn.textContent="Final Hand:",Wi=k();for(let u=0;u<ve.length;u+=1)ve[u].c();si=k(),Sn=w("p"),Sn.textContent="Cards discarded:",ji=k();for(let u=0;u<ke.length;u+=1)ke[u].c();Gi=k(),It=w("div"),Ye=w("div"),Ln=w("p"),Ln.textContent="Starting Hand:",Ki=k();for(let u=0;u<Te.length;u+=1)Te[u].c();ri=k(),Nn=w("p"),Nn.textContent="Cards drawn:",Xi=k();for(let u=0;u<Ce.length;u+=1)Ce[u].c();Yi=k(),Je=w("div"),In=w("p"),In.textContent="Final Hand:",Ji=k();for(let u=0;u<Ee.length;u+=1)Ee[u].c();oi=k(),Mn=w("p"),Mn.textContent="Cards discarded:",$i=k();for(let u=0;u<Ae.length;u+=1)Ae[u].c();y(l,"class","margin-bottom-sm svelte-16l4w7d"),y(T,"class","color-blue svelte-16l4w7d"),y(B,"class","margin-bottom-sm svelte-16l4w7d"),y(me,"class","color-red svelte-16l4w7d"),y(H,"class","margin-bottom-sm svelte-16l4w7d"),y(ee,"class","results-player-floating-header results-player-float-left svelte-16l4w7d"),y(Le,"class","margin-bottom-sm svelte-16l4w7d"),y(_t,"class","color-blue svelte-16l4w7d"),y(pt,"class","margin-bottom-sm svelte-16l4w7d"),y(re,"class","color-red svelte-16l4w7d"),y(E,"class","margin-bottom-sm svelte-16l4w7d"),y(Rn,"class","results-player-floating-header results-player-float-right svelte-16l4w7d"),y(fn,"class","results-player-floating-header results-turn-count-float-middle svelte-16l4w7d"),y(i,"class","results-messages-flex-wrapper svelte-16l4w7d"),y(Pn,"class","history__small-header svelte-16l4w7d"),y(On,"class","history__small-header svelte-16l4w7d"),y(Ke,"class","history__cards-drawn"),y(Dn,"class","history__small-header svelte-16l4w7d"),y(Sn,"class","history__small-header svelte-16l4w7d"),y(Xe,"class","history__cards-discarded"),y(Nt,"class","player-history-wrapper svelte-16l4w7d"),y(Ln,"class","history__small-header svelte-16l4w7d"),y(Nn,"class","history__small-header svelte-16l4w7d"),y(Ye,"class","history__cards-drawn"),y(In,"class","history__small-header svelte-16l4w7d"),y(Mn,"class","history__small-header svelte-16l4w7d"),y(Je,"class","history__cards-discarded"),y(It,"class","player-history-wrapper svelte-16l4w7d"),y(e,"class","results-screen svelte-16l4w7d")},m(u,b){z(u,e,b),Ie&&Ie.m(e,null),f(e,n),f(e,i),f(i,s),f(s,r),f(r,o),f(s,c),f(s,l),f(l,d),f(s,g),f(s,m),f(s,_);for(let D=0;D<Ve.length;D+=1)Ve[D]&&Ve[D].m(s,null);f(s,A),f(s,B),f(B,S),f(B,T),f(T,C),f(s,F),f(s,te),f(s,ge),f(s,M),f(s,Y);for(let D=0;D<Fe.length;D+=1)Fe[D]&&Fe[D].m(s,null);f(s,ne),f(s,H),f(H,x),f(H,me),f(me,X),f(s,J),f(s,R),f(s,U);for(let D=0;D<ze.length;D+=1)ze[D]&&ze[D].m(s,null);f(s,I),oe(ie,s,null),f(s,qe),f(s,ee),f(i,tt),f(i,j),f(j,se),f(se,_e),f(se,P),f(se,q),f(se,K),f(se,Ue),f(se,ht),f(j,ct),f(j,Le),f(Le,dt),f(Le,He),f(Le,en),f(Le,tn),f(Le,Tn),f(Le,Ot),f(j,Cn),f(j,nn),f(j,sn),f(j,rn),f(j,on);for(let D=0;D<We.length;D+=1)We[D]&&We[D].m(j,null);f(j,an),f(j,pt),f(pt,En),f(pt,_t),f(_t,ln),f(j,An),f(j,cn),f(j,ti),f(j,Bn),f(j,a);for(let D=0;D<je.length;D+=1)je[D]&&je[D].m(j,null);f(j,p),f(j,E),f(E,N),f(E,re),f(re,he),f(j,bt),f(j,St),f(j,un);for(let D=0;D<Ge.length;D+=1)Ge[D]&&Ge[D].m(j,null);f(j,Lt),oe(ut,j,null),f(j,Mi),f(j,Rn),f(j,qi),f(j,fn),f(fn,Hi),f(fn,ni),f(e,Ui),f(e,Nt),f(Nt,Ke),f(Ke,Pn),f(Ke,Vi);for(let D=0;D<we.length;D+=1)we[D]&&we[D].m(Ke,null);f(Ke,ii),f(Ke,On),f(Ke,Fi);for(let D=0;D<ye.length;D+=1)ye[D]&&ye[D].m(Ke,null);f(Nt,zi),f(Nt,Xe),f(Xe,Dn),f(Xe,Wi);for(let D=0;D<ve.length;D+=1)ve[D]&&ve[D].m(Xe,null);f(Xe,si),f(Xe,Sn),f(Xe,ji);for(let D=0;D<ke.length;D+=1)ke[D]&&ke[D].m(Xe,null);f(e,Gi),f(e,It),f(It,Ye),f(Ye,Ln),f(Ye,Ki);for(let D=0;D<Te.length;D+=1)Te[D]&&Te[D].m(Ye,null);f(Ye,ri),f(Ye,Nn),f(Ye,Xi);for(let D=0;D<Ce.length;D+=1)Ce[D]&&Ce[D].m(Ye,null);f(It,Yi),f(It,Je),f(Je,In),f(Je,Ji);for(let D=0;D<Ee.length;D+=1)Ee[D]&&Ee[D].m(Je,null);f(Je,oi),f(Je,Mn),f(Je,$i);for(let D=0;D<Ae.length;D+=1)Ae[D]&&Ae[D].m(Je,null);Ne=!0},p(u,b){if(u[2]?Ie&&(Be(),O(Ie,1,1,()=>{Ie=null}),Re()):Ie?(Ie.p(u,b),b[0]&4&&v(Ie,1)):(Ie=er(u),Ie.c(),v(Ie,1),Ie.m(e,n)),(!Ne||b[0]&8)&&Q(o,u[3]),(!Ne||b[0]&16)&&Q(d,u[4]),b[0]&4096){Mt=u[12].boosts;let h;for(h=0;h<Mt.length;h+=1){const G=Xs(u,Mt,h);Ve[h]?Ve[h].p(G,b):(Ve[h]=tr(G),Ve[h].c(),Ve[h].m(s,A))}for(;h<Ve.length;h+=1)Ve[h].d(1);Ve.length=Mt.length}if((!Ne||b[0]&4096)&&W!==(W=u[12].chargePoints+"")&&Q(C,W),b[0]&4096){qt=u[12].traps;let h;for(h=0;h<qt.length;h+=1){const G=Ks(u,qt,h);Fe[h]?Fe[h].p(G,b):(Fe[h]=nr(G),Fe[h].c(),Fe[h].m(s,ne))}for(;h<Fe.length;h+=1)Fe[h].d(1);Fe.length=qt.length}if((!Ne||b[0]&4096)&&ue!==(ue=u[12].infectPoints+"")&&Q(X,ue),b[0]&4096){Ht=u[12].neutrals;let h;for(h=0;h<Ht.length;h+=1){const G=Gs(u,Ht,h);ze[h]?ze[h].p(G,b):(ze[h]=ir(G),ze[h].c(),ze[h].m(s,I))}for(;h<ze.length;h+=1)ze[h].d(1);ze.length=Ht.length}const D={};if(b[0]&4096&&(D.player=u[12]),ie.$set(D),(!Ne||b[0]&4096)&&fe!==(fe=u[12].wins+"")&&Q(P,fe),(!Ne||b[0]&4096)&&le!==(le=u[12].losses+"")&&Q(K,le),(!Ne||b[0]&4096)&&Ze!==(Ze=u[12].draws+"")&&Q(ht,Ze),(!Ne||b[0]&2048)&&be!==(be=u[11].wins+"")&&Q(He,be),(!Ne||b[0]&2048)&&Rt!==(Rt=u[11].losses+"")&&Q(tn,Rt),(!Ne||b[0]&2048)&&Pt!==(Pt=u[11].draws+"")&&Q(Ot,Pt),b[0]&2048){Ut=u[11].boosts;let h;for(h=0;h<Ut.length;h+=1){const G=js(u,Ut,h);We[h]?We[h].p(G,b):(We[h]=sr(G),We[h].c(),We[h].m(j,an))}for(;h<We.length;h+=1)We[h].d(1);We.length=Ut.length}if((!Ne||b[0]&2048)&&Dt!==(Dt=u[11].chargePoints+"")&&Q(ln,Dt),b[0]&2048){Vt=u[11].traps;let h;for(h=0;h<Vt.length;h+=1){const G=Ws(u,Vt,h);je[h]?je[h].p(G,b):(je[h]=rr(G),je[h].c(),je[h].m(j,p))}for(;h<je.length;h+=1)je[h].d(1);je.length=Vt.length}if((!Ne||b[0]&2048)&&Oe!==(Oe=u[11].infectPoints+"")&&Q(he,Oe),b[0]&2048){Ft=u[11].neutrals;let h;for(h=0;h<Ft.length;h+=1){const G=zs(u,Ft,h);Ge[h]?Ge[h].p(G,b):(Ge[h]=or(G),Ge[h].c(),Ge[h].m(j,Lt))}for(;h<Ge.length;h+=1)Ge[h].d(1);Ge.length=Ft.length}const Qi={};if(b[0]&2048&&(Qi.player=u[11]),ut.$set(Qi),(!Ne||b[0]&32)&&Q(ni,u[5]),b[0]&267264){wt=u[12].startingHand;let h;for(h=0;h<wt.length;h+=1){const G=Fs(u,wt,h);we[h]?(we[h].p(G,b),v(we[h],1)):(we[h]=ar(G),we[h].c(),v(we[h],1),we[h].m(Ke,ii))}for(Be(),h=wt.length;h<we.length;h+=1)zr(h);Re()}if(b[0]&267264){yt=u[12].cardsDrawn;let h;for(h=0;h<yt.length;h+=1){const G=Vs(u,yt,h);ye[h]?(ye[h].p(G,b),v(ye[h],1)):(ye[h]=lr(G),ye[h].c(),v(ye[h],1),ye[h].m(Ke,null))}for(Be(),h=yt.length;h<ye.length;h+=1)Wr(h);Re()}if(b[0]&267264){vt=u[12].hand;let h;for(h=0;h<vt.length;h+=1){const G=Us(u,vt,h);ve[h]?(ve[h].p(G,b),v(ve[h],1)):(ve[h]=cr(G),ve[h].c(),v(ve[h],1),ve[h].m(Xe,si))}for(Be(),h=vt.length;h<ve.length;h+=1)jr(h);Re()}if(b[0]&267264){kt=u[12].discards;let h;for(h=0;h<kt.length;h+=1){const G=Hs(u,kt,h);ke[h]?(ke[h].p(G,b),v(ke[h],1)):(ke[h]=ur(G),ke[h].c(),v(ke[h],1),ke[h].m(Xe,null))}for(Be(),h=kt.length;h<ke.length;h+=1)Gr(h);Re()}if(b[0]&265216){Tt=u[11].startingHand;let h;for(h=0;h<Tt.length;h+=1){const G=qs(u,Tt,h);Te[h]?(Te[h].p(G,b),v(Te[h],1)):(Te[h]=fr(G),Te[h].c(),v(Te[h],1),Te[h].m(Ye,ri))}for(Be(),h=Tt.length;h<Te.length;h+=1)Kr(h);Re()}if(b[0]&265216){Ct=u[11].cardsDrawn;let h;for(h=0;h<Ct.length;h+=1){const G=Ms(u,Ct,h);Ce[h]?(Ce[h].p(G,b),v(Ce[h],1)):(Ce[h]=hr(G),Ce[h].c(),v(Ce[h],1),Ce[h].m(Ye,null))}for(Be(),h=Ct.length;h<Ce.length;h+=1)Xr(h);Re()}if(b[0]&265216){Et=u[11].hand;let h;for(h=0;h<Et.length;h+=1){const G=Is(u,Et,h);Ee[h]?(Ee[h].p(G,b),v(Ee[h],1)):(Ee[h]=dr(G),Ee[h].c(),v(Ee[h],1),Ee[h].m(Je,oi))}for(Be(),h=Et.length;h<Ee.length;h+=1)Yr(h);Re()}if(b[0]&265216){At=u[11].discards;let h;for(h=0;h<At.length;h+=1){const G=Ns(u,At,h);Ae[h]?(Ae[h].p(G,b),v(Ae[h],1)):(Ae[h]=pr(G),Ae[h].c(),v(Ae[h],1),Ae[h].m(Je,null))}for(Be(),h=At.length;h<Ae.length;h+=1)Jr(h);Re()}},i(u){if(!Ne){v(Ie),v(ie.$$.fragment,u),v(ut.$$.fragment,u);for(let b=0;b<wt.length;b+=1)v(we[b]);for(let b=0;b<yt.length;b+=1)v(ye[b]);for(let b=0;b<vt.length;b+=1)v(ve[b]);for(let b=0;b<kt.length;b+=1)v(ke[b]);for(let b=0;b<Tt.length;b+=1)v(Te[b]);for(let b=0;b<Ct.length;b+=1)v(Ce[b]);for(let b=0;b<Et.length;b+=1)v(Ee[b]);for(let b=0;b<At.length;b+=1)v(Ae[b]);rt(()=>{Ne&&(gt||(gt=os(e,bn,{},!0)),gt.run(1))}),Ne=!0}},o(u){O(Ie),O(ie.$$.fragment,u),O(ut.$$.fragment,u),we=we.filter(Boolean);for(let b=0;b<we.length;b+=1)O(we[b]);ye=ye.filter(Boolean);for(let b=0;b<ye.length;b+=1)O(ye[b]);ve=ve.filter(Boolean);for(let b=0;b<ve.length;b+=1)O(ve[b]);ke=ke.filter(Boolean);for(let b=0;b<ke.length;b+=1)O(ke[b]);Te=Te.filter(Boolean);for(let b=0;b<Te.length;b+=1)O(Te[b]);Ce=Ce.filter(Boolean);for(let b=0;b<Ce.length;b+=1)O(Ce[b]);Ee=Ee.filter(Boolean);for(let b=0;b<Ee.length;b+=1)O(Ee[b]);Ae=Ae.filter(Boolean);for(let b=0;b<Ae.length;b+=1)O(Ae[b]);gt||(gt=os(e,bn,{},!1)),gt.run(0),Ne=!1},d(u){u&&V(e),Ie&&Ie.d(),Me(Ve,u),Me(Fe,u),Me(ze,u),ae(ie),Me(We,u),Me(je,u),Me(Ge,u),ae(ut),Me(we,u),Me(ye,u),Me(ve,u),Me(ke,u),Me(Te,u),Me(Ce,u),Me(Ee,u),Me(Ae,u),u&&gt&&gt.end()}}}function Js(t){let e,n;return e=new ua({}),{c(){ce(e.$$.fragment)},m(i,s){oe(e,i,s),n=!0},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function $s(t){let e,n,i;return{c(){e=w("p"),n=L(t[7]),y(e,"class","game-event-message svelte-16l4w7d")},m(s,r){z(s,e,r),f(e,n)},p(s,r){r[0]&128&&Q(n,s[7])},i(s){i||rt(()=>{i=Pi(e,bn,{}),i.start()})},o:Z,d(s){s&&V(e)}}}function Qs(t){let e,n;return e=new Qe({props:{faceUp:t[14]("p1")||t[11].hasVision||t[12].isExposed,displayTitle:t[10][t[72]].displayTitle,title:t[10][t[72]].title,img:t[10][t[72]].image,trait:t[10][t[72]].trait,traitTitle:t[10][t[72]].traitTitle,description:t[10][t[72]].description,race:t[10][t[72]].race,rarity:t[10][t[72]].rarity,points:t[10][t[72]].points}}),e.$on("cardClick",t[20]),{c(){ce(e.$$.fragment)},m(i,s){oe(e,i,s),n=!0},p(i,s){const r={};s[0]&6144&&(r.faceUp=i[14]("p1")||i[11].hasVision||i[12].isExposed),s[0]&5120&&(r.displayTitle=i[10][i[72]].displayTitle),s[0]&5120&&(r.title=i[10][i[72]].title),s[0]&5120&&(r.img=i[10][i[72]].image),s[0]&5120&&(r.trait=i[10][i[72]].trait),s[0]&5120&&(r.traitTitle=i[10][i[72]].traitTitle),s[0]&5120&&(r.description=i[10][i[72]].description),s[0]&5120&&(r.race=i[10][i[72]].race),s[0]&5120&&(r.rarity=i[10][i[72]].rarity),s[0]&5120&&(r.points=i[10][i[72]].points),e.$set(r)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function Zs(t){let e,n;return e=new Qe({props:{faceUp:t[14]("p2")||t[12].hasVision||t[11].isExposed,displayTitle:t[10][t[72]].displayTitle,title:t[10][t[72]].title,img:t[10][t[72]].image,trait:t[10][t[72]].trait,traitTitle:t[10][t[72]].traitTitle,description:t[10][t[72]].description,race:t[10][t[72]].race,rarity:t[10][t[72]].rarity,points:t[10][t[72]].points}}),e.$on("cardClick",t[21]),{c(){ce(e.$$.fragment)},m(i,s){oe(e,i,s),n=!0},p(i,s){const r={};s[0]&6144&&(r.faceUp=i[14]("p2")||i[12].hasVision||i[11].isExposed),s[0]&3072&&(r.displayTitle=i[10][i[72]].displayTitle),s[0]&3072&&(r.title=i[10][i[72]].title),s[0]&3072&&(r.img=i[10][i[72]].image),s[0]&3072&&(r.trait=i[10][i[72]].trait),s[0]&3072&&(r.traitTitle=i[10][i[72]].traitTitle),s[0]&3072&&(r.description=i[10][i[72]].description),s[0]&3072&&(r.race=i[10][i[72]].race),s[0]&3072&&(r.rarity=i[10][i[72]].rarity),s[0]&3072&&(r.points=i[10][i[72]].points),e.$set(r)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function sl(t){let e,n;return e=new xn({props:{round:!0,customClasses:"btn__orange",$$slots:{default:[al]},$$scope:{ctx:t}}}),e.$on("click",t[17]),{c(){ce(e.$$.fragment)},m(i,s){oe(e,i,s),n=!0},p(i,s){const r={};s[3]&32768&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function rl(t){let e,n;return e=new xn({props:{round:!0,customClasses:"btn__orange_disabled",$$slots:{default:[ll]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(i,s){oe(e,i,s),n=!0},p(i,s){const r={};s[3]&32768&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function ol(t){let e,n;return e=new xn({props:{round:!0,customClasses:"btn__green",$$slots:{default:[cl]},$$scope:{ctx:t}}}),e.$on("click",t[13]),{c(){ce(e.$$.fragment)},m(i,s){oe(e,i,s),n=!0},p(i,s){const r={};s[3]&32768&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}function al(t){let e;return{c(){e=L("GDG")},m(n,i){z(n,e,i)},d(n){n&&V(e)}}}function ll(t){let e;return{c(){e=L("GDG")},m(n,i){z(n,e,i)},d(n){n&&V(e)}}}function cl(t){let e;return{c(){e=L("Start")},m(n,i){z(n,e,i)},d(n){n&&V(e)}}}function xs(t){let e,n=t[12].turn?"Player 1":"Player 2",i,s;return{c(){e=w("p"),i=L(n),s=w("span"),s.textContent="'s turn",y(s,"class","svelte-16l4w7d"),y(e,"class","turn-text svelte-16l4w7d")},m(r,o){z(r,e,o),f(e,i),f(e,s)},p(r,o){o[0]&4096&&n!==(n=r[12].turn?"Player 1":"Player 2")&&Q(i,n)},d(r){r&&V(e)}}}function er(t){let e,n,i;return n=new xn({props:{round:!0,customClasses:"btn__green",$$slots:{default:[ul]},$$scope:{ctx:t}}}),n.$on("click",t[13]),{c(){e=w("span"),ce(n.$$.fragment),y(e,"class","play-again-btn svelte-16l4w7d")},m(s,r){z(s,e,r),oe(n,e,null),i=!0},p(s,r){const o={};r[3]&32768&&(o.$$scope={dirty:r,ctx:s}),n.$set(o)},i(s){i||(v(n.$$.fragment,s),i=!0)},o(s){O(n.$$.fragment,s),i=!1},d(s){s&&V(e),ae(n)}}}function ul(t){let e;return{c(){e=L("Rematch")},m(n,i){z(n,e,i)},d(n){n&&V(e)}}}function tr(t){let e,n=t[95]+"",i,s;return{c(){e=w("span"),i=L(n),s=L("  "),y(e,"class","color-blue svelte-16l4w7d")},m(r,o){z(r,e,o),f(e,i),f(e,s)},p(r,o){o[0]&4096&&n!==(n=r[95]+"")&&Q(i,n)},d(r){r&&V(e)}}}function nr(t){let e,n=t[92]+"",i,s;return{c(){e=w("span"),i=L(n),s=L("  "),y(e,"class","color-red svelte-16l4w7d")},m(r,o){z(r,e,o),f(e,i),f(e,s)},p(r,o){o[0]&4096&&n!==(n=r[92]+"")&&Q(i,n)},d(r){r&&V(e)}}}function ir(t){let e,n=t[89]+"",i,s;return{c(){e=w("span"),i=L(n),s=L("  "),y(e,"class","color-purple svelte-16l4w7d")},m(r,o){z(r,e,o),f(e,i),f(e,s)},p(r,o){o[0]&4096&&n!==(n=r[89]+"")&&Q(i,n)},d(r){r&&V(e)}}}function sr(t){let e,n=t[95]+"",i,s;return{c(){e=w("span"),i=L(n),s=L("  "),y(e,"class","color-blue svelte-16l4w7d")},m(r,o){z(r,e,o),f(e,i),f(e,s)},p(r,o){o[0]&2048&&n!==(n=r[95]+"")&&Q(i,n)},d(r){r&&V(e)}}}function rr(t){let e,n=t[92]+"",i,s;return{c(){e=w("span"),i=L(n),s=L("  "),y(e,"class","color-red svelte-16l4w7d")},m(r,o){z(r,e,o),f(e,i),f(e,s)},p(r,o){o[0]&2048&&n!==(n=r[92]+"")&&Q(i,n)},d(r){r&&V(e)}}}function or(t){let e,n=t[89]+"",i,s;return{c(){e=w("span"),i=L(n),s=L("  "),y(e,"class","color-purple svelte-16l4w7d")},m(r,o){z(r,e,o),f(e,i),f(e,s)},p(r,o){o[0]&2048&&n!==(n=r[89]+"")&&Q(i,n)},d(r){r&&V(e)}}}function ar(t){let e,n,i;return n=new Qe({props:{displayTitle:t[10][t[72]].displayTitle,title:t[10][t[72]].title,img:t[10][t[72]].image,race:t[10][t[72]].race,rarity:t[10][t[72]].rarity,points:t[18](t[72],"p1")}}),{c(){e=w("div"),ce(n.$$.fragment),y(e,"class","history__card-wrapper svelte-16l4w7d")},m(s,r){z(s,e,r),oe(n,e,null),i=!0},p(s,r){const o={};r[0]&5120&&(o.displayTitle=s[10][s[72]].displayTitle),r[0]&5120&&(o.title=s[10][s[72]].title),r[0]&5120&&(o.img=s[10][s[72]].image),r[0]&5120&&(o.race=s[10][s[72]].race),r[0]&5120&&(o.rarity=s[10][s[72]].rarity),r[0]&4096&&(o.points=s[18](s[72],"p1")),n.$set(o)},i(s){i||(v(n.$$.fragment,s),i=!0)},o(s){O(n.$$.fragment,s),i=!1},d(s){s&&V(e),ae(n)}}}function lr(t){let e,n,i,s;return n=new Qe({props:{displayTitle:t[10][t[72]].displayTitle,title:t[10][t[72]].title,img:t[10][t[72]].image,race:t[10][t[72]].race,rarity:t[10][t[72]].rarity,points:t[18](t[72],"p1")}}),{c(){e=w("div"),ce(n.$$.fragment),i=k(),y(e,"class","history__card-wrapper svelte-16l4w7d")},m(r,o){z(r,e,o),oe(n,e,null),f(e,i),s=!0},p(r,o){const c={};o[0]&5120&&(c.displayTitle=r[10][r[72]].displayTitle),o[0]&5120&&(c.title=r[10][r[72]].title),o[0]&5120&&(c.img=r[10][r[72]].image),o[0]&5120&&(c.race=r[10][r[72]].race),o[0]&5120&&(c.rarity=r[10][r[72]].rarity),o[0]&4096&&(c.points=r[18](r[72],"p1")),n.$set(c)},i(r){s||(v(n.$$.fragment,r),s=!0)},o(r){O(n.$$.fragment,r),s=!1},d(r){r&&V(e),ae(n)}}}function cr(t){let e,n,i,s;return n=new Qe({props:{displayTitle:t[10][t[72]].displayTitle,title:t[10][t[72]].title,img:t[10][t[72]].image,race:t[10][t[72]].race,rarity:t[10][t[72]].rarity,points:t[18](t[72],"p1")}}),{c(){e=w("div"),ce(n.$$.fragment),i=k(),y(e,"class","history__card-wrapper svelte-16l4w7d")},m(r,o){z(r,e,o),oe(n,e,null),f(e,i),s=!0},p(r,o){const c={};o[0]&5120&&(c.displayTitle=r[10][r[72]].displayTitle),o[0]&5120&&(c.title=r[10][r[72]].title),o[0]&5120&&(c.img=r[10][r[72]].image),o[0]&5120&&(c.race=r[10][r[72]].race),o[0]&5120&&(c.rarity=r[10][r[72]].rarity),o[0]&4096&&(c.points=r[18](r[72],"p1")),n.$set(c)},i(r){s||(v(n.$$.fragment,r),s=!0)},o(r){O(n.$$.fragment,r),s=!1},d(r){r&&V(e),ae(n)}}}function ur(t){let e,n,i,s;return n=new Qe({props:{displayTitle:t[10][t[72]].displayTitle,title:t[10][t[72]].title,img:t[10][t[72]].image,race:t[10][t[72]].race,rarity:t[10][t[72]].rarity,points:t[18](t[72],"p1")}}),{c(){e=w("div"),ce(n.$$.fragment),i=k(),y(e,"class","history__card-wrapper svelte-16l4w7d")},m(r,o){z(r,e,o),oe(n,e,null),f(e,i),s=!0},p(r,o){const c={};o[0]&5120&&(c.displayTitle=r[10][r[72]].displayTitle),o[0]&5120&&(c.title=r[10][r[72]].title),o[0]&5120&&(c.img=r[10][r[72]].image),o[0]&5120&&(c.race=r[10][r[72]].race),o[0]&5120&&(c.rarity=r[10][r[72]].rarity),o[0]&4096&&(c.points=r[18](r[72],"p1")),n.$set(c)},i(r){s||(v(n.$$.fragment,r),s=!0)},o(r){O(n.$$.fragment,r),s=!1},d(r){r&&V(e),ae(n)}}}function fr(t){let e,n,i;return n=new Qe({props:{displayTitle:t[10][t[72]].displayTitle,title:t[10][t[72]].title,img:t[10][t[72]].image,race:t[10][t[72]].race,rarity:t[10][t[72]].rarity,points:t[18](t[72],"p2")}}),{c(){e=w("div"),ce(n.$$.fragment),y(e,"class","history__card-wrapper svelte-16l4w7d")},m(s,r){z(s,e,r),oe(n,e,null),i=!0},p(s,r){const o={};r[0]&3072&&(o.displayTitle=s[10][s[72]].displayTitle),r[0]&3072&&(o.title=s[10][s[72]].title),r[0]&3072&&(o.img=s[10][s[72]].image),r[0]&3072&&(o.race=s[10][s[72]].race),r[0]&3072&&(o.rarity=s[10][s[72]].rarity),r[0]&2048&&(o.points=s[18](s[72],"p2")),n.$set(o)},i(s){i||(v(n.$$.fragment,s),i=!0)},o(s){O(n.$$.fragment,s),i=!1},d(s){s&&V(e),ae(n)}}}function hr(t){let e,n,i,s;return n=new Qe({props:{displayTitle:t[10][t[72]].displayTitle,title:t[10][t[72]].title,img:t[10][t[72]].image,race:t[10][t[72]].race,rarity:t[10][t[72]].rarity,points:t[18](t[72],"p2")}}),{c(){e=w("div"),ce(n.$$.fragment),i=k(),y(e,"class","history__card-wrapper svelte-16l4w7d")},m(r,o){z(r,e,o),oe(n,e,null),f(e,i),s=!0},p(r,o){const c={};o[0]&3072&&(c.displayTitle=r[10][r[72]].displayTitle),o[0]&3072&&(c.title=r[10][r[72]].title),o[0]&3072&&(c.img=r[10][r[72]].image),o[0]&3072&&(c.race=r[10][r[72]].race),o[0]&3072&&(c.rarity=r[10][r[72]].rarity),o[0]&2048&&(c.points=r[18](r[72],"p2")),n.$set(c)},i(r){s||(v(n.$$.fragment,r),s=!0)},o(r){O(n.$$.fragment,r),s=!1},d(r){r&&V(e),ae(n)}}}function dr(t){let e,n,i,s;return n=new Qe({props:{displayTitle:t[10][t[72]].displayTitle,title:t[10][t[72]].title,img:t[10][t[72]].image,race:t[10][t[72]].race,rarity:t[10][t[72]].rarity,points:t[18](t[72],"p2")}}),{c(){e=w("div"),ce(n.$$.fragment),i=k(),y(e,"class","history__card-wrapper svelte-16l4w7d")},m(r,o){z(r,e,o),oe(n,e,null),f(e,i),s=!0},p(r,o){const c={};o[0]&3072&&(c.displayTitle=r[10][r[72]].displayTitle),o[0]&3072&&(c.title=r[10][r[72]].title),o[0]&3072&&(c.img=r[10][r[72]].image),o[0]&3072&&(c.race=r[10][r[72]].race),o[0]&3072&&(c.rarity=r[10][r[72]].rarity),o[0]&2048&&(c.points=r[18](r[72],"p2")),n.$set(c)},i(r){s||(v(n.$$.fragment,r),s=!0)},o(r){O(n.$$.fragment,r),s=!1},d(r){r&&V(e),ae(n)}}}function pr(t){let e,n,i,s;return n=new Qe({props:{displayTitle:t[10][t[72]].displayTitle,title:t[10][t[72]].title,img:t[10][t[72]].image,race:t[10][t[72]].race,rarity:t[10][t[72]].rarity,points:t[18](t[72],"p2")}}),{c(){e=w("div"),ce(n.$$.fragment),i=k(),y(e,"class","history__card-wrapper svelte-16l4w7d")},m(r,o){z(r,e,o),oe(n,e,null),f(e,i),s=!0},p(r,o){const c={};o[0]&3072&&(c.displayTitle=r[10][r[72]].displayTitle),o[0]&3072&&(c.title=r[10][r[72]].title),o[0]&3072&&(c.img=r[10][r[72]].image),o[0]&3072&&(c.race=r[10][r[72]].race),o[0]&3072&&(c.rarity=r[10][r[72]].rarity),o[0]&2048&&(c.points=r[18](r[72],"p2")),n.$set(c)},i(r){s||(v(n.$$.fragment,r),s=!0)},o(r){O(n.$$.fragment,r),s=!1},d(r){r&&V(e),ae(n)}}}function fl(t){let e,n,i,s,r,o,c,l,d,g,m=t[8]&&Ys();const _=[il,nl],A=[];function B(S,T){return S[3]?0:1}return o=B(t),c=A[o]=_[o](t),{c(){e=w("main"),n=ns("svg"),i=ns("path"),s=k(),m&&m.c(),r=k(),c.c(),y(i,"stroke-linecap","round"),y(i,"stroke-linejoin","round"),y(i,"d","M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"),y(n,"xmlns","http://www.w3.org/2000/svg"),y(n,"viewBox","0 0 24 24"),y(n,"class","card-library-btn svelte-16l4w7d"),y(e,"class","main-content svelte-16l4w7d")},m(S,T){z(S,e,T),f(e,n),f(n,i),f(e,s),m&&m.m(e,null),f(e,r),A[o].m(e,null),l=!0,d||(g=Qt(n,"click",t[19]),d=!0)},p(S,T){S[8]?m?T[0]&256&&v(m,1):(m=Ys(),m.c(),v(m,1),m.m(e,r)):m&&(Be(),O(m,1,1,()=>{m=null}),Re());let W=o;o=B(S),o===W?A[o].p(S,T):(Be(),O(A[W],1,1,()=>{A[W]=null}),Re(),c=A[o],c?c.p(S,T):(c=A[o]=_[o](S),c.c()),v(c,1),c.m(e,null))},i(S){l||(v(m),v(c),l=!0)},o(S){O(m),O(c),l=!1},d(S){S&&V(e),m&&m.d(),A[o].d(),d=!1,g()}}}function hl(t,e){let n=t.hand.filter(s=>s==="protectron").length,i=t.hand.filter(s=>s==="virus").length;t.hand.includes("ai")&&(n+=e.hand.filter(s=>s==="protectron").length,i+=e.hand.filter(s=>s==="virus").length),t.hand.forEach(s=>{s==="virus"&&(t.points.bots+=8),s==="protectron"&&(t.points.bots+=n*i)}),t.hand.includes("ai")&&e.hand.forEach(s=>{s==="virus"&&(t.points.bots+=8),s==="protectron"&&(t.points.bots+=n*i)})}function dl(t,e,n){let i,s,r,o,c,l,d,g,m,_,A,B,S,T,W;Pe(t,Gt,a=>n(10,i=a)),Pe(t,Fo,a=>n(26,s=a)),Pe(t,pe,a=>n(11,r=a)),Pe(t,de,a=>n(12,o=a)),Pe(t,Yo,a=>n(27,c=a)),Pe(t,Xo,a=>n(28,l=a)),Pe(t,Ko,a=>n(29,d=a)),Pe(t,Go,a=>n(30,g=a)),Pe(t,jo,a=>n(31,m=a)),Pe(t,Wo,a=>n(32,_=a)),Pe(t,zo,a=>n(33,A=a)),Pe(t,Vo,a=>n(34,B=a)),Pe(t,Uo,a=>n(35,S=a)),Pe(t,pn,a=>n(36,T=a)),Pe(t,dn,a=>n(37,W=a));let C=Kn("http://192.168.2.51:6912"),F=!1,te=!1,ge=!1,M=!0,Y="",ne="",H=0,x=!1,me="",ue=!1,X=!1,J={...i},R={beasts:[...S],bots:[...B],dwarves:[...s],elves:[...A],goblins:[..._],humans:[...m],xenos:[...g],boosts:[...d],traps:[...l],neutrals:[...c]},U=Object.keys(R);Tr(()=>{C.on("connect",()=>console.log(`User ID: ${C.id} connected!`)),C.on("connect_error",a=>console.error("Connection error:",a)),C.on("set-users",a=>{Object.entries(a).forEach(([p,E])=>{de.update(N=>(N.id=a.p1,N)),dn.set({...o}),pe.update(N=>(N.id=a.p2,N)),pn.set({...r})})}),C.on("game-started",a=>{ie(),de.set(a.player1),pe.set(a.player2),R={...a.fullDeck}}),C.on("add-turn-count",()=>n(5,H++,H)),C.on("turn-changed",a=>{de.update(p=>(p.turn=!a.player1.turn,p.playingTwice=!1,p.hasVision=!1,p)),pe.update(p=>(p.turn=!a.player2.turn,p.playingTwice=!1,p.hasVision=!1,p))}),C.on("turn-count-increased",()=>n(5,H+=3)),C.on("card-drawn",a=>{R={...a.fullDeck},U=a.deckTypes,de.set(a.player1),pe.set(a.player2)}),C.on("hands-swapped",a=>{de.set(a.player1),pe.set(a.player2)}),C.on("deck-neutralized",()=>Dt()),C.on("event-displayed",a=>An(a)),C.on("card-discarded",a=>{de.set(a.player1),pe.set(a.player2)}),C.on("gdg-declared",()=>n(0,F=!0)),C.on("end-game-sync-started",a=>{_e()==="p1"&&pe.set(a.player2),_e()==="p2"&&de.set(a.player1),J={...a.cardDetails},C.emit("finish-end-game-sync",{player1:o,player2:r,cardDetails:i})}),C.on("end-game-sync-finished",a=>{de.set(a.player1),pe.set(a.player2),J={...a.cardDetails}}),C.on("game-ended",a=>I()),C.emit("client-ready")});function I(){M=!0,n(2,ge=!1),n(1,te=!0),de.update(a=>(a.turn=!1,a)),pe.update(a=>(a.turn=!1,a)),en(o,r),en(r,o),console.log({p1:o,p2:r}),be(),j(),j(!0),console.log(o,r)}function ie(){de.set({...W}),pe.set({...T}),R={beasts:[...S],bots:[...B],dwarves:[...s],elves:[...A],goblins:[..._],humans:[...m],xenos:[...g],boosts:[...d],traps:[...l],neutrals:[...c]},nt(Gt,i.warpstalker.points=0,i),nt(Gt,i.voidRunner.points=0,i),U=Object.keys(R),J={...i},n(5,H=0),M=!1,n(2,ge=!0),n(0,F=!1),n(1,te=!1),n(3,Y="")}function qe(){ie(),q(o),q(r),ee(),C.emit("start-game",{player1:o,player2:r,fullDeck:R})}function ee(){Math.ceil(Math.random()*2)===1?(nt(de,o.playedFirst=!0,o),nt(de,o.turn=!0,o),nt(pe,r.turn=!1,r)):(nt(pe,r.playedFirst=!0,r),nt(de,o.turn=!1,o),nt(pe,r.turn=!0,r))}function tt(a){a.playingTwice||a.hand.length>=6||(o.playedFirst&&o.turn||r.playedFirst&&r.turn)&&C.emit("new-turn")}function j(a=!1){const p=R.beasts?R.beasts.length:0,E=R.bots?R.bots.length:0,N=R.dwarves?R.dwarves.length:0,re=R.elves?R.elves.length:0,Oe=R.goblins?R.goblins.length:0,he=R.humans?R.humans.length:0,bt=R.xenos?R.xenos.length:0,St=R.boosts?R.boosts.length:0,un=R.traps?R.traps.length:0,Lt=R.neutrals?R.neutrals.length:0;if(a)console.log(`Cards remaining per deck:

      Beasts: ${p}

      Humans: ${he}

      Goblins: ${Oe}

      Elves: ${re}

      Dwarves: ${N}
)
      Bots: ${E}
)
      Xenos: ${bt}
)
      Boosts: ${St}
)
      Traps: ${un}
)
      Neutrals: ${Lt}
`);else{const ut=he+Oe+re+N+E+p+bt+St+un+Lt;console.log(`Cards remaining in deck: ${ut}`)}}function se(){return!!(o.id===C.id&&o.turn||r.id===C.id&&r.turn)}function _e(){return o.id===C.id?"p1":r.id===C.id?"p2":"guest"}function fe(a){return!!(M||_e()==="guest"||_e()==="p1"&&a==="p1"||_e()==="p2"&&a==="p2")}function P(){C.emit("change-turns",{player1:o,player2:r})}function q(a){a.hand=[];for(let p=1;p<=5;p++){let E=Math.floor(Math.random()*U.length),N=U[E];E=Math.floor(Math.random()*R[N].length);const re=R[N][E],Oe=R[N].indexOf(re);R[N].splice(Oe,1),a.hand.push(re),["corruption"].includes(re)&&pt(a,re),["chastity"].includes(re)&&on(a,re),["switcharoo"].includes(re)&&_t(a,re)}o===a?de.update(p=>(p.hand=a.hand,p.startingHand=a.hand,p)):pe.update(p=>(p.hand=a.hand,p.startingHand=a.hand,p))}function le(a,p=!0){if(M)return;p&&tt(a);let E="",N="",re=0;if(n(1,te=!0),p&&a.hand.length===5&&(a.isExposed=!1),a.hand.length>5&&!a.playingTwice||a.hand.length>=7)return;if(a.dwarfNextTurn?E=K(a):(re=Math.floor(Math.random()*U.length),E=U[re]),U.length===0&&E===void 0){console.log("No more cards!"),n(6,x=!0),C.emit("start-end-game-sync",{player1:o,player2:r,cardDetails:i}),setTimeout(()=>{C.emit("end-game"),n(6,x=!1)},1500);return}if(a.goblinLordMarked)a.goblinLordMarked=!1,R.goblins.length===0?E=U[re]:E="goblins",R.goblins.includes("goblinLord")?N=R.goblins.find(he=>he==="goblinLord"):(re=Math.floor(Math.random()*R[E].length),N=R[E][re]);else{if(E==="elves"&&R.elves.includes("elfChampion")?N=R.elves.find(he=>he==="elfChampion"):(re=Math.floor(Math.random()*R[E].length),N=R[E][re]),a.drewWarchief&&Ue(a)&&(E="goblins",N="goblinLordsMark"),N==="lost"&&a.hand.includes("chastity")){const he=R[E].indexOf(N);if(R[E].splice(he,1),R[E].length===0){const bt=U.indexOf(E);U.splice(bt,1)}le(a,!1);return}(N==="longbeardLeader"||N==="dwarfCommander"||N==="dwarvenCall"&&!a.hasCorruption)&&(a.dwarfNextTurn=!0),N==="warchief"&&(a.drewWarchief=!0),N==="goblinLordsMark"&&(a.goblinLordMarked=!0),(N==="warpstalker"||N==="voidRunner")&&sn(a,N),i[N].race==="trap"&&pt(a,N),i[N].race==="boost"&&on(a,N),i[N].race==="neutral"&&_t(a,N)}const Oe=R[E].indexOf(N);if(R[E].splice(Oe,1),R[E].length===0){const he=U.indexOf(E);U.splice(he,1)}_e()==="p1"?de.update(he=>(he.hand=[...he.hand,N],he.cardsDrawn=[...a.cardsDrawn,N],he)):pe.update(he=>(he.hand=[...he.hand,N],he.cardsDrawn=[...a.cardsDrawn,N],he)),C.emit("draw-card",{player1:o,player2:r,deckTypes:U,fullDeck:R})}function K(a){a.dwarfNextTurn=!1;let p="",E=0;return R.dwarves&&R.dwarves.length!==0?p="dwarves":(E=Math.floor(Math.random()*U.length),p=U[E]),p}function Ue(a){return a.drewWarchief=!1,!!(R.goblins&&R.goblins.includes("goblinLordsMark"))}function Ze(){M||_e()!=="guest"&&(se()&&o.turn&&le(o),se()&&r.turn&&le(r))}function ht(a){if(!se())return;const p=_e()==="p1"?o:r;if(o.turn){const E=o.hand.indexOf(a);de.update(N=>(N.hand.splice(E,1),N.discards=[...N.discards,a],N))}else if(r.turn){const E=r.hand.indexOf(a);pe.update(N=>(N.hand.splice(E,1),N.discards=[...N.discards,a],N))}C.emit("discard-card",{player1:o,player2:r}),a==="switcharoo"&&p.hand.length===5&&!F&&ct(),p.playingTwice&&a!=="echo"&&(p.playingTwice=!1),a==="alchemist"&&(p.dwarfNextTurn=Math.random()<.5),!(p.hand.length>5)&&(F?(n(6,x=!0),C.emit("start-end-game-sync",{player1:o,player2:r,cardDetails:i}),setTimeout(()=>{C.emit("end-game"),n(6,x=!1)},1500)):(P(),n(1,te=!1)))}function ct(){C.emit("display-event","switcharoo");let a=[...r.hand];pe.update(p=>(p.hand=[...o.hand],p)),de.update(p=>(p.hand=[...a],p)),C.emit("swap-hands",{player1:o,player2:r})}function Le(a,p){let E=a.detail.title;p.length>5&&ht(E)}function dt(){se()&&(M||(F?(n(6,x=!0),C.emit("start-end-game-sync",{player1:o,player2:r,cardDetails:i}),setTimeout(()=>{C.emit("end-game"),n(6,x=!1)},2e3)):(console.log("Gobbledegook declared!!"),P(),n(0,F=!0),C.emit("gdg-declared"))))}function be(){o.highestPoints>r.highestPoints?(de.update(a=>(a.wins+=1,a)),dn.update(a=>(a.wins+=1,a)),pe.update(a=>(a.losses+=1,a)),pn.update(a=>(a.losses+=1,a)),n(3,Y=`Player 1 is the winner with ${o.highestPoints} points!🎊🥳🍾`),n(4,ne=`Player 2 loses with ${r.highestPoints} points...${r.highestPoints<=0?"💩💩💩":"💩"}`)):r.highestPoints>o.highestPoints?(de.update(a=>(a.losses+=1,a)),dn.update(a=>(a.losses+=1,a)),pe.update(a=>(a.wins+=1,a)),pn.update(a=>(a.wins+=1,a)),n(3,Y=`Player 2 is the winner with ${r.highestPoints} points!🎊🥳🍾`),n(4,ne=`Player 1 loses with ${o.highestPoints} points...${o.highestPoints<=0?"💩💩💩":"💩"}`)):o.highestPoints===5e5&&r.highestPoints===5e5?(de.update(a=>(a.draws+=1,a)),dn.update(a=>(a.draws+=1,a)),pe.update(a=>(a.draws+=1,a)),pn.update(a=>(a.draws+=1,a)),n(3,Y="It seems neither the goblins nor the elves want to go to war with each other while their leaders are on the field..."),n(4,ne=" it's a draw!😓😓😓")):(de.update(a=>(a.draws+=1,a)),pe.update(a=>(a.draws+=1,a)),n(3,Y=`Player 1 had ${o.highestPoints} points and player 2 had ${r.highestPoints} points...`),n(4,ne=" it's a draw!😓"))}function He(a){a.hand.forEach(p=>{const E=i[p].race;switch(E){case"beast":a.points.beasts+=i[p].points;break;case"bot":i[p].title==="faeBot"&&(a.points.elves+=i[p].points),a.points.bots+=i[p].points;break;case"elf":a.points.elves+=i[p].points;break;case"dwarf":i[p].title==="hobbit"&&(a.points.humans+=i[p].points),a.points.dwarves+=i[p].points;break;case"goblin":a.points.goblins+=i[p].points;break;case"human":a.points.humans+=i[p].points;break;case"xeno":a.points.xenos+=_e()==="p1"&&a===o||_e()==="p2"&&a===r?i[p].points:J[p].points;break;default:console.log(`Didn't match a race? This was the race of the card: ${E}`)}a.highestPoints=Math.max(a.points.beasts,a.points.bots,a.points.dwarves,a.points.elves,a.points.goblins,a.points.humans,a.points.xenos)})}function en(a,p){He(a),p.hand.includes("ai")&&(a.points.bots=0),a.hand.includes("commander")&&tn(a),a.hand.includes("emperor")&&Rt(a),a.hand.includes("goblinLord")&&Tn(a,p),a.hand.includes("elfKing")&&Pt(a,p),a.hand.includes("dreamDestroyer")&&Ot(a),a.hand.includes("dreamDestroyer")&&Ot(a),a.hand.includes("ai")&&Cn(a,p),a.hand.includes("protectron")&&hl(a,p),a.hand.includes("longbeardLeader")&&nn(a),a.hand.includes("nelladan")&&a.hand.includes("nadallen")&&(a.points.elves+=10),a.hand.includes("nebulite")&&sn(a,"nebulite"),an(a),En(a),ln(a),a.highestPoints=Math.max(a.points.beasts,a.points.bots,a.points.dwarves,a.points.elves,a.points.goblins,a.points.humans,a.points.xenos)}function Rt(a){a.points.humans*=2,a.hand.forEach(p=>{i[p].race!=="human"&&i[p].race!=="xeno"&&i[p].title!=="hobbit"&&(a.points.humans+=i[p].points)})}function tn(a){let p=a.hand.filter(E=>E==="commander").length;a.hand.forEach(E=>{(i[E].race==="human"||i[E].title==="hobbit")&&(a.points.humans+=p)})}function Tn(a,p){const E=a.hand.every(Oe=>i[Oe].race==="goblin");console.log(`from inside calculateGoblinLord, goblinHand = ${E}`);const N=p.hand.every(Oe=>i[Oe].race==="elf"),re=p.hand.includes("elfKing");E&&N&&re?a.points.goblins=5e5:E&&(a.points.goblins=1e6)}function Pt(a,p){const E=p.hand.every(Oe=>i[Oe].race==="goblin"),N=a.hand.every(Oe=>i[Oe].race==="elf"||i[Oe].title==="faeBot"),re=p.hand.includes("goblinLord");E&&re&&N?a.points.elves=5e5:N?a.points.elves*=3:a.points.elves*=2}function Ot(a){a.points.beasts=0,a.hand.forEach(p=>{i[p].race==="beast"&&(a.points.beasts+=12)})}function Cn(a,p){a.points.bots=0,p.points.bots=0,a.hand.forEach(E=>{i[E].race==="bot"&&(a.points.bots+=i[E].points+2)}),p.hand.forEach(E=>{i[E].race==="bot"&&(a.points.bots+=i[E].points+2)})}function nn(a){let p=0;o.discards.forEach(E=>{s.includes(E)&&(p+=1)}),r.discards.forEach(E=>{s.includes(E)&&(p+=1)}),a.points.dwarves+=p*5}function sn(a,p){p==="warpstalker"&&nt(Gt,i[p].points=Math.ceil(Math.random()*7)+6,i),p==="voidRunner"&&nt(Gt,i[p].points=H,i),p==="nebulite"&&a.hand.forEach(E=>{i[E].race==="xeno"&&i[E].title!=="nebulite"&&(a.points.xenos+=4)})}function rn(a,p){if(!["warpstalker","voidRunner"].includes(a))return i[a].points;if(_e()===p){if(a==="warpstalker")return i.warpstalker.points;if(a==="voidRunner")return i.voidRunner.points}else{if(a==="warpstalker")return J.warpstalker.points;if(a==="voidRunner")return J.voidRunner.points}}function on(a,p){a.boosts=[...a.boosts,p],p==="chastity"&&(a.hasChastity=!0),p==="charge"&&(a.chargeDrawnTurns=[...a.chargeDrawnTurns,H])}function an(a){if(!(a.hand.includes("xenoguard")||a.hand.includes("corruption")||a.discards.includes("corruption"))){for(let p=0;p<a.chargeDrawnTurns.length;p++)a.chargePoints+=H-a.chargeDrawnTurns[p];a.points.bots+=a.chargePoints,a.points.humans+=a.chargePoints,a.boosts.forEach(p=>{p==="rejuvenate"&&Object.entries(a.points).forEach(([E,N])=>a.points[E]+=10)})}}function pt(a,p){a.traps=[...a.traps,p],p==="corruption"&&(a.hasCorruption=!0),p==="infect"&&(a.infectDrawnTurns=[...a.infectDrawnTurns,H]),p==="exposed"&&!a.hasChastity&&!a.hand.includes("chastity")&&(a.isExposed=!0)}function En(a){if(!(a.hand.includes("rhino")||a.hand.includes("chastity")||a.discards.includes("chastity"))){for(let p=0;p<a.infectDrawnTurns.length;p++)a.infectPoints+=H-a.infectDrawnTurns[p];Object.entries(a.points).forEach(([p,E])=>a.points[p]-=a.infectPoints),a.traps.forEach(p=>{p==="sap"&&Object.entries(a.points).forEach(([E,N])=>a.points[E]-=10),p==="xenophobia"&&(a.points.xenos-=10)})}}function _t(a,p){a.neutrals=[...a.neutrals,p],p==="echo"&&(a.playingTwice=!0),p==="vision"&&(a.hasVision=!0),p==="ticktock"&&(C.emit("increase-turn-count"),C.emit("display-event","ticktock")),p==="neutralize"&&C.emit("neutralize-deck"),p==="xenoBloom"&&C.emit("display-event","xenoBloom")}function Dt(){C.emit("display-event","neutralize"),de.update(a=>(a.boosts=[],a.traps=[],a.neutrals=[],a.chargeDrawnTurns=[],a.infectDrawnTurns=[],a.hasChastity=!1,a.hasCorruption=!1,a.hasVision=!1,a.isExposed=!1,a.chargePoints=0,a.infectPoints=0,a)),pe.update(a=>(a.boosts=[],a.traps=[],a.neutrals=[],a.chargeDrawnTurns=[],a.infectDrawnTurns=[],a.hasChastity=!1,a.hasCorruption=!1,a.hasVision=!1,a.isExposed=!1,a.chargePoints=0,a.infectPoints=0,a))}function ln(a){a.neutrals.forEach(p=>{p==="xenoBloom"&&(de.update(E=>(E.points.xenos+=15,E)),pe.update(E=>(E.points.xenos+=15,E)))})}function An(a){n(9,X=!0),setTimeout(()=>n(9,X=!1),2e3),a==="neutralize"&&n(7,me="Neutralized!"),a==="switcharoo"&&n(7,me="Switcharoo!"),a==="xenoBloom"&&n(7,me="XenoBloom!"),a==="ticktock"&&n(7,me="Tick Tock!")}function cn(){n(8,ue=!ue)}return[F,te,ge,Y,ne,H,x,me,ue,X,i,r,o,qe,fe,Ze,Le,dt,rn,cn,a=>Le(a,o.hand),a=>Le(a,r.hand)]}class pl extends lt{constructor(e){super(),at(this,e,dl,fl,et,{},null,[-1,-1,-1,-1])}}function gl(t){let e,n,i;return n=new pl({}),{c(){e=w("main"),ce(n.$$.fragment),y(e,"class","svelte-hd17me")},m(s,r){z(s,e,r),oe(n,e,null),i=!0},p:Z,i(s){i||(v(n.$$.fragment,s),i=!0)},o(s){O(n.$$.fragment,s),i=!1},d(s){s&&V(e),ae(n)}}}class gr extends lt{constructor(e){super(),at(this,e,null,gl,et,{})}}function ml(t){let e,n,i,s;return e=new gs({props:{path:"/home",component:gr}}),i=new gs({props:{path:"/",component:gr}}),{c(){ce(e.$$.fragment),n=k(),ce(i.$$.fragment)},m(r,o){oe(e,r,o),z(r,n,o),oe(i,r,o),s=!0},p:Z,i(r){s||(v(e.$$.fragment,r),v(i.$$.fragment,r),s=!0)},o(r){O(e.$$.fragment,r),O(i.$$.fragment,r),s=!1},d(r){ae(e,r),r&&V(n),ae(i,r)}}}function _l(t){let e,n;return e=new qo({props:{$$slots:{default:[ml]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(i,s){oe(e,i,s),n=!0},p(i,[s]){const r={};s&1&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(v(e.$$.fragment,i),n=!0)},o(i){O(e.$$.fragment,i),n=!1},d(i){ae(e,i)}}}class bl extends lt{constructor(e){super(),at(this,e,null,_l,et,{})}}new bl({target:document.getElementById("app")});
