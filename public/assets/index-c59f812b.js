(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function X(){}const Qt=t=>t;function xe(t,e){for(const n in e)t[n]=e[n];return t}function mr(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Li(t){return t()}function Nn(){return Object.create(null)}function We(t){t.forEach(Li)}function _t(t){return typeof t=="function"}function Ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let It;function Dn(t,e){return It||(It=document.createElement("a")),It.href=e,t===It.href}function _r(t){return Object.keys(t).length===0}function Ni(t,...e){if(t==null)return X;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function we(t,e,n){t.$$.on_destroy.push(Ni(e,n))}function et(t,e,n,i){if(t){const r=Di(t,e,n,i);return t[0](r)}}function Di(t,e,n,i){return t[1]&&i?xe(n.ctx.slice(),t[1](i(e))):n.ctx}function tt(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(e.dirty.length,r.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|r[a];return s}return e.dirty|r}return e.dirty}function nt(t,e,n,i,r,s){if(r){const o=Di(e,n,i,s);t.p(o,r)}}function it(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function cn(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Mn(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function be(t,e,n){return t.set(n),e}function In(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Mi=typeof window<"u";let bn=Mi?()=>window.performance.now():()=>Date.now(),yn=Mi?t=>requestAnimationFrame(t):X;const pt=new Set;function Ii(t){pt.forEach(e=>{e.c(t)||(pt.delete(e),e.f())}),pt.size!==0&&yn(Ii)}function wn(t){let e;return pt.size===0&&yn(Ii),{promise:new Promise(n=>{pt.add(e={c:t,f:n})}),abort(){pt.delete(e)}}}function p(t,e){t.appendChild(e)}function qi(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function br(t){const e=B("style");return yr(qi(t),e),e.sheet}function yr(t,e){return p(t.head||t,e),e.sheet}function G(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function Le(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function B(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function q(){return $(" ")}function bt(){return $("")}function rt(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function A(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const wr=["width","height"];function qn(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&wr.indexOf(i)===-1?t[i]=e[i]:A(t,i,e[i])}function kr(t){return Array.from(t.childNodes)}function Ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ui(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,i,e),r}function Un(t,e){return new t(e)}const jt=new Map;let Gt=0;function vr(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Tr(t,e){const n={stylesheet:br(e),rules:{}};return jt.set(t,n),n}function Yt(t,e,n,i,r,s,o,a=0){const l=16.666/i;let u=`{
`;for(let v=0;v<=1;v+=l){const S=e+(n-e)*s(v);u+=v*100+`%{${o(S,1-S)}}
`}const d=u+`100% {${o(n,1-n)}}
}`,w=`__svelte_${vr(d)}_${a}`,k=qi(t),{stylesheet:g,rules:m}=jt.get(k)||Tr(k,t);m[w]||(m[w]=!0,g.insertRule(`@keyframes ${w} ${d}`,g.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${w} ${i}ms linear ${r}ms 1 both`,Gt+=1,w}function $t(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=n.length-i.length;r&&(t.style.animation=i.join(", "),Gt-=r,Gt||Er())}function Er(){yn(()=>{Gt||(jt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&j(e)}),jt.clear())})}let Ot;function Ie(t){Ot=t}function yt(){if(!Ot)throw new Error("Function called outside component initialization");return Ot}function Hi(t){yt().$$.on_mount.push(t)}function Ar(t){yt().$$.on_destroy.push(t)}function Wi(){const t=yt();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=Ui(e,n,{cancelable:i});return r.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function tn(t,e){return yt().$$.context.set(t,e),e}function gt(t){return yt().$$.context.get(t)}function Ct(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const ht=[],Hn=[];let mt=[];const Wn=[],Cr=Promise.resolve();let un=!1;function Rr(){un||(un=!0,Cr.then(kn))}function qe(t){mt.push(t)}const nn=new Set;let ut=0;function kn(){if(ut!==0)return;const t=Ot;do{try{for(;ut<ht.length;){const e=ht[ut];ut++,Ie(e),Or(e.$$)}}catch(e){throw ht.length=0,ut=0,e}for(Ie(null),ht.length=0,ut=0;Hn.length;)Hn.pop()();for(let e=0;e<mt.length;e+=1){const n=mt[e];nn.has(n)||(nn.add(n),n())}mt.length=0}while(ht.length);for(;Wn.length;)Wn.pop()();un=!1,nn.clear(),Ie(t)}function Or(t){if(t.fragment!==null){t.update(),We(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(qe)}}function Br(t){const e=[],n=[];mt.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),mt=e}let Et;function vn(){return Et||(Et=Promise.resolve(),Et.then(()=>{Et=null})),Et}function Ze(t,e,n){t.dispatchEvent(Ui(`${e?"intro":"outro"}${n}`))}const Ft=new Set;let Ne;function me(){Ne={r:0,c:[],p:Ne}}function _e(){Ne.r||We(Ne.c),Ne=Ne.p}function T(t,e){t&&t.i&&(Ft.delete(t),t.i(e))}function C(t,e,n,i){if(t&&t.o){if(Ft.has(t))return;Ft.add(t),Ne.c.push(()=>{Ft.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Tn={duration:0};function Fi(t,e,n){const i={direction:"in"};let r=e(t,n,i),s=!1,o,a,l=0;function u(){o&&$t(t,o)}function d(){const{delay:k=0,duration:g=300,easing:m=Qt,tick:b=X,css:v}=r||Tn;v&&(o=Yt(t,0,1,g,k,m,v,l++)),b(0,1);const S=bn()+k,M=S+g;a&&a.abort(),s=!0,qe(()=>Ze(t,!0,"start")),a=wn(L=>{if(s){if(L>=M)return b(1,0),Ze(t,!0,"end"),u(),s=!1;if(L>=S){const W=m((L-S)/g);b(W,1-W)}}return s})}let w=!1;return{start(){w||(w=!0,$t(t),_t(r)?(r=r(i),vn().then(d)):d())},invalidate(){w=!1},end(){s&&(u(),s=!1)}}}function Vi(t,e,n){const i={direction:"out"};let r=e(t,n,i),s=!0,o;const a=Ne;a.r+=1;function l(){const{delay:u=0,duration:d=300,easing:w=Qt,tick:k=X,css:g}=r||Tn;g&&(o=Yt(t,1,0,d,u,w,g));const m=bn()+u,b=m+d;qe(()=>Ze(t,!1,"start")),wn(v=>{if(s){if(v>=b)return k(0,1),Ze(t,!1,"end"),--a.r||We(a.c),!1;if(v>=m){const S=w((v-m)/d);k(1-S,S)}}return s})}return _t(r)?vn().then(()=>{r=r(i),l()}):l(),{end(u){u&&r.tick&&r.tick(1,0),s&&(o&&$t(t,o),s=!1)}}}function Fn(t,e,n,i){const r={direction:"both"};let s=e(t,n,r),o=i?0:1,a=null,l=null,u=null;function d(){u&&$t(t,u)}function w(g,m){const b=g.b-o;return m*=Math.abs(b),{a:o,b:g.b,d:b,duration:m,start:g.start,end:g.start+m,group:g.group}}function k(g){const{delay:m=0,duration:b=300,easing:v=Qt,tick:S=X,css:M}=s||Tn,L={start:bn()+m,b:g};g||(L.group=Ne,Ne.r+=1),a||l?l=L:(M&&(d(),u=Yt(t,o,g,b,m,v,M)),g&&S(0,1),a=w(L,b),qe(()=>Ze(t,g,"start")),wn(W=>{if(l&&W>l.start&&(a=w(l,b),l=null,Ze(t,a.b,"start"),M&&(d(),u=Yt(t,o,a.b,a.duration,0,v,s.css))),a){if(W>=a.end)S(o=a.b,1-o),Ze(t,a.b,"end"),l||(a.b?d():--a.group.r||We(a.group.c)),a=null;else if(W>=a.start){const P=W-a.start;o=a.a+a.d*v(P/a.duration),S(o,1-o)}}return!!(a||l)}))}return{run(g){_t(s)?vn().then(()=>{s=s(r),k(g)}):k(g)},end(){d(),a=l=null}}}function Vn(t,e){const n=e.token={};function i(r,s,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const u=r&&(e.current=r)(l);let d=!1;e.block&&(e.blocks?e.blocks.forEach((w,k)=>{k!==s&&w&&(me(),C(w,1,1,()=>{e.blocks[k]===w&&(e.blocks[k]=null)}),_e())}):e.block.d(1),u.c(),T(u,1),u.m(e.mount(),e.anchor),d=!0),e.block=u,e.blocks&&(e.blocks[s]=u),d&&kn()}if(mr(t)){const r=yt();if(t.then(s=>{Ie(r),i(e.then,1,e.value,s),Ie(null)},s=>{if(Ie(r),i(e.catch,2,e.error,s),Ie(null),!e.hasCatch)throw s}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function Pr(t,e,n){const i=e.slice(),{resolved:r}=t;t.current===t.then&&(i[t.value]=r),t.current===t.catch&&(i[t.error]=r),t.block.p(i,n)}function zi(t,e){const n={},i={},r={$$scope:1};let s=t.length;for(;s--;){const o=t[s],a=e[s];if(a){for(const l in o)l in a||(i[l]=1);for(const l in a)r[l]||(n[l]=a[l],r[l]=1);t[s]=a}else for(const l in o)r[l]=1}for(const o in i)o in n||(n[o]=void 0);return n}function zn(t){return typeof t=="object"&&t!==null?t:{}}function ce(t){t&&t.c()}function x(t,e,n,i){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),i||qe(()=>{const o=t.$$.on_mount.map(Li).filter(_t);t.$$.on_destroy?t.$$.on_destroy.push(...o):We(o),t.$$.on_mount=[]}),s.forEach(qe)}function ee(t,e){const n=t.$$;n.fragment!==null&&(Br(n.after_update),We(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Sr(t,e){t.$$.dirty[0]===-1&&(ht.push(t),Rr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Fe(t,e,n,i,r,s,o,a=[-1]){const l=Ot;Ie(t);const u=t.$$={fragment:null,ctx:[],props:s,update:X,not_equal:r,bound:Nn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Nn(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let d=!1;if(u.ctx=n?n(t,e.props||{},(w,k,...g)=>{const m=g.length?g[0]:k;return u.ctx&&r(u.ctx[w],u.ctx[w]=m)&&(!u.skip_bound&&u.bound[w]&&u.bound[w](m),d&&Sr(t,w)),k}):[],u.update(),d=!0,We(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const w=kr(e.target);u.fragment&&u.fragment.l(w),w.forEach(j)}else u.fragment&&u.fragment.c();e.intro&&T(t.$$.fragment),x(t,e.target,e.anchor,e.customElement),kn()}Ie(l)}class Ve{$destroy(){ee(this,1),this.$destroy=X}$on(e,n){if(!_t(n))return X;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!_r(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fn={},Xt={},Ki={},ji=/^:(.+)/,Kn=4,Lr=3,Nr=2,Dr=1,Mr=1,Bt=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),rn=t=>t.replace(/(^\/+|\/+$)/g,""),Ir=(t,e)=>{const n=t.default?0:Bt(t.path).reduce((i,r)=>(i+=Kn,r===""?i+=Mr:ji.test(r)?i+=Nr:r[0]==="*"?i-=Kn+Dr:i+=Lr,i),0);return{route:t,score:n,index:e}},qr=t=>t.map(Ir).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),jn=(t,e)=>{let n,i;const[r]=e.split("?"),s=Bt(r),o=s[0]==="",a=qr(t);for(let l=0,u=a.length;l<u;l++){const d=a[l].route;let w=!1;if(d.default){i={route:d,params:{},uri:e};continue}const k=Bt(d.path),g={},m=Math.max(s.length,k.length);let b=0;for(;b<m;b++){const v=k[b],S=s[b];if(v&&v[0]==="*"){const L=v==="*"?"*":v.slice(1);g[L]=s.slice(b).map(decodeURIComponent).join("/");break}if(typeof S>"u"){w=!0;break}const M=ji.exec(v);if(M&&!o){const L=decodeURIComponent(S);g[M[1]]=L}else if(v!==S){w=!0;break}}if(!w){n={route:d,params:g,uri:"/"+s.slice(0,b).join("/")};break}}return n||i||null},sn=(t,e)=>t+(e?`?${e}`:""),Ur=(t,e)=>{if(t.startsWith("/"))return t;const[n,i]=t.split("?"),[r]=e.split("?"),s=Bt(n),o=Bt(r);if(s[0]==="")return sn(r,i);if(!s[0].startsWith(".")){const u=o.concat(s).join("/");return sn((r==="/"?"":"/")+u,i)}const a=o.concat(s),l=[];return a.forEach(u=>{u===".."?l.pop():u!=="."&&l.push(u)}),sn("/"+l.join("/"),i)},Gn=(t,e)=>`${rn(e==="/"?t:`${rn(t)}/${rn(e)}`)}/`,Hr=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),Gi=()=>typeof window<"u"&&"document"in window&&"location"in window,Wr=t=>({active:t&4}),Yn=t=>({active:!!t[2]});function Fr(t){let e,n,i,r;const s=t[16].default,o=et(s,t,t[15],Yn);let a=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],l={};for(let u=0;u<a.length;u+=1)l=xe(l,a[u]);return{c(){e=B("a"),o&&o.c(),qn(e,l)},m(u,d){G(u,e,d),o&&o.m(e,null),n=!0,i||(r=rt(e,"click",t[5]),i=!0)},p(u,[d]){o&&o.p&&(!n||d&32772)&&nt(o,s,u,u[15],n?tt(s,u[15],d,Wr):it(u[15]),Yn),qn(e,l=zi(a,[(!n||d&1)&&{href:u[0]},(!n||d&4)&&{"aria-current":u[2]},d&2&&u[1],d&64&&u[6]]))},i(u){n||(T(o,u),n=!0)},o(u){C(o,u),n=!1},d(u){u&&j(e),o&&o.d(u),i=!1,r()}}}function Vr(t,e,n){let i;const r=["to","replace","state","getProps"];let s=Mn(e,r),o,a,{$$slots:l={},$$scope:u}=e,{to:d="#"}=e,{replace:w=!1}=e,{state:k={}}=e,{getProps:g=()=>({})}=e;const m=gt(fn);we(t,m,N=>n(13,o=N));const{base:b}=gt(Xt);we(t,b,N=>n(14,a=N));const{navigate:v}=gt(Ki),S=Wi();let M,L,W,P;const O=N=>{if(S("click",N),Hr(N)){N.preventDefault();const z=o.pathname===M||w;v(M,{state:k,replace:z})}};return t.$$set=N=>{e=xe(xe({},e),cn(N)),n(6,s=Mn(e,r)),"to"in N&&n(7,d=N.to),"replace"in N&&n(8,w=N.replace),"state"in N&&n(9,k=N.state),"getProps"in N&&n(10,g=N.getProps),"$$scope"in N&&n(15,u=N.$$scope)},t.$$.update=()=>{t.$$.dirty&16512&&n(0,M=d==="/"?a.uri:Ur(d,a.uri)),t.$$.dirty&8193&&n(11,L=o.pathname.startsWith(M)),t.$$.dirty&8193&&n(12,W=M===o.pathname),t.$$.dirty&4096&&n(2,i=W?"page":void 0),n(1,P=g({location:o,href:M,isPartiallyCurrent:L,isCurrent:W,existingProps:s}))},[M,P,i,m,b,O,s,d,w,k,g,L,W,o,a,u,l]}class zr extends Ve{constructor(e){super(),Fe(this,e,Vr,Fr,Ue,{to:7,replace:8,state:9,getProps:10})}}const Kr=t=>({params:t&4}),$n=t=>({params:t[2]});function Xn(t){let e,n,i,r;const s=[Gr,jr],o=[];function a(l,u){return l[0]?0:1}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),i=bt()},m(l,u){o[e].m(l,u),G(l,i,u),r=!0},p(l,u){let d=e;e=a(l),e===d?o[e].p(l,u):(me(),C(o[d],1,1,()=>{o[d]=null}),_e(),n=o[e],n?n.p(l,u):(n=o[e]=s[e](l),n.c()),T(n,1),n.m(i.parentNode,i))},i(l){r||(T(n),r=!0)},o(l){C(n),r=!1},d(l){o[e].d(l),l&&j(i)}}}function jr(t){let e;const n=t[8].default,i=et(n,t,t[7],$n);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){i&&i.p&&(!e||s&132)&&nt(i,n,r,r[7],e?tt(n,r[7],s,Kr):it(r[7]),$n)},i(r){e||(T(i,r),e=!0)},o(r){C(i,r),e=!1},d(r){i&&i.d(r)}}}function Gr(t){let e,n,i,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Xr,then:$r,catch:Yr,value:12,blocks:[,,,]};return Vn(n=t[0],r),{c(){e=bt(),r.block.c()},m(s,o){G(s,e,o),r.block.m(s,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,i=!0},p(s,o){t=s,r.ctx=t,o&1&&n!==(n=t[0])&&Vn(n,r)||Pr(r,t,o)},i(s){i||(T(r.block),i=!0)},o(s){for(let o=0;o<3;o+=1){const a=r.blocks[o];C(a)}i=!1},d(s){s&&j(e),r.block.d(s),r.token=null,r=null}}}function Yr(t){return{c:X,m:X,p:X,i:X,o:X,d:X}}function $r(t){var a;let e,n,i;const r=[t[2],t[3]];var s=((a=t[12])==null?void 0:a.default)||t[12];function o(l){let u={};for(let d=0;d<r.length;d+=1)u=xe(u,r[d]);return{props:u}}return s&&(e=Un(s,o())),{c(){e&&ce(e.$$.fragment),n=bt()},m(l,u){e&&x(e,l,u),G(l,n,u),i=!0},p(l,u){var w;const d=u&12?zi(r,[u&4&&zn(l[2]),u&8&&zn(l[3])]):{};if(u&1&&s!==(s=((w=l[12])==null?void 0:w.default)||l[12])){if(e){me();const k=e;C(k.$$.fragment,1,0,()=>{ee(k,1)}),_e()}s?(e=Un(s,o()),ce(e.$$.fragment),T(e.$$.fragment,1),x(e,n.parentNode,n)):e=null}else s&&e.$set(d)},i(l){i||(e&&T(e.$$.fragment,l),i=!0)},o(l){e&&C(e.$$.fragment,l),i=!1},d(l){l&&j(n),e&&ee(e,l)}}}function Xr(t){return{c:X,m:X,p:X,i:X,o:X,d:X}}function Jr(t){let e,n,i=t[1]&&t[1].route===t[5]&&Xn(t);return{c(){i&&i.c(),e=bt()},m(r,s){i&&i.m(r,s),G(r,e,s),n=!0},p(r,[s]){r[1]&&r[1].route===r[5]?i?(i.p(r,s),s&2&&T(i,1)):(i=Xn(r),i.c(),T(i,1),i.m(e.parentNode,e)):i&&(me(),C(i,1,1,()=>{i=null}),_e())},i(r){n||(T(i),n=!0)},o(r){C(i),n=!1},d(r){i&&i.d(r),r&&j(e)}}}function Qr(t,e,n){let i,{$$slots:r={},$$scope:s}=e,{path:o=""}=e,{component:a=null}=e,l={},u={};const{registerRoute:d,unregisterRoute:w,activeRoute:k}=gt(Xt);we(t,k,m=>n(1,i=m));const g={path:o,default:o===""};return d(g),Ar(()=>{w(g)}),t.$$set=m=>{n(11,e=xe(xe({},e),cn(m))),"path"in m&&n(6,o=m.path),"component"in m&&n(0,a=m.component),"$$scope"in m&&n(7,s=m.$$scope)},t.$$.update=()=>{if(i&&i.route===g){n(2,l=i.params);const{component:m,path:b,...v}=e;n(3,u=v),m&&(m.toString().startsWith("class ")?n(0,a=m):n(0,a=m())),Gi()&&(window==null||window.scrollTo(0,0))}},e=cn(e),[a,i,l,u,k,g,o,s,r]}class Jn extends Ve{constructor(e){super(),Fe(this,e,Qr,Jr,Ue,{path:6,component:0})}}const ft=[];function Zr(t,e){return{subscribe:Ae(t,e).subscribe}}function Ae(t,e=X){let n;const i=new Set;function r(a){if(Ue(t,a)&&(t=a,n)){const l=!ft.length;for(const u of i)u[1](),ft.push(u,t);if(l){for(let u=0;u<ft.length;u+=2)ft[u][0](ft[u+1]);ft.length=0}}}function s(a){r(a(t))}function o(a,l=X){const u=[a,l];return i.add(u),i.size===1&&(n=e(r)||X),a(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:r,update:s,subscribe:o}}function xr(t,e,n){const i=!Array.isArray(t),r=i?[t]:t,s=e.length<2;return Zr(n,o=>{let a=!1;const l=[];let u=0,d=X;const w=()=>{if(u)return;d();const g=e(i?l[0]:l,o);s?o(g):d=_t(g)?g:X},k=r.map((g,m)=>Ni(g,b=>{l[m]=b,u&=~(1<<m),a&&w()},()=>{u|=1<<m}));return a=!0,w(),function(){We(k),d(),a=!1}})}const on=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),es=t=>{const e=[];let n=on(t);return{get location(){return n},listen(i){e.push(i);const r=()=>{n=on(t),i({location:n,action:"POP"})};return t.addEventListener("popstate",r),()=>{t.removeEventListener("popstate",r);const s=e.indexOf(i);e.splice(s,1)}},navigate(i,{state:r,replace:s=!1}={}){r={...r,key:Date.now()+""};try{s?t.history.replaceState(r,"",i):t.history.pushState(r,"",i)}catch{t.location[s?"replace":"assign"](i)}n=on(t),e.forEach(o=>o({location:n,action:"PUSH"})),document.activeElement.blur()}}},ts=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],i=[];return{get location(){return n[e]},addEventListener(r,s){},removeEventListener(r,s){},history:{get entries(){return n},get index(){return e},get state(){return i[e]},pushState(r,s,o){const[a,l=""]=o.split("?");e++,n.push({pathname:a,search:l}),i.push(r)},replaceState(r,s,o){const[a,l=""]=o.split("?");n[e]={pathname:a,search:l},i[e]=r}}}},ns=es(Gi()?window:ts()),is=t=>({route:t&2,location:t&1}),Qn=t=>({route:t[1]&&t[1].uri,location:t[0]});function rs(t){let e;const n=t[12].default,i=et(n,t,t[11],Qn);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,[s]){i&&i.p&&(!e||s&2051)&&nt(i,n,r,r[11],e?tt(n,r[11],s,is):it(r[11]),Qn)},i(r){e||(T(i,r),e=!0)},o(r){C(i,r),e=!1},d(r){i&&i.d(r)}}}function ss(t,e,n){let i,r,s,o,{$$slots:a={},$$scope:l}=e,{basepath:u="/"}=e,{url:d=null}=e,{history:w=ns}=e;tn(Ki,w);const k=gt(fn),g=gt(Xt),m=Ae([]);we(t,m,O=>n(9,r=O));const b=Ae(null);we(t,b,O=>n(1,o=O));let v=!1;const S=k||Ae(d?{pathname:d}:w.location);we(t,S,O=>n(0,i=O));const M=g?g.routerBase:Ae({path:u,uri:u});we(t,M,O=>n(10,s=O));const L=xr([M,b],([O,N])=>{if(!N)return O;const{path:z}=O,{route:H,uri:ve}=N;return{path:H.default?z:H.path.replace(/\*.*$/,""),uri:ve}}),W=O=>{const{path:N}=s;let{path:z}=O;if(O._path=z,O.path=Gn(N,z),typeof window>"u"){if(v)return;const H=jn([O],i.pathname);H&&(b.set(H),v=!0)}else m.update(H=>[...H,O])},P=O=>{m.update(N=>N.filter(z=>z!==O))};return k||(Hi(()=>w.listen(N=>{S.set(N.location)})),tn(fn,S)),tn(Xt,{activeRoute:b,base:M,routerBase:L,registerRoute:W,unregisterRoute:P}),t.$$set=O=>{"basepath"in O&&n(6,u=O.basepath),"url"in O&&n(7,d=O.url),"history"in O&&n(8,w=O.history),"$$scope"in O&&n(11,l=O.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:O}=s;m.update(N=>N.map(z=>Object.assign(z,{path:Gn(O,z._path)})))}if(t.$$.dirty&513){const O=jn(r,i.pathname);b.set(O)}},[i,o,m,b,S,M,u,d,w,r,s,l,a]}class os extends Ve{constructor(e){super(),Fe(this,e,ss,rs,Ue,{basepath:6,url:7,history:8})}}function as(t){const e=t-1;return e*e*e+1}function Jt(t,{delay:e=0,duration:n=400,easing:i=Qt}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:s=>`opacity: ${s*r}`}}function Yi(t,{delay:e=0,duration:n=400,easing:i=as,x:r=0,y:s=0,opacity:o=0}={}){const a=getComputedStyle(t),l=+a.opacity,u=a.transform==="none"?"":a.transform,d=l*(1-o),[w,k]=In(r),[g,m]=In(s);return{delay:e,duration:n,easing:i,css:(b,v)=>`
			transform: ${u} translate(${(1-b)*w}${k}, ${(1-b)*g}${m});
			opacity: ${l-d*v}`}}const de=Ae({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,turn:!1,dwarfNextTurn:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[]}),pe=Ae({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,dwarfNextTurn:!1,goblinLordMarked:!1,turn:!1,startingHand:[],hand:[],cardsDrawn:[],discards:[]}),ls=Ae({emperor:{title:"emperor",displayTitle:"Emperor",points:10,amount:1,rarity:"legendary",trait:"Human points are doubled and all races in your hand except xenos will count towards your final score.",traitTitle:"Unity Pact",description:"The leader of the human race.",race:"human",image:"/humans/emperor.gif"},commander:{title:"commander",displayTitle:"Commander",points:8,amount:2,rarity:"epic",trait:"When the commander is in your hand, all humans you have will receive +1 point, including commanders. This effect also stacks with the emperor.",traitTitle:"Rally",description:"Powerful warrior second only to the emperor.",race:"human",image:"/humans/commander.png"},assassin:{title:"assassin",displayTitle:"Assassin",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A highly skilled professional killer.",race:"human",image:"/humans/assassin.png"},knight:{title:"knight",displayTitle:"Knight",points:4,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A middle ranked warrior.",race:"human",image:"/humans/knight.png"},soldier:{title:"soldier",displayTitle:"Soldier",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A low ranked warrior.",race:"human",image:"/humans/soldier.png"},scout:{title:"scout",displayTitle:"Scout",points:2,amount:5,rarity:"common",trait:"",traitTitle:"",description:"The lowest ranked in the human army.",race:"human",image:"/humans/scout.png"},villager:{title:"villager",displayTitle:"Villager",points:1,amount:6,rarity:"common",trait:"",traitTitle:"",description:"An innocent villager.",race:"human",image:"/humans/villager.png"},goblinLord:{title:"goblinLord",displayTitle:"Goblin Lord",points:10,amount:1,rarity:"legendary",trait:"If your hand contains only goblins, you receive an insane amount of bonus points, doesn't count goblin lord's mark. Beware, the elf king can block this trait, resulting in a draw.",traitTitle:"Gobbledegook",description:"The leader of the goblins.",race:"goblin",image:"/goblins/goblin-lord.gif"},goblinLordsMark:{title:"goblinLordsMark",displayTitle:"Goblin Lord's Mark",points:0,amount:1,rarity:"epic",trait:"Draw the goblin lord next turn, only applies if this card is drawn. If no goblin lord, draw a goblin.",traitTitle:"Death's Mark",description:"A sign that the goblin lord is near.",race:"goblin-ish",image:"/goblins/goblin-lord_mark.png"},giant:{title:"giant",displayTitle:"Giant",points:8,amount:2,rarity:"epic",trait:"",traitTitle:"",description:"The strongest weapons of the goblin lord.",race:"goblin",image:"/goblins/giant.png"},troll:{title:"troll",displayTitle:"Troll",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"Loyal high ranked soldier in the goblin army.",race:"goblin",image:"/goblins/troll.png"},shaman:{title:"shaman",displayTitle:"Shaman",points:5,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A magic wielding goblin.",race:"goblin",image:"/goblins/shaman.png"},thief:{title:"thief",displayTitle:"Thief",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A quick, elusive but weak goblin.",race:"goblin",image:"/goblins/thief.png"},hobgoblin:{title:"hobgoblin",displayTitle:"Hobgoblin",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A low ranked goblin.",race:"goblin",image:"/goblins/hobgoblin.png"},bokoblin:{title:"bokoblin",displayTitle:"Bokoblin",points:1,amount:6,rarity:"common",trait:"",traitTitle:"",description:"The weakest of goblins.",race:"goblin",image:"/goblins/bokoblin.png"},elfKing:{title:"elfKing",displayTitle:"Elf King",points:10,amount:1,rarity:"legendary",trait:"If your hand contains only elves, they will have their points trippled, otherwise doubled! The elf king also prevents the enemy from using the goblin lord's special trait.",traitTitle:"Superior Race",description:"The purest, most powerful and respected leader of the elves.",race:"elf",image:"/elves/elf-king.gif"},elfChampion:{title:"elfChampion",displayTitle:"Elf Champion",points:8,amount:2,rarity:"epic",trait:"",traitTitle:"",description:"Elf king guard candidate.",race:"elf",image:"/elves/champion.png"},darkElf:{title:"darkElf",displayTitle:"Dark Elf",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"High ranked powerful elf.",race:"elf",image:"/elves/dark-elf.png"},forestDweller:{title:"forestDweller",displayTitle:"Forest Dweller",points:5,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"An elf in tune with nature, they're quite strong..",race:"elf",image:"/elves/forest-dweller.png"},nadallen:{title:"nadallen",displayTitle:"Nadallen",points:4,amount:1,rarity:"rare",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",traitTitle:"Twin Power",description:"The stronger half of the rare elvan twins.",race:"elf",image:"/elves/nadallen.png"},nelladan:{title:"nelladan",displayTitle:"Nelladan",points:2,amount:4,rarity:"uncommon",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",traitTitle:"Twin Power",description:"A rare elvan twin.",race:"elf",image:"/elves/nelladan.png"},woodElf:{title:"woodElf",displayTitle:"Wood Elf",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An elf who aspires to be a forest dwelling elf.",race:"elf",image:"/elves/wood-elf.png"},wildElf:{title:"wildElf",displayTitle:"Wild Elf",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An elf with no social status.",race:"elf",image:"/elves/wild-elf.png"},bard:{title:"bard",displayTitle:"Bard",points:1,amount:4,rarity:"common",trait:"",traitTitle:"",description:"A weak musician.",race:"elf",image:"/elves/bard.png"},longbeardLeader:{title:"longbeardLeader",displayTitle:"Longbeard Leader",points:10,amount:1,rarity:"legendary",trait:"At the end of the game, if there are more discarded dwarves than remaining(or equal) dwarves in the deck, dwarves receive 50 bonus points. Additionally, if drawn, the next card drawn will be a dwarf.",traitTitle:"Drunken rage",description:"The bravest and most feared amongst the dwarves.",race:"dwarf",image:"/dwarves/longbeard-leader.gif"},dwarfCommander:{title:"dwarfCommander",displayTitle:"Dwarf Commander",points:8,amount:2,rarity:"epic",trait:"If drawn, the next card will be a dwarf. Has no effect if there are no remaining dwarves.",traitTitle:"Recruit",description:"Right hand man to the longbeard leader himself.",race:"dwarf",image:"/dwarves/dwarf-commander.png"},alchemist:{title:"alchemist",displayTitle:"Alchemist",points:6,amount:2,rarity:"amazing",trait:"",traitTitle:"",description:"A dwarven warrior wielding science as magic.",race:"dwarf",image:"/dwarves/alchemist.png"},dwarfWarrior:{title:"dwarfWarrior",displayTitle:"Dwarf Warrior",points:5,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A strong and reliable dwarven warrior.",race:"dwarf",image:"/dwarves/warrior.png"},hunter:{title:"hunter",displayTitle:"Hunter",points:4,amount:3,rarity:"rare",trait:"",traitTitle:"",description:"A strong and capable hunter.",race:"dwarf",image:"/dwarves/hunter.png"},traveller:{title:"traveller",displayTitle:"Traveller",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An adventurous but feeble dwarf.",race:"dwarf",image:"/dwarves/traveller.png"},miner:{title:"miner",displayTitle:"Miner",points:2,amount:3,rarity:"uncommon",trait:"",traitTitle:"",description:"An average miner, not great in a fight.",race:"dwarf",image:"/dwarves/miner.png"},blacksmith:{title:"blacksmith",displayTitle:"Blacksmith",points:2,amount:3,rarity:"uncommon",trait:"",traitTitle:"",description:"A typical blacksmith, not very strong.",race:"dwarf",image:"/dwarves/blacksmith.png"},hobbit:{title:"hobbit",displayTitle:"Hobbit",points:1,amount:4,rarity:"uncommon",trait:"Half and half.",traitTitle:"Hobbit points count towards both dwarves and humans.",description:"Half dwarf, half human. Although rare and different, they're generally accepted by all dwarves.",race:"dwarf",image:"/dwarves/hobbit.png"},bartender:{title:"bartender",displayTitle:"Bartender",points:1,amount:4,rarity:"common",trait:"",traitTitle:"",description:"A popular dwarf at the local pub, a serious drinker even amongst dwarves..",race:"dwarf",image:"/dwarves/bartender.png"},crusher541A57:{title:"crusher541A57",displayTitle:"Crusher 541-A-57",points:10,amount:1,rarity:"legendary",trait:"ALL bots will receive +2 points. Additionally, Crusher will hack all bots and steal their points.",traitTitle:"Binary Manipulator",description:"The most advanced battle and hacking unit known to man.",race:"bot",image:"/bots/crusher-5A1A-57.gif"},ai:{title:"ai",displayTitle:"A.I.",points:8,amount:2,rarity:"epic",trait:"Converts viruses into helpful programs, setting their point value to 6. A.I. will also receive +1 point for every cleansed virus.",traitTitle:"Antivirus",description:"The core of the modern bot society.",race:"bot",image:"/bots/ai.png"},faeBot:{title:"faeBot",displayTitle:"Fae Bot",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A bot created as a gift to the elves as a peace treaty.",race:"bot",image:"/bots/fae-bot.png"},sawBot3000:{title:"sawBot3000",displayTitle:"Sawbot-3000",points:4,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A bot designed to kill, beware.",race:"bot",image:"/bots/saw-bot-3000.png"},infernoBot:{title:"infernoBot",displayTitle:"Inferno Bot",points:3,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"An angry aggressive bot, known to attack on sight.",race:"bot",image:"/bots/inferno-bot.png"},incubator:{title:"incubator",displayTitle:"Incubator",points:2,amount:5,rarity:"uncommon",trait:"",traitTitle:"",description:"A weak mother bot used to raise young infants.",race:"bot",image:"/bots/incubator.png"},virus:{title:"virus",displayTitle:"Virus",points:-2,amount:7,rarity:"common",trait:"",traitTitle:"",description:"A common computer virus.",race:"bot",image:"/bots/virus.png"},dreamDestroyer:{title:"dreamDestroyer",displayTitle:"Dream Destroyer",points:12,amount:1,rarity:"legendary",trait:"All of your beasts are worth 12 points.",traitTitle:"🤬Roid Rage🤬",description:"The fiercest creature in the animal kingdom.",race:"beast",image:"/beasts/dream-destroyer.gif"},rhino:{title:"rhino",displayTitle:"Rhinestone",points:8,amount:3,rarity:"amazing",trait:"Blocks trap cards. (not yet implemented)",traitTitle:"Thick skin",description:"A feared beast at the top of the food chain.",race:"beast",image:"/beasts/rhino.png"},bear:{title:"bear",displayTitle:"Theodore Thunderpaws",points:7,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A powerful top level beast, matched by few.",race:"beast",image:"/beasts/bear.png"},lion:{title:"lion",displayTitle:"Savannah Goldenmane",points:6,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"The original kings of the jungle.",race:"beast",image:"/beasts/lion.png"},panther:{title:"panther",displayTitle:"Panthera Nocturna",points:5,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A quick and efficient beast, known to stalk it's prey before pouncing.",race:"beast",image:"/beasts/panther.png"},wolf:{title:"wolf",displayTitle:"Alpha Wolfbane",points:4,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A lone wolf with the strength of a pack.",race:"beast",image:"/beasts/wolf.png"},fox:{title:"fox",displayTitle:"Finn Foxglove",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A fox on steroids.",race:"beast",image:"/beasts/fox.png"},dog:{title:"dog",displayTitle:"Pawl Barkington",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"More bark than bite, recognized as the weakest beast.",race:"beast",image:"/beasts/dog.png"},xenoGuard:{title:"xenoGuard",displayTitle:"Xeno Guard",points:11,amount:3,rarity:"epic",trait:"",traitTitle:"",description:"The xenoGuard is a highly intelligent and powerful creature, feared by many. It is the most feared creature in the xeno army, tasked with the safety of the xeno overlord.",race:"xeno",image:"/xenos/xeno_guard.png"},abyssolarian:{title:"abyssolarian",displayTitle:"Abyssolarian",points:10,amount:3,rarity:"epic",trait:"",traitTitle:"",description:"A feral xeno born in the darkest depths of Xenopp. Produces light to lure prey.",race:"xeno",image:"/xenos/xeno_placeholder.png"},warpstalker:{title:"warpstalker",displayTitle:"Warpstalker",points:Math.ceil(Math.random()*5)+7,amount:3,rarity:"epic",trait:"When drawn, gets a random point value between 9-12 inclusive.",traitTitle:"Xenigma",description:"A xeno capable of riftwalking, similar to teleporting over short distances. Sometimes riftwalks to the wrong place.",race:"xeno",image:"/xenos/xeno_placeholder.png"},voidRunner:{title:"voidRunner",displayTitle:"Void Runner",points:6,amount:3,rarity:"epic",trait:"Increases points by +1 every turn.",traitTitle:"Void Run",description:"A non sentient xeno who's only purpose is to run. If it ever stops it will die.",race:"xeno",image:"/xenos/xeno_placeholder.png"},nebulite:{title:"nebulite",displayTitle:"Nebulite",points:0,amount:3,rarity:"epic",trait:"Buffs all xenos by +4, does not apply to self and does not stack with other Nebulites.",traitTitle:"Xenobloom",description:"Artificially created xenos incapable of speech.",race:"xeno",image:"/xenos/xeno_placeholder.png"},celenial:{title:"celenial",displayTitle:"Celenial",points:8,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"The omega of the xenos, often mistreated and ignored. Excluding the nebulites, celenials are the weakest of the xenos. They are often used as bait for the abyssolarians.",race:"xeno",image:"/xenos/xeno_placeholder.png"}}),cs=Ae(["dreamDestroyer","rhino","rhino","rhino","bear","bear","bear","lion","lion","lion","panther","panther","panther","wolf","wolf","wolf","fox","fox","fox","dog","dog","dog"]),us=Ae(["crusher541A57","ai","ai","faeBot","faeBot","faeBot","sawBot3000","sawBot3000","sawBot3000","sawBot3000","infernoBot","infernoBot","infernoBot","infernoBot","incubator","incubator","incubator","incubator","virus","virus","virus","virus","virus","virus"]),fs=Ae(["longbeardLeader","dwarfCommander","dwarfCommander","alchemist","alchemist","dwarfWarrior","dwarfWarrior","hunter","hunter","hunter","miner","miner","miner","blacksmith","blacksmith","traveller","traveller","bartender","bartender","hobbit","hobbit","hobbit"]),hs=Ae(["elfKing","elfChampion","elfChampion","darkElf","darkElf","forestDweller","forestDweller","forestDweller","nadallen","nelladan","nelladan","nelladan","nelladan","woodElf","woodElf","woodElf","wildElf","wildElf","wildElf","bard","bard","bard"]),ds=Ae(["goblinLord","giant","giant","troll","troll","troll","shaman","shaman","shaman","thief","thief","thief","hobgoblin","hobgoblin","hobgoblin","bokoblin","bokoblin","bokoblin","goblinLordsMark"]),ps=Ae(["emperor","commander","commander","assassin","assassin","assassin","knight","knight","knight","knight","soldier","soldier","soldier","soldier","scout","scout","scout","scout","villager","villager","villager","villager"]),gs=Ae(["xenoGuard","xenoGuard","xenoGuard","abyssolarian","abyssolarian","abyssolarian","warpstalker","warpstalker","warpstalker","voidRunner","voidRunner","voidRunner","celenial","celenial","celenial","nebulite","nebulite","nebulite"]);function ms(t){let e,n,i,r,s;const o=t[6].default,a=et(o,t,t[11],null);return{c(){e=B("button"),a&&a.c(),A(e,"class",n=t[0]+" "+t[1]+" svelte-1duzco6")},m(l,u){G(l,e,u),a&&a.m(e,null),i=!0,r||(s=rt(e,"click",t[10]),r=!0)},p(l,u){a&&a.p&&(!i||u&2048)&&nt(a,o,l,l[11],i?tt(o,l[11],u,null):it(l[11]),null),(!i||u&3&&n!==(n=l[0]+" "+l[1]+" svelte-1duzco6"))&&A(e,"class",n)},i(l){i||(T(a,l),i=!0)},o(l){C(a,l),i=!1},d(l){l&&j(e),a&&a.d(l),r=!1,s()}}}function _s(t){let e,n,i,r,s;const o=t[6].default,a=et(o,t,t[11],null);return{c(){e=B("button"),a&&a.c(),A(e,"class",n="round "+t[0]+" svelte-1duzco6")},m(l,u){G(l,e,u),a&&a.m(e,null),i=!0,r||(s=rt(e,"click",t[9]),r=!0)},p(l,u){a&&a.p&&(!i||u&2048)&&nt(a,o,l,l[11],i?tt(o,l[11],u,null):it(l[11]),null),(!i||u&1&&n!==(n="round "+l[0]+" svelte-1duzco6"))&&A(e,"class",n)},i(l){i||(T(a,l),i=!0)},o(l){C(a,l),i=!1},d(l){l&&j(e),a&&a.d(l),r=!1,s()}}}function bs(t){let e,n;return e=new zr({props:{to:t[5],$$slots:{default:[ws]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){const s={};r&32&&(s.to=i[5]),r&2051&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function ys(t){let e,n,i,r,s;const o=t[6].default,a=et(o,t,t[11],null);return{c(){e=B("button"),a&&a.c(),A(e,"type","submit"),A(e,"class",n=t[0]+" "+t[1]+" svelte-1duzco6")},m(l,u){G(l,e,u),a&&a.m(e,null),i=!0,r||(s=rt(e,"click",t[7]),r=!0)},p(l,u){a&&a.p&&(!i||u&2048)&&nt(a,o,l,l[11],i?tt(o,l[11],u,null):it(l[11]),null),(!i||u&3&&n!==(n=l[0]+" "+l[1]+" svelte-1duzco6"))&&A(e,"class",n)},i(l){i||(T(a,l),i=!0)},o(l){C(a,l),i=!1},d(l){l&&j(e),a&&a.d(l),r=!1,s()}}}function ws(t){let e,n,i,r,s;const o=t[6].default,a=et(o,t,t[11],null);return{c(){e=B("button"),a&&a.c(),A(e,"class",n=t[0]+" "+t[1]+" svelte-1duzco6")},m(l,u){G(l,e,u),a&&a.m(e,null),i=!0,r||(s=rt(e,"click",t[8]),r=!0)},p(l,u){a&&a.p&&(!i||u&2048)&&nt(a,o,l,l[11],i?tt(o,l[11],u,null):it(l[11]),null),(!i||u&3&&n!==(n=l[0]+" "+l[1]+" svelte-1duzco6"))&&A(e,"class",n)},i(l){i||(T(a,l),i=!0)},o(l){C(a,l),i=!1},d(l){l&&j(e),a&&a.d(l),r=!1,s()}}}function ks(t){let e,n,i,r;const s=[ys,bs,_s,ms],o=[];function a(l,u){return l[3]?0:l[4]?1:l[2]?2:3}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),i=bt()},m(l,u){o[e].m(l,u),G(l,i,u),r=!0},p(l,[u]){let d=e;e=a(l),e===d?o[e].p(l,u):(me(),C(o[d],1,1,()=>{o[d]=null}),_e(),n=o[e],n?n.p(l,u):(n=o[e]=s[e](l),n.c()),T(n,1),n.m(i.parentNode,i))},i(l){r||(T(n),r=!0)},o(l){C(n),r=!1},d(l){o[e].d(l),l&&j(i)}}}function vs(t,e,n){let{$$slots:i={},$$scope:r}=e,{customClasses:s=""}=e,{bgColor:o=""}=e,{round:a=!1}=e,{btnSubmit:l=!1}=e,{btnLink:u=!1}=e,{path:d=""}=e;function w(b){Ct.call(this,t,b)}function k(b){Ct.call(this,t,b)}function g(b){Ct.call(this,t,b)}function m(b){Ct.call(this,t,b)}return t.$$set=b=>{"customClasses"in b&&n(0,s=b.customClasses),"bgColor"in b&&n(1,o=b.bgColor),"round"in b&&n(2,a=b.round),"btnSubmit"in b&&n(3,l=b.btnSubmit),"btnLink"in b&&n(4,u=b.btnLink),"path"in b&&n(5,d=b.path),"$$scope"in b&&n(11,r=b.$$scope)},[s,o,a,l,u,d,i,w,k,g,m,r]}class Zt extends Ve{constructor(e){super(),Fe(this,e,vs,ks,Ue,{customClasses:0,bgColor:1,round:2,btnSubmit:3,btnLink:4,path:5})}}function Ts(t){let e,n,i,r,s,o=xn(t[0])+"",a,l,u,d,w,k,g,m,b,v,S,M,L,W,P,O,N,z,H,ve,ue,F,J,Re,ye,Q=t[7]&&Zn(t);return{c(){e=B("div"),n=B("img"),r=q(),s=B("p"),a=$(o),u=q(),d=B("p"),w=$(t[4]),g=q(),m=B("p"),b=$(t[2]),S=q(),M=B("div"),L=B("div"),W=B("p"),P=$(t[6]),O=q(),Q&&Q.c(),N=q(),z=B("p"),H=$(t[7]),A(n,"class","card-img svelte-lkh856"),Dn(n.src,i=t[3])||A(n,"src",i),A(n,"alt","img of card"),A(s,"class",l="race "+t[0]+"-race svelte-lkh856"),A(d,"class",k="points "+t[0]+"-race svelte-lkh856"),A(m,"class",v="card-title "+t[0]+"-title svelte-lkh856"),A(W,"class","description svelte-lkh856"),A(L,"class","bottom-section-wrapper svelte-lkh856"),A(M,"class","card-bottom-section svelte-lkh856"),A(e,"class",ve="card bg-"+t[0]+(t[5]==="legendary"?"-rare":"")+" svelte-lkh856")},m(D,E){G(D,e,E),p(e,n),p(e,r),p(e,s),p(s,a),p(e,u),p(e,d),p(d,w),p(e,g),p(e,m),p(m,b),p(e,S),p(e,M),p(M,L),p(L,W),p(W,P),p(L,O),Q&&Q.m(L,null),p(L,N),p(L,z),p(z,H),J=!0,Re||(ye=rt(e,"click",t[9]),Re=!0)},p(D,E){(!J||E&8&&!Dn(n.src,i=D[3]))&&A(n,"src",i),(!J||E&1)&&o!==(o=xn(D[0])+"")&&Ee(a,o),(!J||E&1&&l!==(l="race "+D[0]+"-race svelte-lkh856"))&&A(s,"class",l),(!J||E&16)&&Ee(w,D[4]),(!J||E&1&&k!==(k="points "+D[0]+"-race svelte-lkh856"))&&A(d,"class",k),(!J||E&4)&&Ee(b,D[2]),(!J||E&1&&v!==(v="card-title "+D[0]+"-title svelte-lkh856"))&&A(m,"class",v),(!J||E&64)&&Ee(P,D[6]),D[7]?Q?Q.p(D,E):(Q=Zn(D),Q.c(),Q.m(L,N)):Q&&(Q.d(1),Q=null),(!J||E&128)&&Ee(H,D[7]),(!J||E&33&&ve!==(ve="card bg-"+D[0]+(D[5]==="legendary"?"-rare":"")+" svelte-lkh856"))&&A(e,"class",ve)},i(D){J||(qe(()=>{J&&(F&&F.end(1),ue=Fi(e,Yi,{x:100}),ue.start())}),J=!0)},o(D){ue&&ue.invalidate(),F=Vi(e,Jt,{}),J=!1},d(D){D&&j(e),Q&&Q.d(),D&&F&&F.end(),Re=!1,ye()}}}function Es(t){let e,n,i,r,s,o;return{c(){e=B("div"),A(e,"class","card facedown bottom-deck svelte-lkh856")},m(a,l){G(a,e,l),r=!0,s||(o=rt(e,"click",t[11]),s=!0)},p:X,i(a){r||(qe(()=>{r&&(i&&i.end(1),n=Fi(e,Yi,{x:100}),n.start())}),r=!0)},o(a){n&&n.invalidate(),i=Vi(e,Jt,{}),r=!1},d(a){a&&j(e),a&&i&&i.end(),s=!1,o()}}}function Zn(t){let e,n;return{c(){e=B("p"),n=$(t[8]),A(e,"class","special-trait svelte-lkh856")},m(i,r){G(i,e,r),p(e,n)},p(i,r){r&256&&Ee(n,i[8])},d(i){i&&j(e)}}}function As(t){let e,n,i,r;const s=[Es,Ts],o=[];function a(l,u){return l[1]?1:0}return e=a(t),n=o[e]=s[e](t),{c(){n.c(),i=bt()},m(l,u){o[e].m(l,u),G(l,i,u),r=!0},p(l,[u]){let d=e;e=a(l),e===d?o[e].p(l,u):(me(),C(o[d],1,1,()=>{o[d]=null}),_e(),n=o[e],n?n.p(l,u):(n=o[e]=s[e](l),n.c()),T(n,1),n.m(i.parentNode,i))},i(l){r||(T(n),r=!0)},o(l){C(n),r=!1},d(l){o[e].d(l),l&&j(i)}}}function xn(t){const e=t[0].toUpperCase(),n=t.slice(1);return e+n}function Cs(t,e,n){let{faceUp:i=!0}=e,{displayTitle:r="Title here..."}=e,{title:s=""}=e,{img:o="/card-bg.png"}=e,{points:a=0}=e,{race:l="none"}=e,{rarity:u="common"}=e,{description:d=""}=e,{trait:w=""}=e,{traitTitle:k=""}=e;const g=Wi();function m(v){g("cardClick",{title:s,points:a,race:l,trait:w})}function b(v){Ct.call(this,t,v)}return t.$$set=v=>{"faceUp"in v&&n(1,i=v.faceUp),"displayTitle"in v&&n(2,r=v.displayTitle),"title"in v&&n(10,s=v.title),"img"in v&&n(3,o=v.img),"points"in v&&n(4,a=v.points),"race"in v&&n(0,l=v.race),"rarity"in v&&n(5,u=v.rarity),"description"in v&&n(6,d=v.description),"trait"in v&&n(7,w=v.trait),"traitTitle"in v&&n(8,k=v.traitTitle)},t.$$.update=()=>{t.$$.dirty&1&&l==="goblin-ish"&&n(0,l="goblin")},[l,i,r,o,a,u,d,w,k,m,s,b]}class Se extends Ve{constructor(e){super(),Fe(this,e,Cs,As,Ue,{faceUp:1,displayTitle:2,title:10,img:3,points:4,race:0,rarity:5,description:6,trait:7,traitTitle:8})}}const Me=Object.create(null);Me.open="0";Me.close="1";Me.ping="2";Me.pong="3";Me.message="4";Me.upgrade="5";Me.noop="6";const Vt=Object.create(null);Object.keys(Me).forEach(t=>{Vt[Me[t]]=t});const hn={type:"error",data:"parser error"},$i=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Xi=typeof ArrayBuffer=="function",Ji=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,En=({type:t,data:e},n,i)=>$i&&e instanceof Blob?n?i(e):ei(e,i):Xi&&(e instanceof ArrayBuffer||Ji(e))?n?i(e):ei(new Blob([e]),i):i(Me[t]+(e||"")),ei=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function ti(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let an;function Rs(t,e){if($i&&t.data instanceof Blob)return t.data.arrayBuffer().then(ti).then(e);if(Xi&&(t.data instanceof ArrayBuffer||Ji(t.data)))return e(ti(t.data));En(t,!1,n=>{an||(an=new TextEncoder),e(an.encode(n))})}const ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<ni.length;t++)Rt[ni.charCodeAt(t)]=t;const Os=t=>{let e=t.length*.75,n=t.length,i,r=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(i=0;i<n;i+=4)s=Rt[t.charCodeAt(i)],o=Rt[t.charCodeAt(i+1)],a=Rt[t.charCodeAt(i+2)],l=Rt[t.charCodeAt(i+3)],d[r++]=s<<2|o>>4,d[r++]=(o&15)<<4|a>>2,d[r++]=(a&3)<<6|l&63;return u},Bs=typeof ArrayBuffer=="function",An=(t,e)=>{if(typeof t!="string")return{type:"message",data:Qi(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Ps(t.substring(1),e)}:Vt[n]?t.length>1?{type:Vt[n],data:t.substring(1)}:{type:Vt[n]}:hn},Ps=(t,e)=>{if(Bs){const n=Os(t);return Qi(n,e)}else return{base64:!0,data:t}},Qi=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Zi=String.fromCharCode(30),Ss=(t,e)=>{const n=t.length,i=new Array(n);let r=0;t.forEach((s,o)=>{En(s,!1,a=>{i[o]=a,++r===n&&e(i.join(Zi))})})},Ls=(t,e)=>{const n=t.split(Zi),i=[];for(let r=0;r<n.length;r++){const s=An(n[r],e);if(i.push(s),s.type==="error")break}return i};function Ns(){return new TransformStream({transform(t,e){Rs(t,n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}let ln;function qt(t){return t.reduce((e,n)=>e+n.length,0)}function Ut(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let r=0;r<e;r++)n[r]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function Ds(t,e){ln||(ln=new TextDecoder);const n=[];let i=0,r=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(i===0){if(qt(n)<1)break;const l=Ut(n,1);s=(l[0]&128)===128,r=l[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(qt(n)<2)break;const l=Ut(n,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(qt(n)<8)break;const l=Ut(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),d=u.getUint32(0);if(d>Math.pow(2,53-32)-1){a.enqueue(hn);break}r=d*Math.pow(2,32)+u.getUint32(4),i=3}else{if(qt(n)<r)break;const l=Ut(n,r);a.enqueue(An(s?l:ln.decode(l),e)),i=0}if(r===0||r>t){a.enqueue(hn);break}}}})}const xi=4;function ge(t){if(t)return Ms(t)}function Ms(t){for(var e in ge.prototype)t[e]=ge.prototype[e];return t}ge.prototype.on=ge.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ge.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ge.prototype.off=ge.prototype.removeListener=ge.prototype.removeAllListeners=ge.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===e||i.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ge.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this};ge.prototype.emitReserved=ge.prototype.emit;ge.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ge.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Be=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function er(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const Is=Be.setTimeout,qs=Be.clearTimeout;function xt(t,e){e.useNativeTimers?(t.setTimeoutFn=Is.bind(Be),t.clearTimeoutFn=qs.bind(Be)):(t.setTimeoutFn=Be.setTimeout.bind(Be),t.clearTimeoutFn=Be.clearTimeout.bind(Be))}const Us=1.33;function Hs(t){return typeof t=="string"?Ws(t):Math.ceil((t.byteLength||t.size)*Us)}function Ws(t){let e=0,n=0;for(let i=0,r=t.length;i<r;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function Fs(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Vs(t){let e={},n=t.split("&");for(let i=0,r=n.length;i<r;i++){let s=n[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class zs extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Cn extends ge{constructor(e){super(),this.writable=!1,xt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new zs(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=An(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Fs(e);return n.length?"?"+n:""}}const tr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),dn=64,Ks={};let ii=0,Ht=0,ri;function si(t){let e="";do e=tr[t%dn]+e,t=Math.floor(t/dn);while(t>0);return e}function nr(){const t=si(+new Date);return t!==ri?(ii=0,ri=t):t+"."+si(ii++)}for(;Ht<dn;Ht++)Ks[tr[Ht]]=Ht;let ir=!1;try{ir=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const js=ir;function rr(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||js))return new XMLHttpRequest}catch{}if(!e)try{return new Be[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Gs(){}const Ys=function(){return new rr({xdomain:!1}).responseType!=null}();class $s extends Cn{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let r=location.port;r||(r=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}const n=e&&e.forceBase64;this.supportsBinary=Ys&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Ls(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ss(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=nr()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new De(this.uri(),e)}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class De extends ge{constructor(e,n){super(),xt(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=er(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new rr(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var r;i.readyState===3&&((r=this.opts.cookieJar)===null||r===void 0||r.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=De.requestsCount++,De.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Gs,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete De.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}De.requestsCount=0;De.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",oi);else if(typeof addEventListener=="function"){const t="onpagehide"in Be?"pagehide":"unload";addEventListener(t,oi,!1)}}function oi(){for(let t in De.requests)De.requests.hasOwnProperty(t)&&De.requests[t].abort()}const Rn=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),Wt=Be.WebSocket||Be.MozWebSocket,ai=!0,Xs="arraybuffer",li=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Js extends Cn{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,i=li?{}:er(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=ai&&!li?n?new Wt(e,n):new Wt(e):new Wt(e,n,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;En(i,this.supportsBinary,s=>{const o={};try{ai&&this.ws.send(s)}catch{}r&&Rn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=nr()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!Wt}}class Qs extends Cn{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=Ds(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),r=Ns();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const s=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;this.writer.write(i).then(()=>{r&&Rn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Zs={websocket:Js,webtransport:Qs,polling:$s},xs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,eo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function pn(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let r=xs.exec(t||""),s={},o=14;for(;o--;)s[eo[o]]=r[o]||"";return n!=-1&&i!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=to(s,s.path),s.queryKey=no(s,s.query),s}function to(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function no(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(n[r]=s)}),n}let sr=class dt extends ge{constructor(e,n={}){super(),this.binaryType=Xs,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=pn(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=pn(n.host).host),xt(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Vs(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=xi,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Zs[e](i)}open(){let e;if(this.opts.rememberUpgrade&&dt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;dt.priorWebsocketSuccess=!1;const r=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",w=>{if(!i)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;dt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const k=new Error("probe error");k.transport=n.name,this.emitReserved("upgradeError",k)}}))};function s(){i||(i=!0,d(),n.close(),n=null)}const o=w=>{const k=new Error("probe error: "+w);k.transport=n.name,s(),this.emitReserved("upgradeError",k)};function a(){o("transport closed")}function l(){o("socket closed")}function u(w){n&&w.name!==n.name&&s()}const d=()=>{n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",r),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",dt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const r=this.writeBuffer[i].data;if(r&&(n+=Hs(r)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,r){if(typeof n=="function"&&(r=n,n=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const s={type:e,data:n,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){dt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const r=e.length;for(;i<r;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}};sr.protocol=xi;function io(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=pn(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(n&&n.port===i.port?"":":"+i.port),i}const ro=typeof ArrayBuffer=="function",so=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,or=Object.prototype.toString,oo=typeof Blob=="function"||typeof Blob<"u"&&or.call(Blob)==="[object BlobConstructor]",ao=typeof File=="function"||typeof File<"u"&&or.call(File)==="[object FileConstructor]";function On(t){return ro&&(t instanceof ArrayBuffer||so(t))||oo&&t instanceof Blob||ao&&t instanceof File}function zt(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(zt(t[n]))return!0;return!1}if(On(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return zt(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&zt(t[n]))return!0;return!1}function lo(t){const e=[],n=t.data,i=t;return i.data=gn(n,e),i.attachments=e.length,{packet:i,buffers:e}}function gn(t,e){if(!t)return t;if(On(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=gn(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=gn(t[i],e));return n}return t}function co(t,e){return t.data=mn(t.data,e),delete t.attachments,t}function mn(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=mn(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=mn(t[n],e));return t}const uo=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],fo=5;var K;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(K||(K={}));class ho{constructor(e){this.replacer=e}encode(e){return(e.type===K.EVENT||e.type===K.ACK)&&zt(e)?this.encodeAsBinary({type:e.type===K.EVENT?K.BINARY_EVENT:K.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===K.BINARY_EVENT||e.type===K.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=lo(e),i=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(i),r}}function ci(t){return Object.prototype.toString.call(t)==="[object Object]"}class Bn extends ge{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===K.BINARY_EVENT;i||n.type===K.BINARY_ACK?(n.type=i?K.EVENT:K.ACK,this.reconstructor=new po(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(On(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(K[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===K.BINARY_EVENT||i.type===K.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(s,n)}else i.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}i.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(Bn.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case K.CONNECT:return ci(n);case K.DISCONNECT:return n===void 0;case K.CONNECT_ERROR:return typeof n=="string"||ci(n);case K.EVENT:case K.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&uo.indexOf(n[0])===-1);case K.ACK:case K.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class po{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=co(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const go=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Bn,Encoder:ho,get PacketType(){return K},protocol:fo},Symbol.toStringTag,{value:"Module"}));function Pe(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const mo=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ar extends ge{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Pe(e,"open",this.onopen.bind(this)),Pe(e,"packet",this.onpacket.bind(this)),Pe(e,"error",this.onerror.bind(this)),Pe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(mo.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:K.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),i.id=o}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var i;const r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...o])}}emitWithAck(e,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((r,s)=>{n.push((o,a)=>i?o?s(o):r(a):r(o)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:K.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case K.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case K.EVENT:case K.BINARY_EVENT:this.onevent(e);break;case K.ACK:case K.BINARY_ACK:this.onack(e);break;case K.DISCONNECT:this.ondisconnect();break;case K.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...r){i||(i=!0,n.packet({type:K.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:K.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function wt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}wt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};wt.prototype.reset=function(){this.attempts=0};wt.prototype.setMin=function(t){this.ms=t};wt.prototype.setMax=function(t){this.max=t};wt.prototype.setJitter=function(t){this.jitter=t};class _n extends ge{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,xt(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new wt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||go;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new sr(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=Pe(n,"open",function(){i.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Pe(n,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Pe(e,"ping",this.onping.bind(this)),Pe(e,"data",this.ondata.bind(this)),Pe(e,"error",this.onerror.bind(this)),Pe(e,"close",this.onclose.bind(this)),Pe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Rn(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new ar(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const At={};function Kt(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=io(t,e.path||"/socket.io"),i=n.source,r=n.id,s=n.path,o=At[r]&&s in At[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new _n(i,e):(At[r]||(At[r]=new _n(i,e)),l=At[r]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Kt,{Manager:_n,Socket:ar,io:Kt,connect:Kt});function ui(t,e,n){const i=t.slice();return i[47]=e[n],i}function fi(t,e,n){const i=t.slice();return i[47]=e[n],i}function hi(t,e,n){const i=t.slice();return i[47]=e[n],i}function di(t,e,n){const i=t.slice();return i[47]=e[n],i}function pi(t,e,n){const i=t.slice();return i[47]=e[n],i}function gi(t,e,n){const i=t.slice();return i[47]=e[n],i}function mi(t,e,n){const i=t.slice();return i[47]=e[n],i}function _i(t,e,n){const i=t.slice();return i[47]=e[n],i}function bi(t,e,n){const i=t.slice();return i[47]=e[n],i}function yi(t,e,n){const i=t.slice();return i[47]=e[n],i}function _o(t){let e,n;return e=new Zt({props:{customClasses:"btn__green_disabled w-25",$$slots:{default:[yo]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){const s={};r[2]&64&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function bo(t){let e,n;return e=new Zt({props:{customClasses:"btn__green w-25",$$slots:{default:[wo]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){ce(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){const s={};r[2]&64&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function yo(t){let e;return{c(){e=$("Game in progress...")},m(n,i){G(n,e,i)},d(n){n&&j(e)}}}function wo(t){let e;return{c(){e=$("Start game")},m(n,i){G(n,e,i)},d(n){n&&j(e)}}}function ko(t){let e,n,i,r,s,o,a,l,u,d,w,k,g,m,b,v,S,M,L,W,P,O,N,z=t[1].hand,H=[];for(let E=0;E<z.length;E+=1)H[E]=wi(fi(t,z,E));const ve=E=>C(H[E],1,1,()=>{H[E]=null});let ue=t[0].hand,F=[];for(let E=0;E<ue.length;E+=1)F[E]=ki(ui(t,ue,E));const J=E=>C(F[E],1,1,()=>{F[E]=null});S=new Se({props:{faceUp:!1}}),S.$on("click",t[12]);const Re=[Eo,To],ye=[];function Q(E,V){return E[3]||E[8]<3?0:1}L=Q(t),W=ye[L]=Re[L](t);let D=t[4]&&vi(t);return{c(){e=B("div"),n=B("div"),i=B("p"),r=$("Player 1"),o=q();for(let E=0;E<H.length;E+=1)H[E].c();l=q(),u=B("div"),d=B("p"),w=$("Player 2"),g=q();for(let E=0;E<F.length;E+=1)F[E].c();b=q(),v=B("div"),ce(S.$$.fragment),M=q(),W.c(),P=q(),D&&D.c(),A(i,"class",s="p1-name "+(t[1].turn?"turn-active":"")+" svelte-18ceprl"),A(n,"class",a="card-section card-section__ally "+(t[1].turn||t[1].justWon?"section-active":"")+" svelte-18ceprl"),A(d,"class",k="p2-name "+(t[0].turn?"turn-active":"")+" svelte-18ceprl"),A(u,"class",m="card-section card-section__enemy "+(t[0].turn||t[0].justWon?"section-active":"")+" svelte-18ceprl"),A(v,"class","game-buttons svelte-18ceprl"),A(e,"class",O="game-board "+(t[2]?"gobble-declared":"")+" svelte-18ceprl")},m(E,V){G(E,e,V),p(e,n),p(n,i),p(i,r),p(n,o);for(let fe=0;fe<H.length;fe+=1)H[fe]&&H[fe].m(n,null);p(e,l),p(e,u),p(u,d),p(d,w),p(u,g);for(let fe=0;fe<F.length;fe+=1)F[fe]&&F[fe].m(u,null);p(e,b),p(e,v),x(S,v,null),p(v,M),ye[L].m(v,null),p(e,P),D&&D.m(e,null),N=!0},p(E,V){if((!N||V[0]&2&&s!==(s="p1-name "+(E[1].turn?"turn-active":"")+" svelte-18ceprl"))&&A(i,"class",s),V[0]&10786){z=E[1].hand;let U;for(U=0;U<z.length;U+=1){const he=fi(E,z,U);H[U]?(H[U].p(he,V),T(H[U],1)):(H[U]=wi(he),H[U].c(),T(H[U],1),H[U].m(n,null))}for(me(),U=z.length;U<H.length;U+=1)ve(U);_e()}if((!N||V[0]&2&&a!==(a="card-section card-section__ally "+(E[1].turn||E[1].justWon?"section-active":"")+" svelte-18ceprl"))&&A(n,"class",a),(!N||V[0]&1&&k!==(k="p2-name "+(E[0].turn?"turn-active":"")+" svelte-18ceprl"))&&A(d,"class",k),V[0]&10785){ue=E[0].hand;let U;for(U=0;U<ue.length;U+=1){const he=ui(E,ue,U);F[U]?(F[U].p(he,V),T(F[U],1)):(F[U]=ki(he),F[U].c(),T(F[U],1),F[U].m(u,null))}for(me(),U=ue.length;U<F.length;U+=1)J(U);_e()}(!N||V[0]&1&&m!==(m="card-section card-section__enemy "+(E[0].turn||E[0].justWon?"section-active":"")+" svelte-18ceprl"))&&A(u,"class",m);let fe=L;L=Q(E),L===fe?ye[L].p(E,V):(me(),C(ye[fe],1,1,()=>{ye[fe]=null}),_e(),W=ye[L],W?W.p(E,V):(W=ye[L]=Re[L](E),W.c()),T(W,1),W.m(v,null)),E[4]?D?D.p(E,V):(D=vi(E),D.c(),D.m(e,null)):D&&(D.d(1),D=null),(!N||V[0]&4&&O!==(O="game-board "+(E[2]?"gobble-declared":"")+" svelte-18ceprl"))&&A(e,"class",O)},i(E){if(!N){for(let V=0;V<z.length;V+=1)T(H[V]);for(let V=0;V<ue.length;V+=1)T(F[V]);T(S.$$.fragment,E),T(W),N=!0}},o(E){H=H.filter(Boolean);for(let V=0;V<H.length;V+=1)C(H[V]);F=F.filter(Boolean);for(let V=0;V<F.length;V+=1)C(F[V]);C(S.$$.fragment,E),C(W),N=!1},d(E){E&&j(e),Le(H,E),Le(F,E),ee(S),ye[L].d(),D&&D.d()}}}function vo(t){let e,n,i,r,s,o,a,l,u,d,w,k,g,m,b=t[1].wins+"",v,S,M=t[1].losses+"",L,W,P=t[1].draws+"",O,N,z,H,ve=t[0].wins+"",ue,F,J=t[0].losses+"",Re,ye,Q=t[0].draws+"",D,E,V,fe,U,he,st,kt,vt,ot,Pt,St,Te,at,Lt,Tt,lt,c,_,R,I,ke,Y,ct,ze,Nt,Pn,Oe,Dt,Sn,en,Mt,Ln,He,Ce,Ke=t[1].startingHand,te=[];for(let h=0;h<Ke.length;h+=1)te[h]=Ti(yi(t,Ke,h));const lr=h=>C(te[h],1,1,()=>{te[h]=null});let je=t[1].cardsDrawn,ne=[];for(let h=0;h<je.length;h+=1)ne[h]=Ei(bi(t,je,h));const cr=h=>C(ne[h],1,1,()=>{ne[h]=null});let Ge=t[1].hand,ie=[];for(let h=0;h<Ge.length;h+=1)ie[h]=Ai(_i(t,Ge,h));const ur=h=>C(ie[h],1,1,()=>{ie[h]=null});let Ye=t[1].discards,re=[];for(let h=0;h<Ye.length;h+=1)re[h]=Ci(mi(t,Ye,h));const fr=h=>C(re[h],1,1,()=>{re[h]=null});let $e=t[0].startingHand,se=[];for(let h=0;h<$e.length;h+=1)se[h]=Ri(gi(t,$e,h));const hr=h=>C(se[h],1,1,()=>{se[h]=null});let Xe=t[0].cardsDrawn,oe=[];for(let h=0;h<Xe.length;h+=1)oe[h]=Oi(pi(t,Xe,h));const dr=h=>C(oe[h],1,1,()=>{oe[h]=null});let Je=t[0].hand,ae=[];for(let h=0;h<Je.length;h+=1)ae[h]=Bi(di(t,Je,h));const pr=h=>C(ae[h],1,1,()=>{ae[h]=null});let Qe=t[0].discards,le=[];for(let h=0;h<Qe.length;h+=1)le[h]=Pi(hi(t,Qe,h));const gr=h=>C(le[h],1,1,()=>{le[h]=null});return{c(){e=B("div"),n=B("div"),i=B("div"),r=B("p"),s=$(t[6]),o=q(),a=B("p"),l=$(t[7]),u=q(),d=B("h2"),d.textContent="Player 1",w=q(),k=B("div"),g=B("p"),m=$("Player 1 Win/Lose/Draw: "),v=$(b),S=$("/"),L=$(M),W=$("/"),O=$(P),N=q(),z=B("p"),H=$("Player 2 Win/Lose/Draw: "),ue=$(ve),F=$("/"),Re=$(J),ye=$("/"),D=$(Q),E=q(),V=B("h2"),V.textContent="Player 2",fe=q(),U=B("div"),he=B("div"),st=B("p"),st.textContent="Starting Hand:",kt=q();for(let h=0;h<te.length;h+=1)te[h].c();vt=q(),ot=B("p"),ot.textContent="Cards drawn:",Pt=q();for(let h=0;h<ne.length;h+=1)ne[h].c();St=q(),Te=B("div"),at=B("p"),at.textContent="Final Hand:",Lt=q();for(let h=0;h<ie.length;h+=1)ie[h].c();Tt=q(),lt=B("p"),lt.textContent="Cards discarded:",c=q();for(let h=0;h<re.length;h+=1)re[h].c();_=q(),R=B("div"),I=B("div"),ke=B("p"),ke.textContent="Starting Hand:",Y=q();for(let h=0;h<se.length;h+=1)se[h].c();ct=q(),ze=B("p"),ze.textContent="Cards drawn:",Nt=q();for(let h=0;h<oe.length;h+=1)oe[h].c();Pn=q(),Oe=B("div"),Dt=B("p"),Dt.textContent="Final Hand:",Sn=q();for(let h=0;h<ae.length;h+=1)ae[h].c();en=q(),Mt=B("p"),Mt.textContent="Cards discarded:",Ln=q();for(let h=0;h<le.length;h+=1)le[h].c();A(d,"class","results-player-floating-header results-player-float-left svelte-18ceprl"),A(V,"class","results-player-floating-header results-player-float-right svelte-18ceprl"),A(n,"class","results-messages-flex-wrapper svelte-18ceprl"),A(st,"class","history__small-header svelte-18ceprl"),A(ot,"class","history__small-header svelte-18ceprl"),A(he,"class","history__cards-drawn"),A(at,"class","history__small-header svelte-18ceprl"),A(lt,"class","history__small-header svelte-18ceprl"),A(Te,"class","history__cards-discarded"),A(U,"class","player-history-wrapper svelte-18ceprl"),A(ke,"class","history__small-header svelte-18ceprl"),A(ze,"class","history__small-header svelte-18ceprl"),A(I,"class","history__cards-drawn"),A(Dt,"class","history__small-header svelte-18ceprl"),A(Mt,"class","history__small-header svelte-18ceprl"),A(Oe,"class","history__cards-discarded"),A(R,"class","player-history-wrapper svelte-18ceprl"),A(e,"class","results-screen svelte-18ceprl")},m(h,y){G(h,e,y),p(e,n),p(n,i),p(i,r),p(r,s),p(i,o),p(i,a),p(a,l),p(i,u),p(i,d),p(n,w),p(n,k),p(k,g),p(g,m),p(g,v),p(g,S),p(g,L),p(g,W),p(g,O),p(k,N),p(k,z),p(z,H),p(z,ue),p(z,F),p(z,Re),p(z,ye),p(z,D),p(k,E),p(k,V),p(e,fe),p(e,U),p(U,he),p(he,st),p(he,kt);for(let f=0;f<te.length;f+=1)te[f]&&te[f].m(he,null);p(he,vt),p(he,ot),p(he,Pt);for(let f=0;f<ne.length;f+=1)ne[f]&&ne[f].m(he,null);p(U,St),p(U,Te),p(Te,at),p(Te,Lt);for(let f=0;f<ie.length;f+=1)ie[f]&&ie[f].m(Te,null);p(Te,Tt),p(Te,lt),p(Te,c);for(let f=0;f<re.length;f+=1)re[f]&&re[f].m(Te,null);p(e,_),p(e,R),p(R,I),p(I,ke),p(I,Y);for(let f=0;f<se.length;f+=1)se[f]&&se[f].m(I,null);p(I,ct),p(I,ze),p(I,Nt);for(let f=0;f<oe.length;f+=1)oe[f]&&oe[f].m(I,null);p(R,Pn),p(R,Oe),p(Oe,Dt),p(Oe,Sn);for(let f=0;f<ae.length;f+=1)ae[f]&&ae[f].m(Oe,null);p(Oe,en),p(Oe,Mt),p(Oe,Ln);for(let f=0;f<le.length;f+=1)le[f]&&le[f].m(Oe,null);Ce=!0},p(h,y){if((!Ce||y[0]&64)&&Ee(s,h[6]),(!Ce||y[0]&128)&&Ee(l,h[7]),(!Ce||y[0]&2)&&b!==(b=h[1].wins+"")&&Ee(v,b),(!Ce||y[0]&2)&&M!==(M=h[1].losses+"")&&Ee(L,M),(!Ce||y[0]&2)&&P!==(P=h[1].draws+"")&&Ee(O,P),(!Ce||y[0]&1)&&ve!==(ve=h[0].wins+"")&&Ee(ue,ve),(!Ce||y[0]&1)&&J!==(J=h[0].losses+"")&&Ee(Re,J),(!Ce||y[0]&1)&&Q!==(Q=h[0].draws+"")&&Ee(D,Q),y[0]&514){Ke=h[1].startingHand;let f;for(f=0;f<Ke.length;f+=1){const Z=yi(h,Ke,f);te[f]?(te[f].p(Z,y),T(te[f],1)):(te[f]=Ti(Z),te[f].c(),T(te[f],1),te[f].m(he,vt))}for(me(),f=Ke.length;f<te.length;f+=1)lr(f);_e()}if(y[0]&514){je=h[1].cardsDrawn;let f;for(f=0;f<je.length;f+=1){const Z=bi(h,je,f);ne[f]?(ne[f].p(Z,y),T(ne[f],1)):(ne[f]=Ei(Z),ne[f].c(),T(ne[f],1),ne[f].m(he,null))}for(me(),f=je.length;f<ne.length;f+=1)cr(f);_e()}if(y[0]&514){Ge=h[1].hand;let f;for(f=0;f<Ge.length;f+=1){const Z=_i(h,Ge,f);ie[f]?(ie[f].p(Z,y),T(ie[f],1)):(ie[f]=Ai(Z),ie[f].c(),T(ie[f],1),ie[f].m(Te,Tt))}for(me(),f=Ge.length;f<ie.length;f+=1)ur(f);_e()}if(y[0]&514){Ye=h[1].discards;let f;for(f=0;f<Ye.length;f+=1){const Z=mi(h,Ye,f);re[f]?(re[f].p(Z,y),T(re[f],1)):(re[f]=Ci(Z),re[f].c(),T(re[f],1),re[f].m(Te,null))}for(me(),f=Ye.length;f<re.length;f+=1)fr(f);_e()}if(y[0]&513){$e=h[0].startingHand;let f;for(f=0;f<$e.length;f+=1){const Z=gi(h,$e,f);se[f]?(se[f].p(Z,y),T(se[f],1)):(se[f]=Ri(Z),se[f].c(),T(se[f],1),se[f].m(I,ct))}for(me(),f=$e.length;f<se.length;f+=1)hr(f);_e()}if(y[0]&513){Xe=h[0].cardsDrawn;let f;for(f=0;f<Xe.length;f+=1){const Z=pi(h,Xe,f);oe[f]?(oe[f].p(Z,y),T(oe[f],1)):(oe[f]=Oi(Z),oe[f].c(),T(oe[f],1),oe[f].m(I,null))}for(me(),f=Xe.length;f<oe.length;f+=1)dr(f);_e()}if(y[0]&513){Je=h[0].hand;let f;for(f=0;f<Je.length;f+=1){const Z=di(h,Je,f);ae[f]?(ae[f].p(Z,y),T(ae[f],1)):(ae[f]=Bi(Z),ae[f].c(),T(ae[f],1),ae[f].m(Oe,en))}for(me(),f=Je.length;f<ae.length;f+=1)pr(f);_e()}if(y[0]&513){Qe=h[0].discards;let f;for(f=0;f<Qe.length;f+=1){const Z=hi(h,Qe,f);le[f]?(le[f].p(Z,y),T(le[f],1)):(le[f]=Pi(Z),le[f].c(),T(le[f],1),le[f].m(Oe,null))}for(me(),f=Qe.length;f<le.length;f+=1)gr(f);_e()}},i(h){if(!Ce){for(let y=0;y<Ke.length;y+=1)T(te[y]);for(let y=0;y<je.length;y+=1)T(ne[y]);for(let y=0;y<Ge.length;y+=1)T(ie[y]);for(let y=0;y<Ye.length;y+=1)T(re[y]);for(let y=0;y<$e.length;y+=1)T(se[y]);for(let y=0;y<Xe.length;y+=1)T(oe[y]);for(let y=0;y<Je.length;y+=1)T(ae[y]);for(let y=0;y<Qe.length;y+=1)T(le[y]);qe(()=>{Ce&&(He||(He=Fn(e,Jt,{},!0)),He.run(1))}),Ce=!0}},o(h){te=te.filter(Boolean);for(let y=0;y<te.length;y+=1)C(te[y]);ne=ne.filter(Boolean);for(let y=0;y<ne.length;y+=1)C(ne[y]);ie=ie.filter(Boolean);for(let y=0;y<ie.length;y+=1)C(ie[y]);re=re.filter(Boolean);for(let y=0;y<re.length;y+=1)C(re[y]);se=se.filter(Boolean);for(let y=0;y<se.length;y+=1)C(se[y]);oe=oe.filter(Boolean);for(let y=0;y<oe.length;y+=1)C(oe[y]);ae=ae.filter(Boolean);for(let y=0;y<ae.length;y+=1)C(ae[y]);le=le.filter(Boolean);for(let y=0;y<le.length;y+=1)C(le[y]);He||(He=Fn(e,Jt,{},!1)),He.run(0),Ce=!1},d(h){h&&j(e),Le(te,h),Le(ne,h),Le(ie,h),Le(re,h),Le(se,h),Le(oe,h),Le(ae,h),Le(le,h),h&&He&&He.end()}}}function wi(t){let e,n;return e=new Se({props:{faceUp:t[11]("p1")||t[5],displayTitle:t[9][t[47]].displayTitle,title:t[9][t[47]].title,img:t[9][t[47]].image,trait:t[9][t[47]].trait,traitTitle:t[9][t[47]].traitTitle,description:t[9][t[47]].description,race:t[9][t[47]].race,rarity:t[9][t[47]].rarity,points:t[9][t[47]].points}}),e.$on("cardClick",t[15]),{c(){ce(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){const s={};r[0]&32&&(s.faceUp=i[11]("p1")||i[5]),r[0]&514&&(s.displayTitle=i[9][i[47]].displayTitle),r[0]&514&&(s.title=i[9][i[47]].title),r[0]&514&&(s.img=i[9][i[47]].image),r[0]&514&&(s.trait=i[9][i[47]].trait),r[0]&514&&(s.traitTitle=i[9][i[47]].traitTitle),r[0]&514&&(s.description=i[9][i[47]].description),r[0]&514&&(s.race=i[9][i[47]].race),r[0]&514&&(s.rarity=i[9][i[47]].rarity),r[0]&514&&(s.points=i[9][i[47]].points),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function ki(t){let e,n;return e=new Se({props:{faceUp:t[11]("p2")||t[5],displayTitle:t[9][t[47]].displayTitle,title:t[9][t[47]].title,img:t[9][t[47]].image,trait:t[9][t[47]].trait,traitTitle:t[9][t[47]].traitTitle,description:t[9][t[47]].description,race:t[9][t[47]].race,rarity:t[9][t[47]].rarity,points:t[9][t[47]].points}}),e.$on("cardClick",t[16]),{c(){ce(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){const s={};r[0]&32&&(s.faceUp=i[11]("p2")||i[5]),r[0]&513&&(s.displayTitle=i[9][i[47]].displayTitle),r[0]&513&&(s.title=i[9][i[47]].title),r[0]&513&&(s.img=i[9][i[47]].image),r[0]&513&&(s.trait=i[9][i[47]].trait),r[0]&513&&(s.traitTitle=i[9][i[47]].traitTitle),r[0]&513&&(s.description=i[9][i[47]].description),r[0]&513&&(s.race=i[9][i[47]].race),r[0]&513&&(s.rarity=i[9][i[47]].rarity),r[0]&513&&(s.points=i[9][i[47]].points),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function To(t){let e,n;return e=new Zt({props:{round:!0,customClasses:"btn__orange",$$slots:{default:[Ao]},$$scope:{ctx:t}}}),e.$on("click",t[14]),{c(){ce(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){const s={};r[2]&64&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Eo(t){let e,n;return e=new Zt({props:{round:!0,customClasses:"btn__orange_disabled",$$slots:{default:[Co]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,r){const s={};r[2]&64&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Ao(t){let e;return{c(){e=$("Gobbledegook!")},m(n,i){G(n,e,i)},d(n){n&&j(e)}}}function Co(t){let e;return{c(){e=$("Gobbledegook!")},m(n,i){G(n,e,i)},d(n){n&&j(e)}}}function vi(t){let e,n=t[1].turn?"Player 1":"Player 2",i,r;return{c(){e=B("p"),i=$(n),r=B("span"),r.textContent="'s turn",A(r,"class","svelte-18ceprl"),A(e,"class","turn-text svelte-18ceprl")},m(s,o){G(s,e,o),p(e,i),p(e,r)},p(s,o){o[0]&2&&n!==(n=s[1].turn?"Player 1":"Player 2")&&Ee(i,n)},d(s){s&&j(e)}}}function Ti(t){let e,n,i;return n=new Se({props:{displayTitle:t[9][t[47]].displayTitle,title:t[9][t[47]].title,img:t[9][t[47]].image,race:t[9][t[47]].race,rarity:t[9][t[47]].rarity,points:t[9][t[47]].points}}),{c(){e=B("div"),ce(n.$$.fragment),A(e,"class","history__card-wrapper svelte-18ceprl")},m(r,s){G(r,e,s),x(n,e,null),i=!0},p(r,s){const o={};s[0]&514&&(o.displayTitle=r[9][r[47]].displayTitle),s[0]&514&&(o.title=r[9][r[47]].title),s[0]&514&&(o.img=r[9][r[47]].image),s[0]&514&&(o.race=r[9][r[47]].race),s[0]&514&&(o.rarity=r[9][r[47]].rarity),s[0]&514&&(o.points=r[9][r[47]].points),n.$set(o)},i(r){i||(T(n.$$.fragment,r),i=!0)},o(r){C(n.$$.fragment,r),i=!1},d(r){r&&j(e),ee(n)}}}function Ei(t){let e,n,i,r;return n=new Se({props:{displayTitle:t[9][t[47]].displayTitle,title:t[9][t[47]].title,img:t[9][t[47]].image,race:t[9][t[47]].race,rarity:t[9][t[47]].rarity,points:t[9][t[47]].points}}),{c(){e=B("div"),ce(n.$$.fragment),i=q(),A(e,"class","history__card-wrapper svelte-18ceprl")},m(s,o){G(s,e,o),x(n,e,null),p(e,i),r=!0},p(s,o){const a={};o[0]&514&&(a.displayTitle=s[9][s[47]].displayTitle),o[0]&514&&(a.title=s[9][s[47]].title),o[0]&514&&(a.img=s[9][s[47]].image),o[0]&514&&(a.race=s[9][s[47]].race),o[0]&514&&(a.rarity=s[9][s[47]].rarity),o[0]&514&&(a.points=s[9][s[47]].points),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){C(n.$$.fragment,s),r=!1},d(s){s&&j(e),ee(n)}}}function Ai(t){let e,n,i,r;return n=new Se({props:{displayTitle:t[9][t[47]].displayTitle,title:t[9][t[47]].title,img:t[9][t[47]].image,race:t[9][t[47]].race,rarity:t[9][t[47]].rarity,points:t[9][t[47]].points}}),{c(){e=B("div"),ce(n.$$.fragment),i=q(),A(e,"class","history__card-wrapper svelte-18ceprl")},m(s,o){G(s,e,o),x(n,e,null),p(e,i),r=!0},p(s,o){const a={};o[0]&514&&(a.displayTitle=s[9][s[47]].displayTitle),o[0]&514&&(a.title=s[9][s[47]].title),o[0]&514&&(a.img=s[9][s[47]].image),o[0]&514&&(a.race=s[9][s[47]].race),o[0]&514&&(a.rarity=s[9][s[47]].rarity),o[0]&514&&(a.points=s[9][s[47]].points),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){C(n.$$.fragment,s),r=!1},d(s){s&&j(e),ee(n)}}}function Ci(t){let e,n,i,r;return n=new Se({props:{displayTitle:t[9][t[47]].displayTitle,title:t[9][t[47]].title,img:t[9][t[47]].image,race:t[9][t[47]].race,rarity:t[9][t[47]].rarity,points:t[9][t[47]].points}}),{c(){e=B("div"),ce(n.$$.fragment),i=q(),A(e,"class","history__card-wrapper svelte-18ceprl")},m(s,o){G(s,e,o),x(n,e,null),p(e,i),r=!0},p(s,o){const a={};o[0]&514&&(a.displayTitle=s[9][s[47]].displayTitle),o[0]&514&&(a.title=s[9][s[47]].title),o[0]&514&&(a.img=s[9][s[47]].image),o[0]&514&&(a.race=s[9][s[47]].race),o[0]&514&&(a.rarity=s[9][s[47]].rarity),o[0]&514&&(a.points=s[9][s[47]].points),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){C(n.$$.fragment,s),r=!1},d(s){s&&j(e),ee(n)}}}function Ri(t){let e,n,i;return n=new Se({props:{displayTitle:t[9][t[47]].displayTitle,title:t[9][t[47]].title,img:t[9][t[47]].image,race:t[9][t[47]].race,rarity:t[9][t[47]].rarity,points:t[9][t[47]].points}}),{c(){e=B("div"),ce(n.$$.fragment),A(e,"class","history__card-wrapper svelte-18ceprl")},m(r,s){G(r,e,s),x(n,e,null),i=!0},p(r,s){const o={};s[0]&513&&(o.displayTitle=r[9][r[47]].displayTitle),s[0]&513&&(o.title=r[9][r[47]].title),s[0]&513&&(o.img=r[9][r[47]].image),s[0]&513&&(o.race=r[9][r[47]].race),s[0]&513&&(o.rarity=r[9][r[47]].rarity),s[0]&513&&(o.points=r[9][r[47]].points),n.$set(o)},i(r){i||(T(n.$$.fragment,r),i=!0)},o(r){C(n.$$.fragment,r),i=!1},d(r){r&&j(e),ee(n)}}}function Oi(t){let e,n,i,r;return n=new Se({props:{displayTitle:t[9][t[47]].displayTitle,title:t[9][t[47]].title,img:t[9][t[47]].image,race:t[9][t[47]].race,rarity:t[9][t[47]].rarity,points:t[9][t[47]].points}}),{c(){e=B("div"),ce(n.$$.fragment),i=q(),A(e,"class","history__card-wrapper svelte-18ceprl")},m(s,o){G(s,e,o),x(n,e,null),p(e,i),r=!0},p(s,o){const a={};o[0]&513&&(a.displayTitle=s[9][s[47]].displayTitle),o[0]&513&&(a.title=s[9][s[47]].title),o[0]&513&&(a.img=s[9][s[47]].image),o[0]&513&&(a.race=s[9][s[47]].race),o[0]&513&&(a.rarity=s[9][s[47]].rarity),o[0]&513&&(a.points=s[9][s[47]].points),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){C(n.$$.fragment,s),r=!1},d(s){s&&j(e),ee(n)}}}function Bi(t){let e,n,i,r;return n=new Se({props:{displayTitle:t[9][t[47]].displayTitle,title:t[9][t[47]].title,img:t[9][t[47]].image,race:t[9][t[47]].race,rarity:t[9][t[47]].rarity,points:t[9][t[47]].points}}),{c(){e=B("div"),ce(n.$$.fragment),i=q(),A(e,"class","history__card-wrapper svelte-18ceprl")},m(s,o){G(s,e,o),x(n,e,null),p(e,i),r=!0},p(s,o){const a={};o[0]&513&&(a.displayTitle=s[9][s[47]].displayTitle),o[0]&513&&(a.title=s[9][s[47]].title),o[0]&513&&(a.img=s[9][s[47]].image),o[0]&513&&(a.race=s[9][s[47]].race),o[0]&513&&(a.rarity=s[9][s[47]].rarity),o[0]&513&&(a.points=s[9][s[47]].points),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){C(n.$$.fragment,s),r=!1},d(s){s&&j(e),ee(n)}}}function Pi(t){let e,n,i,r;return n=new Se({props:{displayTitle:t[9][t[47]].displayTitle,title:t[9][t[47]].title,img:t[9][t[47]].image,race:t[9][t[47]].race,rarity:t[9][t[47]].rarity,points:t[9][t[47]].points}}),{c(){e=B("div"),ce(n.$$.fragment),i=q(),A(e,"class","history__card-wrapper svelte-18ceprl")},m(s,o){G(s,e,o),x(n,e,null),p(e,i),r=!0},p(s,o){const a={};o[0]&513&&(a.displayTitle=s[9][s[47]].displayTitle),o[0]&513&&(a.title=s[9][s[47]].title),o[0]&513&&(a.img=s[9][s[47]].image),o[0]&513&&(a.race=s[9][s[47]].race),o[0]&513&&(a.rarity=s[9][s[47]].rarity),o[0]&513&&(a.points=s[9][s[47]].points),n.$set(a)},i(s){r||(T(n.$$.fragment,s),r=!0)},o(s){C(n.$$.fragment,s),r=!1},d(s){s&&j(e),ee(n)}}}function Ro(t){let e,n,i,r,s,o,a;const l=[bo,_o],u=[];function d(m,b){return m[4]?1:0}n=d(t),i=u[n]=l[n](t);const w=[vo,ko],k=[];function g(m,b){return m[6]?0:1}return s=g(t),o=k[s]=w[s](t),{c(){e=B("main"),i.c(),r=q(),o.c()},m(m,b){G(m,e,b),u[n].m(e,null),p(e,r),k[s].m(e,null),a=!0},p(m,b){let v=n;n=d(m),n===v?u[n].p(m,b):(me(),C(u[v],1,1,()=>{u[v]=null}),_e(),i=u[n],i?i.p(m,b):(i=u[n]=l[n](m),i.c()),T(i,1),i.m(e,r));let S=s;s=g(m),s===S?k[s].p(m,b):(me(),C(k[S],1,1,()=>{k[S]=null}),_e(),o=k[s],o?o.p(m,b):(o=k[s]=w[s](m),o.c()),T(o,1),o.m(e,null))},i(m){a||(T(i),T(o),a=!0)},o(m){C(i),C(o),a=!1},d(m){m&&j(e),u[n].d(),k[s].d()}}}function Oo(t,e){let n=t.hand.filter(r=>r==="ai").length,i=t.hand.filter(r=>r==="virus").length;t.hand.includes("crusher541A57")&&(n+=e.hand.filter(r=>r==="ai").length,i+=e.hand.filter(r=>r==="virus").length),t.hand.forEach(r=>{r==="virus"&&(t.points.bots+=8),r==="ai"&&(t.points.bots+=n*i)}),t.hand.includes("crusher541A57")&&e.hand.forEach(r=>{r==="virus"&&(t.points.bots+=8),r==="ai"&&(t.points.bots+=n*i)})}function Bo(t,e,n){let i,r,s,o,a,l,u,d,w,k;we(t,fs,c=>n(19,i=c)),we(t,pe,c=>n(0,r=c)),we(t,de,c=>n(1,s=c)),we(t,ls,c=>n(9,o=c)),we(t,gs,c=>n(20,a=c)),we(t,cs,c=>n(21,l=c)),we(t,us,c=>n(22,u=c)),we(t,hs,c=>n(23,d=c)),we(t,ds,c=>n(24,w=c)),we(t,ps,c=>n(25,k=c));let g=Kt("http://192.168.2.10:6912"),m=!1,b=!1,v=!1,S=!0,M="",L="",W=0,P={beasts:[...l],bots:[...u],dwarves:[...i],elves:[...d],goblins:[...w],humans:[...k],xenos:[...a]},O=Object.keys(P);Hi(()=>{g.on("connect",()=>console.log(`User ID: ${g.id} connected!`)),g.on("connect_error",c=>console.error("Connection error:",c)),g.on("set-users",c=>{Object.entries(c).forEach(([_,R])=>{de.update(I=>(I.id=c.p1,I)),pe.update(I=>(I.id=c.p2,I))})}),g.on("game-started",c=>{z(),de.update(_=>(_.hand=c.player1.hand,_.startingHand=c.player1.hand,_.turn=c.player1.turn,_)),pe.update(_=>(_.hand=c.player2.hand,_.startingHand=c.player2.hand,_.turn=c.player2.turn,_)),P={...c.fullDeck}}),g.on("turn-changed",c=>{n(8,W+=.5),de.update(_=>(_.turn=!c.player1.turn,_)),pe.update(_=>(_.turn=!c.player2.turn,_))}),g.on("card-drawn",c=>{P={...c.fullDeck},O=c.deckTypes,de.set(c.player1),pe.set(c.player2)}),g.on("card-discarded",c=>{de.set(c.player1),pe.set(c.player2)}),g.on("gdg-declared",()=>n(2,m=!0)),g.on("game-ended",()=>N()),g.emit("client-ready")});function N(){n(5,S=!0),n(4,v=!1),n(3,b=!0),de.update(c=>(c.turn=!1,c)),pe.update(c=>(c.turn=!1,c)),kt(s,r),kt(r,s),he(),ue(),ue(!0)}function z(){de.update(c=>(c.highestPoints=0,c.points.beasts=0,c.points.bots=0,c.points.dwarves=0,c.points.elves=0,c.points.goblins=0,c.points.humans=0,c.points.xenos=0,c.discards=[],c.justWon=!1,c)),pe.update(c=>(c.highestPoints=0,c.points.beasts=0,c.points.bots=0,c.points.dwarves=0,c.points.elves=0,c.points.goblins=0,c.points.humans=0,c.points.xenos=0,c.discards=[],c.justWon=!1,c)),P.humans=[...k],P.goblins=[...w],P.elves=[...d],P.dwarves=[...i],P.bots=[...u],P.beasts=[...l],P.xenos=[...a],n(8,W=0),n(5,S=!1),n(4,v=!0),n(2,m=!1),n(3,b=!1),n(6,M="")}function H(){z(),Q(s.hand),Q(r.hand),ve(),g.emit("start-game",{player1:s,player2:r,fullDeck:P})}function ve(){Math.ceil(Math.random()*2)===1?(be(de,s.turn=!0,s),be(pe,r.turn=!1,r)):(be(de,s.turn=!1,s),be(pe,r.turn=!0,r))}function ue(c=!1){const _=P.beasts.length||0,R=P.bots.length||0,I=P.dwarves.length||0,ke=P.elves.length||0,Y=P.goblins.length||0,ct=P.humans.length||0,ze=P.xenos.length||0;if(c)console.log(`Cards remaining per deck:

      Humans: ${ct}

      Goblins: ${Y}

      Elves: ${ke}

      Dwarves: ${I}
)
      Bots: ${R}
)
      Xenos: ${ze}
)
      Beasts: ${_}
`);else{const Nt=ct+Y+ke+I+R+_+ze;console.log(`Cards remaining in deck: ${Nt}`)}}function F(){return!!(s.id===g.id&&s.turn||r.id===g.id&&r.turn)}function J(){return s.id===g.id?"p1":r.id===g.id?"p2":"guest"}function Re(c){return!!(S||J()==="guest"||J()==="p1"&&c==="p1"||J()==="p2"&&c==="p2")}function ye(){g.emit("change-turns",{player1:s,player2:r})}function Q(c){for(let _=1;_<=5;_++){let R=Math.floor(Math.random()*O.length),I=O[R];R=Math.floor(Math.random()*P[I].length);const ke=P[I][R],Y=P[I].indexOf(ke);P[I].splice(Y,1),c.push(ke)}s.hand===c?de.update(_=>(_.hand=c,_.startingHand=c,_)):pe.update(_=>(_.hand=c,_.startingHand=c,_))}function D(c){if(S)return;let _="",R="",I=0;if(n(3,b=!0),c.hand.length>5)return;if(c.dwarfNextTurn?(c.dwarfNextTurn=!1,P.dwarves.length!==0?_="dwarves":(I=Math.floor(Math.random()*O.length),_=O[I])):(I=Math.floor(Math.random()*O.length),_=O[I]),O.length===0&&_===void 0){console.log("No more cards!"),g.emit("end-game");return}c.goblinLordMarked?(c.goblinLordMarked=!1,P.goblins.length===0?_=O[I]:_="goblins",P.goblins.includes("goblinLord")?R=P.goblins.find(Y=>Y==="goblinLord"):(I=Math.floor(Math.random()*P[_].length),R=P[_][I])):(I=Math.floor(Math.random()*P[_].length),R=P[_][I],(R==="longbeardLeader"||R==="dwarfCommander")&&(c.dwarfNextTurn=!0),R==="goblinLordsMark"&&(c.goblinLordMarked=!0));const ke=P[_].indexOf(R);if(P[_].splice(ke,1),P[_].length===0){const Y=O.indexOf(_);O.splice(Y,1)}c.title==="Player 1"?de.update(Y=>(Y.hand=[...Y.hand,R],Y.cardsDrawn=[R,...c.cardsDrawn],Y)):pe.update(Y=>(Y.hand=[...Y.hand,R],Y.cardsDrawn=[R,...c.cardsDrawn],Y)),g.emit("draw-card",{player1:s,player2:r,deckTypes:O,fullDeck:P})}function E(){S||J()!=="guest"&&(F()&&s.turn&&D(s),F()&&r.turn&&D(r))}function V(c){if(F()){if(F()&&s.turn){const _=s.hand.indexOf(c);de.update(R=>(R.hand.splice(_,1),R.discards=[...R.discards,c],R))}if(F()&&r.turn){const _=r.hand.indexOf(c);pe.update(R=>(R.hand.splice(_,1),R.discards=[...R.discards,c],R))}g.emit("discard-card",{player1:s,player2:r}),m?g.emit("end-game"):(ye(),n(3,b=!1))}}function fe(c,_){let R=c.detail.title;_.length>5&&V(R)}function U(){F()&&(S||(m?g.emit("end-game"):(console.log("Gobbledegook declared!!"),ye(),n(2,m=!0),g.emit("gdg-declared"))))}function he(){s.highestPoints>r.highestPoints?(be(de,s.justWon=!0,s),be(de,s.wins+=1,s),be(pe,r.losses+=1,r),n(6,M=`Player 1 is the winner with ${s.highestPoints} points!🎊🥳🍾`),n(7,L=`Player 2 loses with ${r.highestPoints} points...${r.highestPoints<=0?"💩💩💩":"💩"}`)):r.highestPoints>s.highestPoints?(be(pe,r.justWon=!0,r),be(pe,r.wins+=1,r),be(de,s.losses+=1,s),n(6,M=`Player 2 is the winner with ${r.highestPoints} points!🎊🥳🍾`),n(7,L=`Player 1 loses with ${s.highestPoints} points...${s.highestPoints<=0?"💩💩💩":"💩"}`)):s.highestPoints===5e5&&r.highestPoints===5e5?(be(de,s.justWon=!0,s),be(pe,r.justWon=!0,r),be(pe,r.draws+=1,r),be(de,s.draws+=1,s),n(6,M="It seems neither the goblins nor the elves want to go to war with each other while their leaders are on the field..."),n(7,L=" it's a draw!😓😓😓")):(be(de,s.justWon=!0,s),be(pe,r.justWon=!0,r),be(pe,r.draws+=1,r),be(de,s.draws+=1,s),n(6,M=`Player 1 had ${s.highestPoints} points and player 2 had ${r.highestPoints} points...`),n(7,L=" it's a draw!😓"))}function st(c){c.hand.forEach(_=>{switch(o[_].race){case"beast":c.points.beasts+=o[_].points;break;case"bot":o[_].title==="faeBot"&&(c.points.elves+=o[_].points),c.points.bots+=o[_].points;break;case"elf":c.points.elves+=o[_].points;break;case"dwarf":o[_].title==="hobbit"&&(c.points.humans+=o[_].points),c.points.dwarves+=o[_].points;break;case"goblin":c.points.goblins+=o[_].points;break;case"human":c.points.humans+=o[_].points;break;case"xeno":c.points.xenos+=o[_].points;break;default:console.log("Didn't match a race???")}c.highestPoints=Math.max(c.points.beasts,c.points.bots,c.points.dwarves,c.points.elves,c.points.goblins,c.points.humans,c.points.xenos)})}function kt(c,_){st(c),_.hand.includes("crusher541A57")&&(c.points.bots=0),c.hand.includes("commander")&&ot(c),c.hand.includes("emperor")&&vt(c),c.hand.includes("goblinLord")&&Pt(c,_),c.hand.includes("elfKing")&&St(c,_),c.hand.includes("dreamDestroyer")&&Te(c),c.hand.includes("dreamDestroyer")&&Te(c),c.hand.includes("crusher541A57")&&at(c,_),c.hand.includes("ai")&&Oo(c,_),c.hand.includes("longbeardLeader")&&Lt(c),c.hand.includes("nelladan")&&c.hand.includes("nadallen")&&(c.points.elves+=10),c.highestPoints=Math.max(c.points.beasts,c.points.bots,c.points.dwarves,c.points.elves,c.points.goblins,c.points.humans,c.points.xenos),console.log({player:c.title,highestPoints:c.highestPoints,beastPoints:c.points.beasts,botPoints:c.points.bots,dwarfPoints:c.points.dwarves,elfPoints:c.points.elves,goblinPoints:c.points.goblins,humanPoints:c.points.humans,xenoPoints:c.points.xenos})}function vt(c){c.points.humans*=2,c.hand.forEach(_=>{o[_].race!=="human"&&o[_].race!=="xeno"&&o[_].title!=="hobbit"&&(c.points.humans+=o[_].points)})}function ot(c){let _=c.hand.filter(R=>R==="commander").length;c.hand.forEach(R=>{(o[R].race==="human"||o[R].title==="hobbit")&&(c.points.humans+=_)})}function Pt(c,_){const R=c.hand.every(Y=>o[Y].race==="goblin");console.log(`from inside calculateGoblinLord, goblinHand = ${R}`);const I=_.hand.every(Y=>o[Y].race==="elf"),ke=_.hand.includes("elfKing");R&&I&&ke?c.points.goblins=5e5:R&&(c.points.goblins=1e6)}function St(c,_){const R=_.hand.every(Y=>o[Y].race==="goblin"),I=c.hand.every(Y=>o[Y].race==="elf"||o[Y].title==="faeBot"),ke=_.hand.includes("goblinLord");R&&ke&&I?c.points.elves=5e5:I?c.points.elves*=3:c.points.elves*=2}function Te(c){c.points.beasts=0,c.hand.forEach(_=>{o[_].race==="beast"&&(c.points.beasts+=12)})}function at(c,_){c.points.bots=0,_.points.bots=0,c.hand.forEach(R=>{o[R].race==="bot"&&(c.points.bots+=o[R].points+2)}),_.hand.forEach(R=>{o[R].race==="bot"&&(c.points.bots+=o[R].points+2)})}function Lt(c){let _=0;s.discards.forEach(R=>{i.includes(R)&&(_+=1)}),r.discards.forEach(R=>{i.includes(R)&&(_+=1)}),P.dwarves?_>=P.dwarves.length?c.points.dwarves+=50:c.points.dwarves+=0:c.points.dwarves+=50}const Tt=c=>fe(c,s.hand),lt=c=>fe(c,r.hand);return t.$$.update=()=>{t.$$.dirty[0]&3&&console.log({p1:s,p2:r})},[r,s,m,b,v,S,M,L,W,o,H,Re,E,fe,U,Tt,lt]}class Po extends Ve{constructor(e){super(),Fe(this,e,Bo,Ro,Ue,{},null,[-1,-1,-1])}}function So(t){let e,n,i;return n=new Po({}),{c(){e=B("main"),ce(n.$$.fragment),A(e,"class","svelte-jszidx")},m(r,s){G(r,e,s),x(n,e,null),i=!0},p:X,i(r){i||(T(n.$$.fragment,r),i=!0)},o(r){C(n.$$.fragment,r),i=!1},d(r){r&&j(e),ee(n)}}}class Si extends Ve{constructor(e){super(),Fe(this,e,null,So,Ue,{})}}function Lo(t){let e,n,i,r;return e=new Jn({props:{path:"/home",component:Si}}),i=new Jn({props:{path:"/",component:Si}}),{c(){ce(e.$$.fragment),n=q(),ce(i.$$.fragment)},m(s,o){x(e,s,o),G(s,n,o),x(i,s,o),r=!0},p:X,i(s){r||(T(e.$$.fragment,s),T(i.$$.fragment,s),r=!0)},o(s){C(e.$$.fragment,s),C(i.$$.fragment,s),r=!1},d(s){ee(e,s),s&&j(n),ee(i,s)}}}function No(t){let e,n;return e=new os({props:{$$slots:{default:[Lo]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(i,r){x(e,i,r),n=!0},p(i,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}class Do extends Ve{constructor(e){super(),Fe(this,e,null,No,Ue,{})}}new Do({target:document.getElementById("app")});
