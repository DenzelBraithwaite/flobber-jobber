(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Y(){}const Rn=t=>t;function kn(t,e){for(const n in e)t[n]=e[n];return t}function _r(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function qs(t){return t()}function Oi(){return Object.create(null)}function Qe(t){t.forEach(qs)}function Rt(t){return typeof t=="function"}function Ze(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let hn;function Li(t,e){return hn||(hn=document.createElement("a")),hn.href=e,t===hn.href}function yr(t){return Object.keys(t).length===0}function Vs(t,...e){if(t==null)return Y;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ae(t,e,n){t.$$.on_destroy.push(Vs(e,n))}function Gt(t,e,n,i){if(t){const s=Us(t,e,n,i);return t[0](s)}}function Us(t,e,n,i){return t[1]&&i?kn(n.ctx.slice(),t[1](i(e))):n.ctx}function Yt(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],a=Math.max(e.dirty.length,s.length);for(let l=0;l<a;l+=1)r[l]=e.dirty[l]|s[l];return r}return e.dirty|s}return e.dirty}function Xt(t,e,n,i,s,r){if(s){const a=Us(e,n,i,r);t.p(a,s)}}function Jt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Di(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Q(t,e,n){return t.set(n),e}function Ni(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const $s=typeof window<"u";let ni=$s?()=>window.performance.now():()=>Date.now(),ii=$s?t=>requestAnimationFrame(t):Y;const At=new Set;function Hs(t){At.forEach(e=>{e.c(t)||(At.delete(e),e.f())}),At.size!==0&&ii(Hs)}function si(t){let e;return At.size===0&&ii(Hs),{promise:new Promise(n=>{At.add(e={c:t,f:n})}),abort(){At.delete(e)}}}function d(t,e){t.appendChild(e)}function Fs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function wr(t){const e=T("style");return vr(Fs(t),e),e.sheet}function vr(t,e){return d(t.head||t,e),e.sheet}function z(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode&&t.parentNode.removeChild(t)}function De(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function D(t){return document.createTextNode(t)}function O(){return D(" ")}function Bt(){return D("")}function Qt(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function A(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function kr(t){return Array.from(t.childNodes)}function X(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ws(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,i,e),s}function Ii(t,e){return new t(e)}const Tn=new Map;let Cn=0;function Tr(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Cr(t,e){const n={stylesheet:wr(e),rules:{}};return Tn.set(t,n),n}function En(t,e,n,i,s,r,a,l=0){const u=16.666/i;let h=`{
`;for(let w=0;w<=1;w+=u){const N=e+(n-e)*r(w);h+=w*100+`%{${a(N,1-N)}}
`}const m=h+`100% {${a(n,1-n)}}
}`,k=`__svelte_${Tr(m)}_${l}`,y=Fs(t),{stylesheet:P,rules:_}=Tn.get(y)||Cr(y,t);_[k]||(_[k]=!0,P.insertRule(`@keyframes ${k} ${m}`,P.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${k} ${i}ms linear ${s}ms 1 both`,Cn+=1,k}function An(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=n.length-i.length;s&&(t.style.animation=i.join(", "),Cn-=s,Cn||Er())}function Er(){ii(()=>{Cn||(Tn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&H(e)}),Tn.clear())})}let Kt;function Ye(t){Kt=t}function St(){if(!Kt)throw new Error("Function called outside component initialization");return Kt}function js(t){St().$$.on_mount.push(t)}function Ar(t){St().$$.on_destroy.push(t)}function Pr(){const t=St();return(e,n,{cancelable:i=!1}={})=>{const s=t.$$.callbacks[e];if(s){const r=Ws(e,n,{cancelable:i});return s.slice().forEach(a=>{a.call(t,r)}),!r.defaultPrevented}return!0}}function $n(t,e){return St().$$.context.set(t,e),e}function Kn(t){return St().$$.context.get(t)}function bn(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const Ct=[],Mi=[];let Pt=[];const qi=[],Rr=Promise.resolve();let Gn=!1;function Br(){Gn||(Gn=!0,Rr.then(ri))}function Xe(t){Pt.push(t)}const Hn=new Set;let kt=0;function ri(){if(kt!==0)return;const t=Kt;do{try{for(;kt<Ct.length;){const e=Ct[kt];kt++,Ye(e),Sr(e.$$)}}catch(e){throw Ct.length=0,kt=0,e}for(Ye(null),Ct.length=0,kt=0;Mi.length;)Mi.pop()();for(let e=0;e<Pt.length;e+=1){const n=Pt[e];Hn.has(n)||(Hn.add(n),n())}Pt.length=0}while(Ct.length);for(;qi.length;)qi.pop()();Gn=!1,Hn.clear(),Ye(t)}function Sr(t){if(t.fragment!==null){t.update(),Qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Xe)}}function Or(t){const e=[],n=[];Pt.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Pt=e}let Ft;function oi(){return Ft||(Ft=Promise.resolve(),Ft.then(()=>{Ft=null})),Ft}function lt(t,e,n){t.dispatchEvent(Ws(`${e?"intro":"outro"}${n}`))}const _n=new Set;let ze;function we(){ze={r:0,c:[],p:ze}}function ve(){ze.r||Qe(ze.c),ze=ze.p}function E(t,e){t&&t.i&&(_n.delete(t),t.i(e))}function S(t,e,n,i){if(t&&t.o){if(_n.has(t))return;_n.add(t),ze.c.push(()=>{_n.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const ai={duration:0};function zs(t,e,n){const i={direction:"in"};let s=e(t,n,i),r=!1,a,l,u=0;function h(){a&&An(t,a)}function m(){const{delay:y=0,duration:P=300,easing:_=Rn,tick:b=Y,css:w}=s||ai;w&&(a=En(t,0,1,P,y,_,w,u++)),b(0,1);const N=ni()+y,K=N+P;l&&l.abort(),r=!0,Xe(()=>lt(t,!0,"start")),l=si(U=>{if(r){if(U>=K)return b(1,0),lt(t,!0,"end"),h(),r=!1;if(U>=N){const G=_((U-N)/P);b(G,1-G)}}return r})}let k=!1;return{start(){k||(k=!0,An(t),Rt(s)?(s=s(i),oi().then(m)):m())},invalidate(){k=!1},end(){r&&(h(),r=!1)}}}function Ks(t,e,n){const i={direction:"out"};let s=e(t,n,i),r=!0,a;const l=ze;l.r+=1;function u(){const{delay:h=0,duration:m=300,easing:k=Rn,tick:y=Y,css:P}=s||ai;P&&(a=En(t,1,0,m,h,k,P));const _=ni()+h,b=_+m;Xe(()=>lt(t,!1,"start")),si(w=>{if(r){if(w>=b)return y(0,1),lt(t,!1,"end"),--l.r||Qe(l.c),!1;if(w>=_){const N=k((w-_)/m);y(1-N,N)}}return r})}return Rt(s)?oi().then(()=>{s=s(i),u()}):u(),{end(h){h&&s.tick&&s.tick(1,0),r&&(a&&An(t,a),r=!1)}}}function Vi(t,e,n,i){const s={direction:"both"};let r=e(t,n,s),a=i?0:1,l=null,u=null,h=null;function m(){h&&An(t,h)}function k(P,_){const b=P.b-a;return _*=Math.abs(b),{a,b:P.b,d:b,duration:_,start:P.start,end:P.start+_,group:P.group}}function y(P){const{delay:_=0,duration:b=300,easing:w=Rn,tick:N=Y,css:K}=r||ai,U={start:ni()+_,b:P};P||(U.group=ze,ze.r+=1),l||u?u=U:(K&&(m(),h=En(t,a,P,b,_,w,K)),P&&N(0,1),l=k(U,b),Xe(()=>lt(t,P,"start")),si(G=>{if(u&&G>u.start&&(l=k(u,b),u=null,lt(t,l.b,"start"),K&&(m(),h=En(t,a,l.b,l.duration,0,w,r.css))),l){if(G>=l.end)N(a=l.b,1-a),lt(t,l.b,"end"),u||(l.b?m():--l.group.r||Qe(l.group.c)),l=null;else if(G>=l.start){const J=G-l.start;a=l.a+l.d*w(J/l.duration),N(a,1-a)}}return!!(l||u)}))}return{run(P){Rt(r)?oi().then(()=>{r=r(s),y(P)}):y(P)},end(){m(),l=u=null}}}function Ui(t,e){const n=e.token={};function i(s,r,a,l){if(e.token!==n)return;e.resolved=l;let u=e.ctx;a!==void 0&&(u=u.slice(),u[a]=l);const h=s&&(e.current=s)(u);let m=!1;e.block&&(e.blocks?e.blocks.forEach((k,y)=>{y!==r&&k&&(we(),S(k,1,1,()=>{e.blocks[y]===k&&(e.blocks[y]=null)}),ve())}):e.block.d(1),h.c(),E(h,1),h.m(e.mount(),e.anchor),m=!0),e.block=h,e.blocks&&(e.blocks[r]=h),m&&ri()}if(_r(t)){const s=St();if(t.then(r=>{Ye(s),i(e.then,1,e.value,r),Ye(null)},r=>{if(Ye(s),i(e.catch,2,e.error,r),Ye(null),!e.hasCatch)throw r}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function Lr(t,e,n){const i=e.slice(),{resolved:s}=t;t.current===t.then&&(i[t.value]=s),t.current===t.catch&&(i[t.error]=s),t.block.p(i,n)}function Dr(t,e){const n={},i={},s={$$scope:1};let r=t.length;for(;r--;){const a=t[r],l=e[r];if(l){for(const u in a)u in l||(i[u]=1);for(const u in l)s[u]||(n[u]=l[u],s[u]=1);t[r]=l}else for(const u in a)s[u]=1}for(const a in i)a in n||(n[a]=void 0);return n}function $i(t){return typeof t=="object"&&t!==null?t:{}}function pe(t){t&&t.c()}function he(t,e,n,i){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),i||Xe(()=>{const a=t.$$.on_mount.map(qs).filter(Rt);t.$$.on_destroy?t.$$.on_destroy.push(...a):Qe(a),t.$$.on_mount=[]}),r.forEach(Xe)}function de(t,e){const n=t.$$;n.fragment!==null&&(Or(n.after_update),Qe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Nr(t,e){t.$$.dirty[0]===-1&&(Ct.push(t),Br(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ct(t,e,n,i,s,r,a,l=[-1]){const u=Kt;Ye(t);const h=t.$$={fragment:null,ctx:[],props:r,update:Y,not_equal:s,bound:Oi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Oi(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};a&&a(h.root);let m=!1;if(h.ctx=n?n(t,e.props||{},(k,y,...P)=>{const _=P.length?P[0]:y;return h.ctx&&s(h.ctx[k],h.ctx[k]=_)&&(!h.skip_bound&&h.bound[k]&&h.bound[k](_),m&&Nr(t,k)),y}):[],h.update(),m=!0,Qe(h.before_update),h.fragment=i?i(h.ctx):!1,e.target){if(e.hydrate){const k=kr(e.target);h.fragment&&h.fragment.l(k),k.forEach(H)}else h.fragment&&h.fragment.c();e.intro&&E(t.$$.fragment),he(t,e.target,e.anchor,e.customElement),ri()}Ye(u)}class ut{$destroy(){de(this,1),this.$destroy=Y}$on(e,n){if(!Rt(n))return Y;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!yr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Hi={},Yn={},Ir={},Gs=/^:(.+)/,Fi=4,Mr=3,qr=2,Vr=1,Ur=1,Xn=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),Fn=t=>t.replace(/(^\/+|\/+$)/g,""),$r=(t,e)=>{const n=t.default?0:Xn(t.path).reduce((i,s)=>(i+=Fi,s===""?i+=Ur:Gs.test(s)?i+=qr:s[0]==="*"?i-=Fi+Vr:i+=Mr,i),0);return{route:t,score:n,index:e}},Hr=t=>t.map($r).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),Wi=(t,e)=>{let n,i;const[s]=e.split("?"),r=Xn(s),a=r[0]==="",l=Hr(t);for(let u=0,h=l.length;u<h;u++){const m=l[u].route;let k=!1;if(m.default){i={route:m,params:{},uri:e};continue}const y=Xn(m.path),P={},_=Math.max(r.length,y.length);let b=0;for(;b<_;b++){const w=y[b],N=r[b];if(w&&w[0]==="*"){const U=w==="*"?"*":w.slice(1);P[U]=r.slice(b).map(decodeURIComponent).join("/");break}if(typeof N>"u"){k=!0;break}const K=Gs.exec(w);if(K&&!a){const U=decodeURIComponent(N);P[K[1]]=U}else if(w!==N){k=!0;break}}if(!k){n={route:m,params:P,uri:"/"+r.slice(0,b).join("/")};break}}return n||i||null},ji=(t,e)=>`${Fn(e==="/"?t:`${Fn(t)}/${Fn(e)}`)}/`,Ys=()=>typeof window<"u"&&"document"in window&&"location"in window,Fr=t=>({params:t&4}),zi=t=>({params:t[2]});function Ki(t){let e,n,i,s;const r=[jr,Wr],a=[];function l(u,h){return u[0]?0:1}return e=l(t),n=a[e]=r[e](t),{c(){n.c(),i=Bt()},m(u,h){a[e].m(u,h),z(u,i,h),s=!0},p(u,h){let m=e;e=l(u),e===m?a[e].p(u,h):(we(),S(a[m],1,1,()=>{a[m]=null}),ve(),n=a[e],n?n.p(u,h):(n=a[e]=r[e](u),n.c()),E(n,1),n.m(i.parentNode,i))},i(u){s||(E(n),s=!0)},o(u){S(n),s=!1},d(u){a[e].d(u),u&&H(i)}}}function Wr(t){let e;const n=t[8].default,i=Gt(n,t,t[7],zi);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,r){i&&i.p&&(!e||r&132)&&Xt(i,n,s,s[7],e?Yt(n,s[7],r,Fr):Jt(s[7]),zi)},i(s){e||(E(i,s),e=!0)},o(s){S(i,s),e=!1},d(s){i&&i.d(s)}}}function jr(t){let e,n,i,s={ctx:t,current:null,token:null,hasCatch:!1,pending:Gr,then:Kr,catch:zr,value:12,blocks:[,,,]};return Ui(n=t[0],s),{c(){e=Bt(),s.block.c()},m(r,a){z(r,e,a),s.block.m(r,s.anchor=a),s.mount=()=>e.parentNode,s.anchor=e,i=!0},p(r,a){t=r,s.ctx=t,a&1&&n!==(n=t[0])&&Ui(n,s)||Lr(s,t,a)},i(r){i||(E(s.block),i=!0)},o(r){for(let a=0;a<3;a+=1){const l=s.blocks[a];S(l)}i=!1},d(r){r&&H(e),s.block.d(r),s.token=null,s=null}}}function zr(t){return{c:Y,m:Y,p:Y,i:Y,o:Y,d:Y}}function Kr(t){var l;let e,n,i;const s=[t[2],t[3]];var r=((l=t[12])==null?void 0:l.default)||t[12];function a(u){let h={};for(let m=0;m<s.length;m+=1)h=kn(h,s[m]);return{props:h}}return r&&(e=Ii(r,a())),{c(){e&&pe(e.$$.fragment),n=Bt()},m(u,h){e&&he(e,u,h),z(u,n,h),i=!0},p(u,h){var k;const m=h&12?Dr(s,[h&4&&$i(u[2]),h&8&&$i(u[3])]):{};if(h&1&&r!==(r=((k=u[12])==null?void 0:k.default)||u[12])){if(e){we();const y=e;S(y.$$.fragment,1,0,()=>{de(y,1)}),ve()}r?(e=Ii(r,a()),pe(e.$$.fragment),E(e.$$.fragment,1),he(e,n.parentNode,n)):e=null}else r&&e.$set(m)},i(u){i||(e&&E(e.$$.fragment,u),i=!0)},o(u){e&&S(e.$$.fragment,u),i=!1},d(u){u&&H(n),e&&de(e,u)}}}function Gr(t){return{c:Y,m:Y,p:Y,i:Y,o:Y,d:Y}}function Yr(t){let e,n,i=t[1]&&t[1].route===t[5]&&Ki(t);return{c(){i&&i.c(),e=Bt()},m(s,r){i&&i.m(s,r),z(s,e,r),n=!0},p(s,[r]){s[1]&&s[1].route===s[5]?i?(i.p(s,r),r&2&&E(i,1)):(i=Ki(s),i.c(),E(i,1),i.m(e.parentNode,e)):i&&(we(),S(i,1,1,()=>{i=null}),ve())},i(s){n||(E(i),n=!0)},o(s){S(i),n=!1},d(s){i&&i.d(s),s&&H(e)}}}function Xr(t,e,n){let i,{$$slots:s={},$$scope:r}=e,{path:a=""}=e,{component:l=null}=e,u={},h={};const{registerRoute:m,unregisterRoute:k,activeRoute:y}=Kn(Yn);Ae(t,y,_=>n(1,i=_));const P={path:a,default:a===""};return m(P),Ar(()=>{k(P)}),t.$$set=_=>{n(11,e=kn(kn({},e),Di(_))),"path"in _&&n(6,a=_.path),"component"in _&&n(0,l=_.component),"$$scope"in _&&n(7,r=_.$$scope)},t.$$.update=()=>{if(i&&i.route===P){n(2,u=i.params);const{component:_,path:b,...w}=e;n(3,h=w),_&&(_.toString().startsWith("class ")?n(0,l=_):n(0,l=_())),Ys()&&(window==null||window.scrollTo(0,0))}},e=Di(e),[l,i,u,h,y,P,a,r,s]}class Gi extends ut{constructor(e){super(),ct(this,e,Xr,Yr,Ze,{path:6,component:0})}}const Tt=[];function Jr(t,e){return{subscribe:Pe(t,e).subscribe}}function Pe(t,e=Y){let n;const i=new Set;function s(l){if(Ze(t,l)&&(t=l,n)){const u=!Tt.length;for(const h of i)h[1](),Tt.push(h,t);if(u){for(let h=0;h<Tt.length;h+=2)Tt[h][0](Tt[h+1]);Tt.length=0}}}function r(l){s(l(t))}function a(l,u=Y){const h=[l,u];return i.add(h),i.size===1&&(n=e(s)||Y),l(t),()=>{i.delete(h),i.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:a}}function Qr(t,e,n){const i=!Array.isArray(t),s=i?[t]:t,r=e.length<2;return Jr(n,a=>{let l=!1;const u=[];let h=0,m=Y;const k=()=>{if(h)return;m();const P=e(i?u[0]:u,a);r?a(P):m=Rt(P)?P:Y},y=s.map((P,_)=>Vs(P,b=>{u[_]=b,h&=~(1<<_),l&&k()},()=>{h|=1<<_}));return l=!0,k(),function(){Qe(y),m(),l=!1}})}const Wn=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Zr=t=>{const e=[];let n=Wn(t);return{get location(){return n},listen(i){e.push(i);const s=()=>{n=Wn(t),i({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const r=e.indexOf(i);e.splice(r,1)}},navigate(i,{state:s,replace:r=!1}={}){s={...s,key:Date.now()+""};try{r?t.history.replaceState(s,"",i):t.history.pushState(s,"",i)}catch{t.location[r?"replace":"assign"](i)}n=Wn(t),e.forEach(a=>a({location:n,action:"PUSH"})),document.activeElement.blur()}}},xr=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],i=[];return{get location(){return n[e]},addEventListener(s,r){},removeEventListener(s,r){},history:{get entries(){return n},get index(){return e},get state(){return i[e]},pushState(s,r,a){const[l,u=""]=a.split("?");e++,n.push({pathname:l,search:u}),i.push(s)},replaceState(s,r,a){const[l,u=""]=a.split("?");n[e]={pathname:l,search:u},i[e]=s}}}},eo=Zr(Ys()?window:xr()),to=t=>({route:t&2,location:t&1}),Yi=t=>({route:t[1]&&t[1].uri,location:t[0]});function no(t){let e;const n=t[12].default,i=Gt(n,t,t[11],Yi);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,[r]){i&&i.p&&(!e||r&2051)&&Xt(i,n,s,s[11],e?Yt(n,s[11],r,to):Jt(s[11]),Yi)},i(s){e||(E(i,s),e=!0)},o(s){S(i,s),e=!1},d(s){i&&i.d(s)}}}function io(t,e,n){let i,s,r,a,{$$slots:l={},$$scope:u}=e,{basepath:h="/"}=e,{url:m=null}=e,{history:k=eo}=e;$n(Ir,k);const y=Kn(Hi),P=Kn(Yn),_=Pe([]);Ae(t,_,L=>n(9,s=L));const b=Pe(null);Ae(t,b,L=>n(1,a=L));let w=!1;const N=y||Pe(m?{pathname:m}:k.location);Ae(t,N,L=>n(0,i=L));const K=P?P.routerBase:Pe({path:h,uri:h});Ae(t,K,L=>n(10,r=L));const U=Qr([K,b],([L,C])=>{if(!C)return L;const{path:I}=L,{route:ge,uri:Ee}=C;return{path:ge.default?I:ge.path.replace(/\*.*$/,""),uri:Ee}}),G=L=>{const{path:C}=r;let{path:I}=L;if(L._path=I,L.path=ji(C,I),typeof window>"u"){if(w)return;const ge=Wi([L],i.pathname);ge&&(b.set(ge),w=!0)}else _.update(ge=>[...ge,L])},J=L=>{_.update(C=>C.filter(I=>I!==L))};return y||(js(()=>k.listen(C=>{N.set(C.location)})),$n(Hi,N)),$n(Yn,{activeRoute:b,base:K,routerBase:U,registerRoute:G,unregisterRoute:J}),t.$$set=L=>{"basepath"in L&&n(6,h=L.basepath),"url"in L&&n(7,m=L.url),"history"in L&&n(8,k=L.history),"$$scope"in L&&n(11,u=L.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:L}=r;_.update(C=>C.map(I=>Object.assign(I,{path:ji(L,I._path)})))}if(t.$$.dirty&513){const L=Wi(s,i.pathname);b.set(L)}},[i,a,_,b,N,K,h,m,k,s,r,u,l]}class so extends ut{constructor(e){super(),ct(this,e,io,no,Ze,{basepath:6,url:7,history:8})}}function ro(t){const e=t-1;return e*e*e+1}function Pn(t,{delay:e=0,duration:n=400,easing:i=Rn}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:r=>`opacity: ${r*s}`}}function Xs(t,{delay:e=0,duration:n=400,easing:i=ro,x:s=0,y:r=0,opacity:a=0}={}){const l=getComputedStyle(t),u=+l.opacity,h=l.transform==="none"?"":l.transform,m=u*(1-a),[k,y]=Ni(s),[P,_]=Ni(r);return{delay:e,duration:n,easing:i,css:(b,w)=>`
			transform: ${h} translate(${(1-b)*k}${y}, ${(1-b)*P}${_});
			opacity: ${u-m*w}`}}const Z=Pe({id:void 0,title:"Player 1",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,playedFirst:!1,turn:!1,dwarfNextTurn:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],chargeDrawnTurns:[],infectDrawnTurns:[],hasChastity:!1,hasCorruption:!1,chargePoints:0,infectPoints:0,warpStalkerPointValue:0,voidRunnerPointValue:0}),x=Pe({id:void 0,title:"Player 2",points:{beasts:0,bots:0,dwarves:0,elves:0,humans:0,goblins:0,xenos:0},highestPoints:0,justWon:!1,wins:0,losses:0,draws:0,playedFirst:!1,turn:!1,dwarfNextTurn:!1,goblinLordMarked:!1,hand:[],startingHand:[],cardsDrawn:[],discards:[],boosts:[],traps:[],hasChastity:!1,hasCorruption:!1,chargeDrawnTurns:[],infectDrawnTurns:[],chargePoints:0,infectPoints:0,warpStalkerPointValue:0,voidRunnerPointValue:0}),Wt=Pe({emperor:{title:"emperor",displayTitle:"Emperor",points:10,amount:1,rarity:"legendary",trait:"Human points are doubled and all races in your hand except xenos will count towards your final score.",traitTitle:"Unity Pact",description:"The leader of the human race.",race:"human",image:"/humans/emperor.gif"},commander:{title:"commander",displayTitle:"Commander",points:8,amount:2,rarity:"epic",trait:"When the commander is in your hand, all humans you have will receive +1 point, including commanders. This effect also stacks with the emperor.",traitTitle:"Rally",description:"Powerful warrior second only to the emperor.",race:"human",image:"/humans/commander.png"},assassin:{title:"assassin",displayTitle:"Assassin",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A highly skilled professional killer.",race:"human",image:"/humans/assassin.png"},knight:{title:"knight",displayTitle:"Knight",points:4,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A middle ranked warrior.",race:"human",image:"/humans/knight.png"},soldier:{title:"soldier",displayTitle:"Soldier",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A low ranked warrior.",race:"human",image:"/humans/soldier.png"},scout:{title:"scout",displayTitle:"Scout",points:2,amount:5,rarity:"common",trait:"",traitTitle:"",description:"The lowest ranked in the human army.",race:"human",image:"/humans/scout.png"},villager:{title:"villager",displayTitle:"Villager",points:1,amount:6,rarity:"common",trait:"",traitTitle:"",description:"An innocent villager.",race:"human",image:"/humans/villager.png"},goblinLord:{title:"goblinLord",displayTitle:"Goblin Lord",points:10,amount:1,rarity:"legendary",trait:"If your hand contains only goblins, you receive an insane amount of bonus points, doesn't count goblin lord's mark. Beware, the elf king can block this trait, resulting in a draw.",traitTitle:"Gobbledegook",description:"The leader of the goblins.",race:"goblin",image:"/goblins/goblin-lord.gif"},goblinLordsMark:{title:"goblinLordsMark",displayTitle:"Goblin Lord's Mark",points:0,amount:1,rarity:"epic",trait:"Draw the goblin lord next turn, only applies if this card is drawn. If no goblin lord, draw a goblin.",traitTitle:"Death's Mark",description:"A sign that the goblin lord is near.",race:"goblin-ish",image:"/goblins/goblin-lord_mark.png"},giant:{title:"giant",displayTitle:"Giant",points:8,amount:2,rarity:"epic",trait:"",traitTitle:"",description:"The strongest weapons of the goblin lord.",race:"goblin",image:"/goblins/giant.png"},troll:{title:"troll",displayTitle:"Troll",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"Loyal high ranked soldier in the goblin army.",race:"goblin",image:"/goblins/troll.png"},shaman:{title:"shaman",displayTitle:"Shaman",points:5,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A magic wielding goblin.",race:"goblin",image:"/goblins/shaman.png"},thief:{title:"thief",displayTitle:"Thief",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A quick, elusive but weak goblin.",race:"goblin",image:"/goblins/thief.png"},hobgoblin:{title:"hobgoblin",displayTitle:"Hobgoblin",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A low ranked goblin.",race:"goblin",image:"/goblins/hobgoblin.png"},bokoblin:{title:"bokoblin",displayTitle:"Bokoblin",points:1,amount:6,rarity:"common",trait:"",traitTitle:"",description:"The weakest of goblins.",race:"goblin",image:"/goblins/bokoblin.png"},elfKing:{title:"elfKing",displayTitle:"Elf King",points:10,amount:1,rarity:"legendary",trait:"If your hand contains only elves, they will have their points trippled, otherwise doubled! The elf king also prevents the enemy from using the goblin lord's special trait.",traitTitle:"Superior Race",description:"The purest, most powerful and respected leader of the elves.",race:"elf",image:"/elves/elf-king.gif"},elfChampion:{title:"elfChampion",displayTitle:"Elf Champion",points:8,amount:2,rarity:"epic",trait:"",traitTitle:"",description:"Elf king guard candidate.",race:"elf",image:"/elves/champion.png"},darkElf:{title:"darkElf",displayTitle:"Dark Elf",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"High ranked powerful elf.",race:"elf",image:"/elves/dark-elf.png"},forestDweller:{title:"forestDweller",displayTitle:"Forest Dweller",points:5,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"An elf in tune with nature, they're quite strong..",race:"elf",image:"/elves/forest-dweller.png"},nadallen:{title:"nadallen",displayTitle:"Nadallen",points:4,amount:1,rarity:"rare",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",traitTitle:"Twin Power",description:"The stronger half of the rare elvan twins.",race:"elf",image:"/elves/nadallen.png"},nelladan:{title:"nelladan",displayTitle:"Nelladan",points:2,amount:4,rarity:"uncommon",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack with itself or the elf king.",traitTitle:"Twin Power",description:"A rare elvan twin.",race:"elf",image:"/elves/nelladan.png"},woodElf:{title:"woodElf",displayTitle:"Wood Elf",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An elf who aspires to be a forest dwelling elf.",race:"elf",image:"/elves/wood-elf.png"},wildElf:{title:"wildElf",displayTitle:"Wild Elf",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An elf with no social status.",race:"elf",image:"/elves/wild-elf.png"},bard:{title:"bard",displayTitle:"Bard",points:1,amount:4,rarity:"common",trait:"",traitTitle:"",description:"A weak musician.",race:"elf",image:"/elves/bard.png"},longbeardLeader:{title:"longbeardLeader",displayTitle:"Longbeard Leader",points:10,amount:1,rarity:"legendary",trait:"At the end of the game, if there are more discarded dwarves than remaining(or equal) dwarves in the deck, dwarves receive 50 bonus points. Additionally, if drawn, the next card drawn will be a dwarf.",traitTitle:"Drunken rage",description:"The bravest and most feared amongst the dwarves.",race:"dwarf",image:"/dwarves/longbeard-leader.gif"},dwarfCommander:{title:"dwarfCommander",displayTitle:"Dwarf Commander",points:8,amount:2,rarity:"epic",trait:"If drawn, the next card will be a dwarf. Has no effect if there are no remaining dwarves.",traitTitle:"Recruit",description:"Right hand man to the longbeard leader himself.",race:"dwarf",image:"/dwarves/dwarf-commander.png"},alchemist:{title:"alchemist",displayTitle:"Alchemist",points:6,amount:2,rarity:"amazing",trait:"",traitTitle:"",description:"A dwarven warrior wielding science as magic.",race:"dwarf",image:"/dwarves/alchemist.png"},dwarfWarrior:{title:"dwarfWarrior",displayTitle:"Dwarf Warrior",points:5,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A strong and reliable dwarven warrior.",race:"dwarf",image:"/dwarves/warrior.png"},hunter:{title:"hunter",displayTitle:"Hunter",points:4,amount:3,rarity:"rare",trait:"",traitTitle:"",description:"A strong and capable hunter.",race:"dwarf",image:"/dwarves/hunter.png"},traveller:{title:"traveller",displayTitle:"Traveller",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"An adventurous but feeble dwarf.",race:"dwarf",image:"/dwarves/traveller.png"},miner:{title:"miner",displayTitle:"Miner",points:2,amount:3,rarity:"uncommon",trait:"",traitTitle:"",description:"An average miner, not great in a fight.",race:"dwarf",image:"/dwarves/miner.png"},blacksmith:{title:"blacksmith",displayTitle:"Blacksmith",points:2,amount:3,rarity:"uncommon",trait:"",traitTitle:"",description:"A typical blacksmith, not very strong.",race:"dwarf",image:"/dwarves/blacksmith.png"},hobbit:{title:"hobbit",displayTitle:"Hobbit",points:1,amount:4,rarity:"uncommon",trait:"Half and half.",traitTitle:"Hobbit points count towards both dwarves and humans.",description:"Half dwarf, half human. Although rare and different, they're generally accepted by all dwarves.",race:"dwarf",image:"/dwarves/hobbit.png"},bartender:{title:"bartender",displayTitle:"Bartender",points:1,amount:4,rarity:"common",trait:"",traitTitle:"",description:"A popular dwarf at the local pub, a serious drinker even amongst dwarves..",race:"dwarf",image:"/dwarves/bartender.png"},crusher541A57:{title:"crusher541A57",displayTitle:"Crusher 541-A-57",points:10,amount:1,rarity:"legendary",trait:"ALL bots will receive +2 points. Additionally, Crusher will hack all bots and steal their points.",traitTitle:"Binary Manipulator",description:"The most advanced battle and hacking unit known to man.",race:"bot",image:"/bots/crusher-5A1A-57.gif"},ai:{title:"ai",displayTitle:"A.I.",points:8,amount:2,rarity:"epic",trait:"Converts viruses into helpful programs, setting their point value to 6. A.I. will also receive +1 point for every cleansed virus.",traitTitle:"Antivirus",description:"The core of the modern bot society.",race:"bot",image:"/bots/ai.png"},faeBot:{title:"faeBot",displayTitle:"Fae Bot",points:6,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A bot created as a gift to the elves as a peace treaty.",race:"bot",image:"/bots/fae-bot.png"},sawBot3000:{title:"sawBot3000",displayTitle:"Sawbot-3000",points:4,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A bot designed to kill, beware.",race:"bot",image:"/bots/saw-bot-3000.png"},infernoBot:{title:"infernoBot",displayTitle:"Inferno Bot",points:3,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"An angry aggressive bot, known to attack on sight.",race:"bot",image:"/bots/inferno-bot.png"},incubator:{title:"incubator",displayTitle:"Incubator",points:2,amount:5,rarity:"uncommon",trait:"",traitTitle:"",description:"A weak mother bot used to raise young infants.",race:"bot",image:"/bots/incubator.png"},virus:{title:"virus",displayTitle:"Virus",points:-2,amount:7,rarity:"common",trait:"",traitTitle:"",description:"A common computer virus.",race:"bot",image:"/bots/virus.png"},dreamDestroyer:{title:"dreamDestroyer",displayTitle:"Dream Destroyer",points:12,amount:1,rarity:"legendary",trait:"All of your beasts are worth 12 points.",traitTitle:"🤬Roid Rage🤬",description:"The fiercest creature in the animal kingdom.",race:"beast",image:"/beasts/dream-destroyer.gif"},rhino:{title:"rhino",displayTitle:"Rhinestone",points:8,amount:3,rarity:"amazing",trait:"Blocks all endgame trap cards.",traitTitle:"Thick skin",description:"A feared beast at the top of the food chain.",race:"beast",image:"/beasts/rhino.png"},bear:{title:"bear",displayTitle:"Theodore Thunderpaws",points:7,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"A powerful top level beast, matched by few.",race:"beast",image:"/beasts/bear.png"},lion:{title:"lion",displayTitle:"Savannah Goldenmane",points:6,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"The original kings of the jungle.",race:"beast",image:"/beasts/lion.png"},panther:{title:"panther",displayTitle:"Panthera Nocturna",points:5,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A quick and efficient beast, known to stalk it's prey before pouncing.",race:"beast",image:"/beasts/panther.png"},wolf:{title:"wolf",displayTitle:"Alpha Wolfbane",points:4,amount:4,rarity:"rare",trait:"",traitTitle:"",description:"A lone wolf with the strength of a pack.",race:"beast",image:"/beasts/wolf.png"},fox:{title:"fox",displayTitle:"Finn Foxglove",points:3,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"A fox on steroids.",race:"beast",image:"/beasts/fox.png"},dog:{title:"dog",displayTitle:"Pawl Barkington",points:2,amount:4,rarity:"uncommon",trait:"",traitTitle:"",description:"More bark than bite, recognized as the weakest beast.",race:"beast",image:"/beasts/dog.png"},xenoGuard:{title:"xenoGuard",displayTitle:"Xeno Guard",points:20,amount:3,rarity:"epic",trait:"Blocks all ALLY end game boost cards.",traitTitle:"Antibodies",description:"The xenoGuard is a highly intelligent and powerful creature, feared by many. It is the most feared creature in the xeno hive, tasked with the safety of the xeno overlord.",race:"xeno",image:"/xenos/xeno_guard.png"},abyssolarian:{title:"abyssolarian",displayTitle:"Abyssolarian",points:10,amount:3,rarity:"epic",trait:"",traitTitle:"",description:"A feral xeno born in the darkest depths of Xenopp. Produces light to lure prey.",race:"xeno",image:"/xenos/abyssolarian.png"},warpstalker:{title:"warpstalker",displayTitle:"Warpstalker",points:0,amount:3,rarity:"epic",trait:"When drawn, a random point value (7-13 inclusive) will be chosen, then applied to ALL ally warpstalkers.",traitTitle:"Hive Resonance",description:"A xeno capable of riftwalking, similar to teleporting over short distances. Sometimes riftwalks to the wrong place.",race:"xeno",image:"/xenos/xeno_placeholder.png"},voidRunner:{title:"voidRunner",displayTitle:"Void Runner",points:0,amount:3,rarity:"epic",trait:"When drawn, ALL ally void Runners' points are set to the number of turns passed.",traitTitle:"Hive Unity",description:"A non sentient xeno who's only purpose is to run and grow stronger. If it ever stops it will die.",race:"xeno",image:"/xenos/xeno_placeholder.png"},nebulite:{title:"nebulite",displayTitle:"Nebulite",points:0,amount:3,rarity:"epic",trait:"Buffs all xenos by +4, does not apply to self and does not stack with other Nebulites.",traitTitle:"Hive Blossom",description:"Artificially created xenos incapable of speech.",race:"xeno",image:"/xenos/xeno_placeholder.png"},celenial:{title:"celenial",displayTitle:"Celenial",points:5,amount:3,rarity:"amazing",trait:"",traitTitle:"",description:"The lowest of the xenos, often mistreated. Excluding the nebulites, celenials are the weakest of the xenos, often used as bait for the abyssolarians.",race:"xeno",image:"/xenos/xeno_placeholder.png"},chastity:{title:"chastity",displayTitle:"Chastity",points:0,amount:1,rarity:"",trait:"Active immediately even if discarded. Blocks all trap cards except Corruption, only one exists in deck.",traitTitle:"Purity",description:"",race:"boost",image:"/boosts/rainbow_boost.png"},rejuvenate:{title:"rejuvenate",displayTitle:"Rejuvenate",points:0,amount:2,rarity:"",trait:"If drawn, player gains 10 points at the end of the game even after this card is discarded",traitTitle:"Rejuvenation",description:"",race:"boost",image:"/boosts/blue_boost.png"},dwarvenCall:{title:"dwarvenCall",displayTitle:"Dwarven Call",points:0,amount:2,rarity:"",trait:"If drawn, next card drawn is a dwarf. If no dwarves are left, draw random card.",traitTitle:"Last Call",description:"",race:"boost",image:"/boosts/ale.png"},charge:{title:"charge",displayTitle:"Charge",points:0,amount:2,rarity:"",trait:"Only affects bots and humans. If drawn, at the end of the game, gain points equal to (amount of turns - turns passed since drawn * charge cards) even if discarded.",traitTitle:"Recharge",description:"",race:"boost",image:"/boosts/charge.png"},corruption:{title:"corruption",displayTitle:"Corruption",points:0,amount:1,rarity:"",trait:"Active immediately even if discarded. Blocks all boost cards except Chastity, only one exists in deck.",traitTitle:"Impurity",description:"",race:"trap",image:"/boosts/rainbow_boost.png"},sap:{title:"sap",displayTitle:"Sap",points:0,amount:2,rarity:"",trait:"If drawn, player loses 10 points at the end of the game even after this card is discarded.",traitTitle:"Sapped",description:"",race:"trap",image:"/traps/red_trap.png"},dissociation:{title:"dissociation",displayTitle:"Dissociation",points:0,amount:1,rarity:"",trait:"If drawn, xenos lose 10 points at the end of the game even after this card is discarded.",traitTitle:"Dissociate",description:"",race:"trap",image:"/traps/xeno_trap.png"},infect:{title:"infect",displayTitle:"Infect",points:0,amount:2,rarity:"",trait:"Does not affect bots. If drawn, at the end of the game, lose points equal to (amount of turns - turns passed since drawn * infect cards) even if discarded.",traitTitle:"Infection",description:"",race:"trap",image:"/traps/green_trap.png"},lost:{title:"lost",displayTitle:"Lost",points:0,amount:2,rarity:"",trait:"If drawn, lose a turn because this card is useless.",traitTitle:"Lost",description:"",race:"trap",image:"/traps/white_trap.png"}}),oo=Pe(["dreamDestroyer","rhino","rhino","rhino","bear","bear","bear","lion","lion","lion","panther","panther","panther","wolf","wolf","wolf","fox","fox","fox","dog","dog","dog"]),ao=Pe(["crusher541A57","ai","ai","faeBot","faeBot","faeBot","sawBot3000","sawBot3000","sawBot3000","sawBot3000","infernoBot","infernoBot","infernoBot","infernoBot","incubator","incubator","incubator","incubator","virus","virus","virus","virus","virus","virus"]),lo=Pe(["longbeardLeader","dwarfCommander","dwarfCommander","alchemist","alchemist","dwarfWarrior","dwarfWarrior","hunter","hunter","hunter","miner","miner","miner","blacksmith","blacksmith","traveller","traveller","bartender","bartender","hobbit","hobbit","hobbit"]),co=Pe(["elfKing","elfChampion","elfChampion","darkElf","darkElf","forestDweller","forestDweller","forestDweller","nadallen","nelladan","nelladan","nelladan","nelladan","woodElf","woodElf","woodElf","wildElf","wildElf","wildElf","bard","bard","bard"]),uo=Pe(["goblinLord","giant","giant","troll","troll","troll","shaman","shaman","shaman","thief","thief","thief","hobgoblin","hobgoblin","hobgoblin","bokoblin","bokoblin","bokoblin","goblinLordsMark"]),fo=Pe(["emperor","commander","commander","assassin","assassin","assassin","knight","knight","knight","knight","soldier","soldier","soldier","soldier","scout","scout","scout","scout","villager","villager","villager","villager"]),ho=Pe(["xenoGuard","xenoGuard","xenoGuard","abyssolarian","abyssolarian","abyssolarian","warpstalker","warpstalker","warpstalker","voidRunner","voidRunner","voidRunner","celenial","celenial","celenial","nebulite","nebulite","nebulite"]),po=Pe(["chastity","rejuvenate","rejuvenate","charge","charge","dwarvenCall","dwarvenCall"]),go=Pe(["corruption","sap","sap","infect","infect","lost","lost","dissociation"]);function mo(t){let e,n,i,s,r;const a=t[5].default,l=Gt(a,t,t[4],null);return{c(){e=T("button"),l&&l.c(),A(e,"class",n=t[0]+" "+t[1]+" svelte-1ellvyg")},m(u,h){z(u,e,h),l&&l.m(e,null),i=!0,s||(r=Qt(e,"click",t[8]),s=!0)},p(u,h){l&&l.p&&(!i||h&16)&&Xt(l,a,u,u[4],i?Yt(a,u[4],h,null):Jt(u[4]),null),(!i||h&3&&n!==(n=u[0]+" "+u[1]+" svelte-1ellvyg"))&&A(e,"class",n)},i(u){i||(E(l,u),i=!0)},o(u){S(l,u),i=!1},d(u){u&&H(e),l&&l.d(u),s=!1,r()}}}function bo(t){let e,n,i,s,r;const a=t[5].default,l=Gt(a,t,t[4],null);return{c(){e=T("button"),l&&l.c(),A(e,"class",n="round "+t[0]+" svelte-1ellvyg")},m(u,h){z(u,e,h),l&&l.m(e,null),i=!0,s||(r=Qt(e,"click",t[7]),s=!0)},p(u,h){l&&l.p&&(!i||h&16)&&Xt(l,a,u,u[4],i?Yt(a,u[4],h,null):Jt(u[4]),null),(!i||h&1&&n!==(n="round "+u[0]+" svelte-1ellvyg"))&&A(e,"class",n)},i(u){i||(E(l,u),i=!0)},o(u){S(l,u),i=!1},d(u){u&&H(e),l&&l.d(u),s=!1,r()}}}function _o(t){let e,n,i,s,r;const a=t[5].default,l=Gt(a,t,t[4],null);return{c(){e=T("button"),l&&l.c(),A(e,"type","submit"),A(e,"class",n=t[0]+" "+t[1]+" svelte-1ellvyg")},m(u,h){z(u,e,h),l&&l.m(e,null),i=!0,s||(r=Qt(e,"click",t[6]),s=!0)},p(u,h){l&&l.p&&(!i||h&16)&&Xt(l,a,u,u[4],i?Yt(a,u[4],h,null):Jt(u[4]),null),(!i||h&3&&n!==(n=u[0]+" "+u[1]+" svelte-1ellvyg"))&&A(e,"class",n)},i(u){i||(E(l,u),i=!0)},o(u){S(l,u),i=!1},d(u){u&&H(e),l&&l.d(u),s=!1,r()}}}function yo(t){let e,n,i,s;const r=[_o,bo,mo],a=[];function l(u,h){return u[3]?0:u[2]?1:2}return e=l(t),n=a[e]=r[e](t),{c(){n.c(),i=Bt()},m(u,h){a[e].m(u,h),z(u,i,h),s=!0},p(u,[h]){let m=e;e=l(u),e===m?a[e].p(u,h):(we(),S(a[m],1,1,()=>{a[m]=null}),ve(),n=a[e],n?n.p(u,h):(n=a[e]=r[e](u),n.c()),E(n,1),n.m(i.parentNode,i))},i(u){s||(E(n),s=!0)},o(u){S(n),s=!1},d(u){a[e].d(u),u&&H(i)}}}function wo(t,e,n){let{$$slots:i={},$$scope:s}=e,{customClasses:r=""}=e,{bgColor:a=""}=e,{round:l=!1}=e,{btnSubmit:u=!1}=e;function h(y){bn.call(this,t,y)}function m(y){bn.call(this,t,y)}function k(y){bn.call(this,t,y)}return t.$$set=y=>{"customClasses"in y&&n(0,r=y.customClasses),"bgColor"in y&&n(1,a=y.bgColor),"round"in y&&n(2,l=y.round),"btnSubmit"in y&&n(3,u=y.btnSubmit),"$$scope"in y&&n(4,s=y.$$scope)},[r,a,l,u,s,i,h,m,k]}class Bn extends ut{constructor(e){super(),ct(this,e,wo,yo,Ze,{customClasses:0,bgColor:1,round:2,btnSubmit:3})}}function vo(t){let e,n,i,s,r,a=Ji(t[0])+"",l,u,h,m,k,y,P,_,b,w,N,K,U,G,J,L,C,I,ge,Ee,ee,ke,M,Ne,me,v=t[7]&&Xi(t);return{c(){e=T("div"),n=T("img"),s=O(),r=T("p"),l=D(a),h=O(),m=T("p"),k=D(t[4]),P=O(),_=T("p"),b=D(t[2]),N=O(),K=T("div"),U=T("div"),G=T("p"),J=D(t[6]),L=O(),v&&v.c(),C=O(),I=T("p"),ge=D(t[7]),A(n,"class","card-img svelte-14pso4b"),Li(n.src,i=t[3])||A(n,"src",i),A(n,"alt","img of card"),A(r,"class",u="race "+t[0]+"-race svelte-14pso4b"),A(m,"class",y="points "+t[0]+"-race svelte-14pso4b"),A(_,"class",w="card-title "+t[0]+"-title svelte-14pso4b"),A(G,"class","description svelte-14pso4b"),A(U,"class","bottom-section-wrapper svelte-14pso4b"),A(K,"class","card-bottom-section svelte-14pso4b"),A(e,"class",Ee="card bg-"+t[0]+(t[5]==="legendary"?"-rare":"")+" svelte-14pso4b")},m(j,te){z(j,e,te),d(e,n),d(e,s),d(e,r),d(r,l),d(e,h),d(e,m),d(m,k),d(e,P),d(e,_),d(_,b),d(e,N),d(e,K),d(K,U),d(U,G),d(G,J),d(U,L),v&&v.m(U,null),d(U,C),d(U,I),d(I,ge),M=!0,Ne||(me=Qt(e,"click",t[9]),Ne=!0)},p(j,te){(!M||te&8&&!Li(n.src,i=j[3]))&&A(n,"src",i),(!M||te&1)&&a!==(a=Ji(j[0])+"")&&X(l,a),(!M||te&1&&u!==(u="race "+j[0]+"-race svelte-14pso4b"))&&A(r,"class",u),(!M||te&16)&&X(k,j[4]),(!M||te&1&&y!==(y="points "+j[0]+"-race svelte-14pso4b"))&&A(m,"class",y),(!M||te&4)&&X(b,j[2]),(!M||te&1&&w!==(w="card-title "+j[0]+"-title svelte-14pso4b"))&&A(_,"class",w),(!M||te&64)&&X(J,j[6]),j[7]?v?v.p(j,te):(v=Xi(j),v.c(),v.m(U,C)):v&&(v.d(1),v=null),(!M||te&128)&&X(ge,j[7]),(!M||te&33&&Ee!==(Ee="card bg-"+j[0]+(j[5]==="legendary"?"-rare":"")+" svelte-14pso4b"))&&A(e,"class",Ee)},i(j){M||(Xe(()=>{M&&(ke&&ke.end(1),ee=zs(e,Xs,{x:100}),ee.start())}),M=!0)},o(j){ee&&ee.invalidate(),ke=Ks(e,Pn,{}),M=!1},d(j){j&&H(e),v&&v.d(),j&&ke&&ke.end(),Ne=!1,me()}}}function ko(t){let e,n,i,s,r,a;return{c(){e=T("div"),A(e,"class","card facedown bottom-deck svelte-14pso4b")},m(l,u){z(l,e,u),s=!0,r||(a=Qt(e,"click",t[11]),r=!0)},p:Y,i(l){s||(Xe(()=>{s&&(i&&i.end(1),n=zs(e,Xs,{x:100}),n.start())}),s=!0)},o(l){n&&n.invalidate(),i=Ks(e,Pn,{}),s=!1},d(l){l&&H(e),l&&i&&i.end(),r=!1,a()}}}function Xi(t){let e,n;return{c(){e=T("p"),n=D(t[8]),A(e,"class","special-trait svelte-14pso4b")},m(i,s){z(i,e,s),d(e,n)},p(i,s){s&256&&X(n,i[8])},d(i){i&&H(e)}}}function To(t){let e,n,i,s;const r=[ko,vo],a=[];function l(u,h){return u[1]?1:0}return e=l(t),n=a[e]=r[e](t),{c(){n.c(),i=Bt()},m(u,h){a[e].m(u,h),z(u,i,h),s=!0},p(u,[h]){let m=e;e=l(u),e===m?a[e].p(u,h):(we(),S(a[m],1,1,()=>{a[m]=null}),ve(),n=a[e],n?n.p(u,h):(n=a[e]=r[e](u),n.c()),E(n,1),n.m(i.parentNode,i))},i(u){s||(E(n),s=!0)},o(u){S(n),s=!1},d(u){a[e].d(u),u&&H(i)}}}function Ji(t){const e=t[0].toUpperCase(),n=t.slice(1);return e+n}function Co(t,e,n){let{faceUp:i=!0}=e,{displayTitle:s="Title here..."}=e,{title:r=""}=e,{img:a="/card-bg.png"}=e,{points:l=0}=e,{race:u="none"}=e,{rarity:h="common"}=e,{description:m=""}=e,{trait:k=""}=e,{traitTitle:y=""}=e;const P=Pr();function _(w){P("cardClick",{title:r,points:l,race:u,trait:k})}function b(w){bn.call(this,t,w)}return t.$$set=w=>{"faceUp"in w&&n(1,i=w.faceUp),"displayTitle"in w&&n(2,s=w.displayTitle),"title"in w&&n(10,r=w.title),"img"in w&&n(3,a=w.img),"points"in w&&n(4,l=w.points),"race"in w&&n(0,u=w.race),"rarity"in w&&n(5,h=w.rarity),"description"in w&&n(6,m=w.description),"trait"in w&&n(7,k=w.trait),"traitTitle"in w&&n(8,y=w.traitTitle)},t.$$.update=()=>{t.$$.dirty&1&&u==="goblin-ish"&&n(0,u="goblin")},[u,i,s,a,l,h,m,k,y,_,r,b]}class We extends ut{constructor(e){super(),ct(this,e,Co,To,Ze,{faceUp:1,displayTitle:2,title:10,img:3,points:4,race:0,rarity:5,description:6,trait:7,traitTitle:8})}}const Ge=Object.create(null);Ge.open="0";Ge.close="1";Ge.ping="2";Ge.pong="3";Ge.message="4";Ge.upgrade="5";Ge.noop="6";const yn=Object.create(null);Object.keys(Ge).forEach(t=>{yn[Ge[t]]=t});const Jn={type:"error",data:"parser error"},Js=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Qs=typeof ArrayBuffer=="function",Zs=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,li=({type:t,data:e},n,i)=>Js&&e instanceof Blob?n?i(e):Qi(e,i):Qs&&(e instanceof ArrayBuffer||Zs(e))?n?i(e):Qi(new Blob([e]),i):i(Ge[t]+(e||"")),Qi=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function Zi(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let jn;function Eo(t,e){if(Js&&t.data instanceof Blob)return t.data.arrayBuffer().then(Zi).then(e);if(Qs&&(t.data instanceof ArrayBuffer||Zs(t.data)))return e(Zi(t.data));li(t,!1,n=>{jn||(jn=new TextEncoder),e(jn.encode(n))})}const xi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<xi.length;t++)zt[xi.charCodeAt(t)]=t;const Ao=t=>{let e=t.length*.75,n=t.length,i,s=0,r,a,l,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),m=new Uint8Array(h);for(i=0;i<n;i+=4)r=zt[t.charCodeAt(i)],a=zt[t.charCodeAt(i+1)],l=zt[t.charCodeAt(i+2)],u=zt[t.charCodeAt(i+3)],m[s++]=r<<2|a>>4,m[s++]=(a&15)<<4|l>>2,m[s++]=(l&3)<<6|u&63;return h},Po=typeof ArrayBuffer=="function",ci=(t,e)=>{if(typeof t!="string")return{type:"message",data:xs(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Ro(t.substring(1),e)}:yn[n]?t.length>1?{type:yn[n],data:t.substring(1)}:{type:yn[n]}:Jn},Ro=(t,e)=>{if(Po){const n=Ao(t);return xs(n,e)}else return{base64:!0,data:t}},xs=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},er=String.fromCharCode(30),Bo=(t,e)=>{const n=t.length,i=new Array(n);let s=0;t.forEach((r,a)=>{li(r,!1,l=>{i[a]=l,++s===n&&e(i.join(er))})})},So=(t,e)=>{const n=t.split(er),i=[];for(let s=0;s<n.length;s++){const r=ci(n[s],e);if(i.push(r),r.type==="error")break}return i};function Oo(){return new TransformStream({transform(t,e){Eo(t,n=>{const i=n.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let zn;function dn(t){return t.reduce((e,n)=>e+n.length,0)}function pn(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)n[s]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function Lo(t,e){zn||(zn=new TextDecoder);const n=[];let i=0,s=-1,r=!1;return new TransformStream({transform(a,l){for(n.push(a);;){if(i===0){if(dn(n)<1)break;const u=pn(n,1);r=(u[0]&128)===128,s=u[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(dn(n)<2)break;const u=pn(n,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),i=3}else if(i===2){if(dn(n)<8)break;const u=pn(n,8),h=new DataView(u.buffer,u.byteOffset,u.length),m=h.getUint32(0);if(m>Math.pow(2,53-32)-1){l.enqueue(Jn);break}s=m*Math.pow(2,32)+h.getUint32(4),i=3}else{if(dn(n)<s)break;const u=pn(n,s);l.enqueue(ci(r?u:zn.decode(u),e)),i=0}if(s===0||s>t){l.enqueue(Jn);break}}}})}const tr=4;function be(t){if(t)return Do(t)}function Do(t){for(var e in be.prototype)t[e]=be.prototype[e];return t}be.prototype.on=be.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};be.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};be.prototype.off=be.prototype.removeListener=be.prototype.removeAllListeners=be.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};be.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};be.prototype.emitReserved=be.prototype.emit;be.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};be.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ue=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function nr(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const No=Ue.setTimeout,Io=Ue.clearTimeout;function Sn(t,e){e.useNativeTimers?(t.setTimeoutFn=No.bind(Ue),t.clearTimeoutFn=Io.bind(Ue)):(t.setTimeoutFn=Ue.setTimeout.bind(Ue),t.clearTimeoutFn=Ue.clearTimeout.bind(Ue))}const Mo=1.33;function qo(t){return typeof t=="string"?Vo(t):Math.ceil((t.byteLength||t.size)*Mo)}function Vo(t){let e=0,n=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function Uo(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function $o(t){let e={},n=t.split("&");for(let i=0,s=n.length;i<s;i++){let r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class Ho extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class ui extends be{constructor(e){super(),this.writable=!1,Sn(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new Ho(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=ci(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Uo(e);return n.length?"?"+n:""}}const ir="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Qn=64,Fo={};let es=0,gn=0,ts;function ns(t){let e="";do e=ir[t%Qn]+e,t=Math.floor(t/Qn);while(t>0);return e}function sr(){const t=ns(+new Date);return t!==ts?(es=0,ts=t):t+"."+ns(es++)}for(;gn<Qn;gn++)Fo[ir[gn]]=gn;let rr=!1;try{rr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Wo=rr;function or(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Wo))return new XMLHttpRequest}catch{}if(!e)try{return new Ue[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function jo(){}const zo=function(){return new or({xdomain:!1}).responseType!=null}();class Ko extends ui{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const n=e&&e.forceBase64;this.supportsBinary=zo&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};So(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Bo(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=sr()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ke(this.uri(),e)}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class Ke extends be{constructor(e,n){super(),Sn(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=nr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new or(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=Ke.requestsCount++,Ke.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=jo,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Ke.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Ke.requestsCount=0;Ke.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",is);else if(typeof addEventListener=="function"){const t="onpagehide"in Ue?"pagehide":"unload";addEventListener(t,is,!1)}}function is(){for(let t in Ke.requests)Ke.requests.hasOwnProperty(t)&&Ke.requests[t].abort()}const fi=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),mn=Ue.WebSocket||Ue.MozWebSocket,ss=!0,Go="arraybuffer",rs=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Yo extends ui{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,i=rs?{}:nr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=ss&&!rs?n?new mn(e,n):new mn(e):new mn(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;li(i,this.supportsBinary,r=>{const a={};try{ss&&this.ws.send(r)}catch{}s&&fi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=sr()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!mn}}class Xo extends ui{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=Lo(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),s=Oo();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const r=()=>{i.read().then(({done:l,value:u})=>{l||(this.onPacket(u),r())}).catch(l=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;this.writer.write(i).then(()=>{s&&fi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Jo={websocket:Yo,webtransport:Xo,polling:Ko},Qo=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Zo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Zn(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let s=Qo.exec(t||""),r={},a=14;for(;a--;)r[Zo[a]]=s[a]||"";return n!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=xo(r,r.path),r.queryKey=ea(r,r.query),r}function xo(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function ea(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(n[s]=r)}),n}let ar=class Et extends be{constructor(e,n={}){super(),this.binaryType=Go,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=Zn(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=Zn(n.host).host),Sn(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$o(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=tr,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Jo[e](i)}open(){let e;if(this.opts.rememberUpgrade&&Et.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;Et.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",k=>{if(!i)if(k.type==="pong"&&k.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Et.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function r(){i||(i=!0,m(),n.close(),n=null)}const a=k=>{const y=new Error("probe error: "+k);y.transport=n.name,r(),this.emitReserved("upgradeError",y)};function l(){a("transport closed")}function u(){a("socket closed")}function h(k){n&&k.name!==n.name&&r()}const m=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",l),this.off("close",u),this.off("upgrading",h)};n.once("open",s),n.once("error",a),n.once("close",l),this.once("close",u),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Et.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=qo(s)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:n,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){Et.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const s=e.length;for(;i<s;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}};ar.protocol=tr;function ta(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=Zn(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}const na=typeof ArrayBuffer=="function",ia=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,lr=Object.prototype.toString,sa=typeof Blob=="function"||typeof Blob<"u"&&lr.call(Blob)==="[object BlobConstructor]",ra=typeof File=="function"||typeof File<"u"&&lr.call(File)==="[object FileConstructor]";function hi(t){return na&&(t instanceof ArrayBuffer||ia(t))||sa&&t instanceof Blob||ra&&t instanceof File}function wn(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(wn(t[n]))return!0;return!1}if(hi(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return wn(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&wn(t[n]))return!0;return!1}function oa(t){const e=[],n=t.data,i=t;return i.data=xn(n,e),i.attachments=e.length,{packet:i,buffers:e}}function xn(t,e){if(!t)return t;if(hi(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=xn(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=xn(t[i],e));return n}return t}function aa(t,e){return t.data=ei(t.data,e),delete t.attachments,t}function ei(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=ei(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=ei(t[n],e));return t}const la=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ca=5;var W;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(W||(W={}));class ua{constructor(e){this.replacer=e}encode(e){return(e.type===W.EVENT||e.type===W.ACK)&&wn(e)?this.encodeAsBinary({type:e.type===W.EVENT?W.BINARY_EVENT:W.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===W.BINARY_EVENT||e.type===W.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=oa(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}function os(t){return Object.prototype.toString.call(t)==="[object Object]"}class di extends be{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===W.BINARY_EVENT;i||n.type===W.BINARY_ACK?(n.type=i?W.EVENT:W.ACK,this.reconstructor=new fa(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(hi(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(W[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===W.BINARY_EVENT||i.type===W.BINARY_ACK){const r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(r,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(r,n)}else i.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const r=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}i.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){const r=this.tryParse(e.substr(n));if(di.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case W.CONNECT:return os(n);case W.DISCONNECT:return n===void 0;case W.CONNECT_ERROR:return typeof n=="string"||os(n);case W.EVENT:case W.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&la.indexOf(n[0])===-1);case W.ACK:case W.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class fa{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=aa(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ha=Object.freeze(Object.defineProperty({__proto__:null,Decoder:di,Encoder:ua,get PacketType(){return W},protocol:ca},Symbol.toStringTag,{value:"Module"}));function Fe(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const da=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class cr extends be{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Fe(e,"open",this.onopen.bind(this)),Fe(e,"packet",this.onpacket.bind(this)),Fe(e,"error",this.onerror.bind(this)),Fe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(da.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:W.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,l=n.pop();this._registerAckCallback(a,l),i.id=a}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s);this.acks[e]=(...a)=>{this.io.clearTimeoutFn(r),n.apply(this,[null,...a])}}emitWithAck(e,...n){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,r)=>{n.push((a,l)=>i?a?r(a):s(l):s(a)),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:W.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case W.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case W.EVENT:case W.BINARY_EVENT:this.onevent(e);break;case W.ACK:case W.BINARY_ACK:this.onack(e);break;case W.DISCONNECT:this.ondisconnect();break;case W.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:W.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:W.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function Ot(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ot.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Ot.prototype.reset=function(){this.attempts=0};Ot.prototype.setMin=function(t){this.ms=t};Ot.prototype.setMax=function(t){this.max=t};Ot.prototype.setJitter=function(t){this.jitter=t};class ti extends be{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Sn(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Ot({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||ha;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ar(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=Fe(n,"open",function(){i.onopen(),e&&e()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},a=Fe(n,"error",r);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),n.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Fe(e,"ping",this.onping.bind(this)),Fe(e,"data",this.ondata.bind(this)),Fe(e,"error",this.onerror.bind(this)),Fe(e,"close",this.onclose.bind(this)),Fe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){fi(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new cr(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const jt={};function vn(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=ta(t,e.path||"/socket.io"),i=n.source,s=n.id,r=n.path,a=jt[s]&&r in jt[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let u;return l?u=new ti(i,e):(jt[s]||(jt[s]=new ti(i,e)),u=jt[s]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(vn,{Manager:ti,Socket:cr,io:vn,connect:vn});function as(t,e,n){const i=t.slice();return i[56]=e[n],i}function ls(t,e,n){const i=t.slice();return i[56]=e[n],i}function cs(t,e,n){const i=t.slice();return i[56]=e[n],i}function us(t,e,n){const i=t.slice();return i[56]=e[n],i}function fs(t,e,n){const i=t.slice();return i[56]=e[n],i}function hs(t,e,n){const i=t.slice();return i[56]=e[n],i}function ds(t,e,n){const i=t.slice();return i[56]=e[n],i}function ps(t,e,n){const i=t.slice();return i[56]=e[n],i}function gs(t,e,n){const i=t.slice();return i[56]=e[n],i}function ms(t,e,n){const i=t.slice();return i[56]=e[n],i}function bs(t,e,n){const i=t.slice();return i[73]=e[n],i}function _s(t,e,n){const i=t.slice();return i[76]=e[n],i}function ys(t,e,n){const i=t.slice();return i[73]=e[n],i}function ws(t,e,n){const i=t.slice();return i[76]=e[n],i}function pa(t){let e,n;return e=new Bn({props:{customClasses:"btn__green_disabled w-25",$$slots:{default:[ma]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,s){he(e,i,s),n=!0},p(i,s){const r={};s[2]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(E(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function ga(t){let e,n;return e=new Bn({props:{customClasses:"btn__green w-25",$$slots:{default:[ba]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){pe(e.$$.fragment)},m(i,s){he(e,i,s),n=!0},p(i,s){const r={};s[2]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(E(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function ma(t){let e;return{c(){e=D("Game in progress...")},m(n,i){z(n,e,i)},d(n){n&&H(e)}}}function ba(t){let e;return{c(){e=D("Start game")},m(n,i){z(n,e,i)},d(n){n&&H(e)}}}function _a(t){let e,n,i,s,r,a,l,u,h,m,k,y,P,_,b,w,N,K,U,G,J,L,C,I,ge,Ee,ee,ke=t[8].hand,M=[];for(let B=0;B<ke.length;B+=1)M[B]=vs(ls(t,ke,B));const Ne=B=>S(M[B],1,1,()=>{M[B]=null});let me=t[7].hand,v=[];for(let B=0;B<me.length;B+=1)v[B]=ks(as(t,me,B));const j=B=>S(v[B],1,1,()=>{v[B]=null});J=new We({props:{faceUp:!1}}),J.$on("click",t[12]);const te=[va,wa],Re=[];function je(B,V){return B[1]||B[6]<3?0:1}C=je(t),I=Re[C]=te[C](t);let _e=t[2]&&Ts(t);return{c(){e=T("div"),n=T("div"),i=T("p"),s=D("Player 1"),a=O();for(let B=0;B<M.length;B+=1)M[B].c();u=O(),h=T("div"),m=T("p"),k=D("Player 2"),P=O();for(let B=0;B<v.length;B+=1)v[B].c();b=O(),w=T("div"),N=T("h1"),K=D("Turn "),U=D(t[6]),G=O(),pe(J.$$.fragment),L=O(),I.c(),ge=O(),_e&&_e.c(),A(i,"class",r="p1-name "+(t[8].turn?"turn-active":"")+" svelte-e2gfep"),A(n,"class",l="card-section card-section__ally "+(t[8].turn||t[8].justWon?"section-active":"")+" svelte-e2gfep"),A(m,"class",y="p2-name "+(t[7].turn?"turn-active":"")+" svelte-e2gfep"),A(h,"class",_="card-section card-section__enemy "+(t[7].turn||t[7].justWon?"section-active":"")+" svelte-e2gfep"),A(N,"class","turn-count svelte-e2gfep"),A(w,"class","game-buttons svelte-e2gfep"),A(e,"class",Ee="game-board "+(t[0]?"gobble-declared":"")+" svelte-e2gfep")},m(B,V){z(B,e,V),d(e,n),d(n,i),d(i,s),d(n,a);for(let Te=0;Te<M.length;Te+=1)M[Te]&&M[Te].m(n,null);d(e,u),d(e,h),d(h,m),d(m,k),d(h,P);for(let Te=0;Te<v.length;Te+=1)v[Te]&&v[Te].m(h,null);d(e,b),d(e,w),d(w,N),d(N,K),d(N,U),d(w,G),he(J,w,null),d(w,L),Re[C].m(w,null),d(e,ge),_e&&_e.m(e,null),ee=!0},p(B,V){if((!ee||V[0]&256&&r!==(r="p1-name "+(B[8].turn?"turn-active":"")+" svelte-e2gfep"))&&A(i,"class",r),V[0]&11016){ke=B[8].hand;let $;for($=0;$<ke.length;$+=1){const $e=ls(B,ke,$);M[$]?(M[$].p($e,V),E(M[$],1)):(M[$]=vs($e),M[$].c(),E(M[$],1),M[$].m(n,null))}for(we(),$=ke.length;$<M.length;$+=1)Ne($);ve()}if((!ee||V[0]&256&&l!==(l="card-section card-section__ally "+(B[8].turn||B[8].justWon?"section-active":"")+" svelte-e2gfep"))&&A(n,"class",l),(!ee||V[0]&128&&y!==(y="p2-name "+(B[7].turn?"turn-active":"")+" svelte-e2gfep"))&&A(m,"class",y),V[0]&10888){me=B[7].hand;let $;for($=0;$<me.length;$+=1){const $e=as(B,me,$);v[$]?(v[$].p($e,V),E(v[$],1)):(v[$]=ks($e),v[$].c(),E(v[$],1),v[$].m(h,null))}for(we(),$=me.length;$<v.length;$+=1)j($);ve()}(!ee||V[0]&128&&_!==(_="card-section card-section__enemy "+(B[7].turn||B[7].justWon?"section-active":"")+" svelte-e2gfep"))&&A(h,"class",_),(!ee||V[0]&64)&&X(U,B[6]);let Te=C;C=je(B),C===Te?Re[C].p(B,V):(we(),S(Re[Te],1,1,()=>{Re[Te]=null}),ve(),I=Re[C],I?I.p(B,V):(I=Re[C]=te[C](B),I.c()),E(I,1),I.m(w,null)),B[2]?_e?_e.p(B,V):(_e=Ts(B),_e.c(),_e.m(e,null)):_e&&(_e.d(1),_e=null),(!ee||V[0]&1&&Ee!==(Ee="game-board "+(B[0]?"gobble-declared":"")+" svelte-e2gfep"))&&A(e,"class",Ee)},i(B){if(!ee){for(let V=0;V<ke.length;V+=1)E(M[V]);for(let V=0;V<me.length;V+=1)E(v[V]);E(J.$$.fragment,B),E(I),ee=!0}},o(B){M=M.filter(Boolean);for(let V=0;V<M.length;V+=1)S(M[V]);v=v.filter(Boolean);for(let V=0;V<v.length;V+=1)S(v[V]);S(J.$$.fragment,B),S(I),ee=!1},d(B){B&&H(e),De(M,B),De(v,B),de(J),Re[C].d(),_e&&_e.d()}}}function ya(t){let e,n,i,s,r,a,l,u,h,m,k,y,P,_=t[8].chargePoints+"",b,w,N,K,U,G,J,L,C,I=t[8].infectPoints+"",ge,Ee,ee,ke,M,Ne,me,v,j,te,Re=t[8].wins+"",je,_e,B=t[8].losses+"",V,Te,$=t[8].draws+"",$e,Lt,He,Zt,ft=t[7].wins+"",Dt,Nt,ht=t[7].losses+"",It,Mt,dt=t[7].draws+"",qt,xt,Vt,en,Ut,On,o=t[7].chargePoints+"",p,R,q,ne,ye,ie,xe,pt,$t,gt,pi,tn=t[7].infectPoints+"",Ln,gi,Dn,mi,Nn,nn,bi,Ht,_i,In,yi,mt,Ie,sn,wi,Mn,rn,vi,ki,Me,on,Ti,qn,an,Ci,Ei,bt,qe,ln,Ai,Vn,cn,Pi,Ri,Ve,un,Bi,Un,fn,Si,Je,Ce,_t=t[8].boosts,Be=[];for(let f=0;f<_t.length;f+=1)Be[f]=Cs(ws(t,_t,f));let yt=t[8].traps,Se=[];for(let f=0;f<yt.length;f+=1)Se[f]=Es(ys(t,yt,f));let wt=t[7].boosts,Oe=[];for(let f=0;f<wt.length;f+=1)Oe[f]=As(_s(t,wt,f));let vt=t[7].traps,Le=[];for(let f=0;f<vt.length;f+=1)Le[f]=Ps(bs(t,vt,f));let et=t[8].startingHand,se=[];for(let f=0;f<et.length;f+=1)se[f]=Rs(ms(t,et,f));const ur=f=>S(se[f],1,1,()=>{se[f]=null});let tt=t[8].cardsDrawn,re=[];for(let f=0;f<tt.length;f+=1)re[f]=Bs(gs(t,tt,f));const fr=f=>S(re[f],1,1,()=>{re[f]=null});let nt=t[8].hand,oe=[];for(let f=0;f<nt.length;f+=1)oe[f]=Ss(ps(t,nt,f));const hr=f=>S(oe[f],1,1,()=>{oe[f]=null});let it=t[8].discards,ae=[];for(let f=0;f<it.length;f+=1)ae[f]=Os(ds(t,it,f));const dr=f=>S(ae[f],1,1,()=>{ae[f]=null});let st=t[7].startingHand,le=[];for(let f=0;f<st.length;f+=1)le[f]=Ls(hs(t,st,f));const pr=f=>S(le[f],1,1,()=>{le[f]=null});let rt=t[7].cardsDrawn,ce=[];for(let f=0;f<rt.length;f+=1)ce[f]=Ds(fs(t,rt,f));const gr=f=>S(ce[f],1,1,()=>{ce[f]=null});let ot=t[7].hand,ue=[];for(let f=0;f<ot.length;f+=1)ue[f]=Ns(us(t,ot,f));const mr=f=>S(ue[f],1,1,()=>{ue[f]=null});let at=t[7].discards,fe=[];for(let f=0;f<at.length;f+=1)fe[f]=Is(cs(t,at,f));const br=f=>S(fe[f],1,1,()=>{fe[f]=null});return{c(){e=T("div"),n=T("div"),i=T("div"),s=T("p"),r=D(t[4]),a=O(),l=T("p"),u=D(t[5]),h=O(),m=T("p"),m.textContent="Player1 Boosts:",k=O(),y=T("p"),P=D("Charge boost points: "),b=D(_),w=O();for(let f=0;f<Be.length;f+=1)Be[f].c();N=O(),K=T("br"),U=O(),G=T("p"),G.textContent="Player1 Traps:",J=O(),L=T("p"),C=D("Infect trap penalty: "),ge=D(I),Ee=O(),ee=T("span"),ee.textContent="Trap cards:",ke=O();for(let f=0;f<Se.length;f+=1)Se[f].c();M=O(),Ne=T("h2"),Ne.textContent="Player 1",me=O(),v=T("div"),j=T("p"),te=D("Player 1 Win/Lose/Draw: "),je=D(Re),_e=D("/"),V=D(B),Te=D("/"),$e=D($),Lt=O(),He=T("p"),Zt=D("Player 2 Win/Lose/Draw: "),Dt=D(ft),Nt=D("/"),It=D(ht),Mt=D("/"),qt=D(dt),xt=O(),Vt=T("p"),Vt.textContent="Player2 Boosts:",en=O(),Ut=T("p"),On=D("Charge boost points: "),p=D(o),R=O(),q=T("span"),q.textContent="Boost cards:",ne=O();for(let f=0;f<Oe.length;f+=1)Oe[f].c();ye=O(),ie=T("br"),xe=O(),pt=T("p"),pt.textContent="Player2 Traps:",$t=O(),gt=T("p"),pi=D("Infect trap penalty: "),Ln=D(tn),gi=O(),Dn=T("span"),Dn.textContent="Trap cards:",mi=O();for(let f=0;f<Le.length;f+=1)Le[f].c();Nn=O(),nn=T("h2"),nn.textContent="Player 2",bi=O(),Ht=T("h2"),_i=D("Turn count: "),In=D(t[6]),yi=O(),mt=T("div"),Ie=T("div"),sn=T("p"),sn.textContent="Starting Hand:",wi=O();for(let f=0;f<se.length;f+=1)se[f].c();Mn=O(),rn=T("p"),rn.textContent="Cards drawn:",vi=O();for(let f=0;f<re.length;f+=1)re[f].c();ki=O(),Me=T("div"),on=T("p"),on.textContent="Final Hand:",Ti=O();for(let f=0;f<oe.length;f+=1)oe[f].c();qn=O(),an=T("p"),an.textContent="Cards discarded:",Ci=O();for(let f=0;f<ae.length;f+=1)ae[f].c();Ei=O(),bt=T("div"),qe=T("div"),ln=T("p"),ln.textContent="Starting Hand:",Ai=O();for(let f=0;f<le.length;f+=1)le[f].c();Vn=O(),cn=T("p"),cn.textContent="Cards drawn:",Pi=O();for(let f=0;f<ce.length;f+=1)ce[f].c();Ri=O(),Ve=T("div"),un=T("p"),un.textContent="Final Hand:",Bi=O();for(let f=0;f<ue.length;f+=1)ue[f].c();Un=O(),fn=T("p"),fn.textContent="Cards discarded:",Si=O();for(let f=0;f<fe.length;f+=1)fe[f].c();A(l,"class","margin-bottom-sm svelte-e2gfep"),A(K,"class","margin-bottom-sm svelte-e2gfep"),A(Ne,"class","results-player-floating-header results-player-float-left svelte-e2gfep"),A(He,"class","margin-bottom-sm svelte-e2gfep"),A(ie,"class","margin-bottom-sm svelte-e2gfep"),A(nn,"class","results-player-floating-header results-player-float-right svelte-e2gfep"),A(Ht,"class","results-player-floating-header results-turn-count-float-middle svelte-e2gfep"),A(n,"class","results-messages-flex-wrapper svelte-e2gfep"),A(sn,"class","history__small-header svelte-e2gfep"),A(rn,"class","history__small-header svelte-e2gfep"),A(Ie,"class","history__cards-drawn"),A(on,"class","history__small-header svelte-e2gfep"),A(an,"class","history__small-header svelte-e2gfep"),A(Me,"class","history__cards-discarded"),A(mt,"class","player-history-wrapper svelte-e2gfep"),A(ln,"class","history__small-header svelte-e2gfep"),A(cn,"class","history__small-header svelte-e2gfep"),A(qe,"class","history__cards-drawn"),A(un,"class","history__small-header svelte-e2gfep"),A(fn,"class","history__small-header svelte-e2gfep"),A(Ve,"class","history__cards-discarded"),A(bt,"class","player-history-wrapper svelte-e2gfep"),A(e,"class","results-screen svelte-e2gfep")},m(f,g){z(f,e,g),d(e,n),d(n,i),d(i,s),d(s,r),d(i,a),d(i,l),d(l,u),d(i,h),d(i,m),d(i,k),d(i,y),d(y,P),d(y,b),d(i,w);for(let c=0;c<Be.length;c+=1)Be[c]&&Be[c].m(i,null);d(i,N),d(i,K),d(i,U),d(i,G),d(i,J),d(i,L),d(L,C),d(L,ge),d(i,Ee),d(i,ee),d(i,ke);for(let c=0;c<Se.length;c+=1)Se[c]&&Se[c].m(i,null);d(i,M),d(i,Ne),d(n,me),d(n,v),d(v,j),d(j,te),d(j,je),d(j,_e),d(j,V),d(j,Te),d(j,$e),d(v,Lt),d(v,He),d(He,Zt),d(He,Dt),d(He,Nt),d(He,It),d(He,Mt),d(He,qt),d(v,xt),d(v,Vt),d(v,en),d(v,Ut),d(Ut,On),d(Ut,p),d(v,R),d(v,q),d(v,ne);for(let c=0;c<Oe.length;c+=1)Oe[c]&&Oe[c].m(v,null);d(v,ye),d(v,ie),d(v,xe),d(v,pt),d(v,$t),d(v,gt),d(gt,pi),d(gt,Ln),d(v,gi),d(v,Dn),d(v,mi);for(let c=0;c<Le.length;c+=1)Le[c]&&Le[c].m(v,null);d(v,Nn),d(v,nn),d(v,bi),d(v,Ht),d(Ht,_i),d(Ht,In),d(e,yi),d(e,mt),d(mt,Ie),d(Ie,sn),d(Ie,wi);for(let c=0;c<se.length;c+=1)se[c]&&se[c].m(Ie,null);d(Ie,Mn),d(Ie,rn),d(Ie,vi);for(let c=0;c<re.length;c+=1)re[c]&&re[c].m(Ie,null);d(mt,ki),d(mt,Me),d(Me,on),d(Me,Ti);for(let c=0;c<oe.length;c+=1)oe[c]&&oe[c].m(Me,null);d(Me,qn),d(Me,an),d(Me,Ci);for(let c=0;c<ae.length;c+=1)ae[c]&&ae[c].m(Me,null);d(e,Ei),d(e,bt),d(bt,qe),d(qe,ln),d(qe,Ai);for(let c=0;c<le.length;c+=1)le[c]&&le[c].m(qe,null);d(qe,Vn),d(qe,cn),d(qe,Pi);for(let c=0;c<ce.length;c+=1)ce[c]&&ce[c].m(qe,null);d(bt,Ri),d(bt,Ve),d(Ve,un),d(Ve,Bi);for(let c=0;c<ue.length;c+=1)ue[c]&&ue[c].m(Ve,null);d(Ve,Un),d(Ve,fn),d(Ve,Si);for(let c=0;c<fe.length;c+=1)fe[c]&&fe[c].m(Ve,null);Ce=!0},p(f,g){if((!Ce||g[0]&16)&&X(r,f[4]),(!Ce||g[0]&32)&&X(u,f[5]),(!Ce||g[0]&256)&&_!==(_=f[8].chargePoints+"")&&X(b,_),g[0]&256){_t=f[8].boosts;let c;for(c=0;c<_t.length;c+=1){const F=ws(f,_t,c);Be[c]?Be[c].p(F,g):(Be[c]=Cs(F),Be[c].c(),Be[c].m(i,N))}for(;c<Be.length;c+=1)Be[c].d(1);Be.length=_t.length}if((!Ce||g[0]&256)&&I!==(I=f[8].infectPoints+"")&&X(ge,I),g[0]&256){yt=f[8].traps;let c;for(c=0;c<yt.length;c+=1){const F=ys(f,yt,c);Se[c]?Se[c].p(F,g):(Se[c]=Es(F),Se[c].c(),Se[c].m(i,M))}for(;c<Se.length;c+=1)Se[c].d(1);Se.length=yt.length}if((!Ce||g[0]&256)&&Re!==(Re=f[8].wins+"")&&X(je,Re),(!Ce||g[0]&256)&&B!==(B=f[8].losses+"")&&X(V,B),(!Ce||g[0]&256)&&$!==($=f[8].draws+"")&&X($e,$),(!Ce||g[0]&128)&&ft!==(ft=f[7].wins+"")&&X(Dt,ft),(!Ce||g[0]&128)&&ht!==(ht=f[7].losses+"")&&X(It,ht),(!Ce||g[0]&128)&&dt!==(dt=f[7].draws+"")&&X(qt,dt),(!Ce||g[0]&128)&&o!==(o=f[7].chargePoints+"")&&X(p,o),g[0]&128){wt=f[7].boosts;let c;for(c=0;c<wt.length;c+=1){const F=_s(f,wt,c);Oe[c]?Oe[c].p(F,g):(Oe[c]=As(F),Oe[c].c(),Oe[c].m(v,ye))}for(;c<Oe.length;c+=1)Oe[c].d(1);Oe.length=wt.length}if((!Ce||g[0]&128)&&tn!==(tn=f[7].infectPoints+"")&&X(Ln,tn),g[0]&128){vt=f[7].traps;let c;for(c=0;c<vt.length;c+=1){const F=bs(f,vt,c);Le[c]?Le[c].p(F,g):(Le[c]=Ps(F),Le[c].c(),Le[c].m(v,Nn))}for(;c<Le.length;c+=1)Le[c].d(1);Le.length=vt.length}if((!Ce||g[0]&64)&&X(In,f[6]),g[0]&33536){et=f[8].startingHand;let c;for(c=0;c<et.length;c+=1){const F=ms(f,et,c);se[c]?(se[c].p(F,g),E(se[c],1)):(se[c]=Rs(F),se[c].c(),E(se[c],1),se[c].m(Ie,Mn))}for(we(),c=et.length;c<se.length;c+=1)ur(c);ve()}if(g[0]&33536){tt=f[8].cardsDrawn;let c;for(c=0;c<tt.length;c+=1){const F=gs(f,tt,c);re[c]?(re[c].p(F,g),E(re[c],1)):(re[c]=Bs(F),re[c].c(),E(re[c],1),re[c].m(Ie,null))}for(we(),c=tt.length;c<re.length;c+=1)fr(c);ve()}if(g[0]&33536){nt=f[8].hand;let c;for(c=0;c<nt.length;c+=1){const F=ps(f,nt,c);oe[c]?(oe[c].p(F,g),E(oe[c],1)):(oe[c]=Ss(F),oe[c].c(),E(oe[c],1),oe[c].m(Me,qn))}for(we(),c=nt.length;c<oe.length;c+=1)hr(c);ve()}if(g[0]&33536){it=f[8].discards;let c;for(c=0;c<it.length;c+=1){const F=ds(f,it,c);ae[c]?(ae[c].p(F,g),E(ae[c],1)):(ae[c]=Os(F),ae[c].c(),E(ae[c],1),ae[c].m(Me,null))}for(we(),c=it.length;c<ae.length;c+=1)dr(c);ve()}if(g[0]&33408){st=f[7].startingHand;let c;for(c=0;c<st.length;c+=1){const F=hs(f,st,c);le[c]?(le[c].p(F,g),E(le[c],1)):(le[c]=Ls(F),le[c].c(),E(le[c],1),le[c].m(qe,Vn))}for(we(),c=st.length;c<le.length;c+=1)pr(c);ve()}if(g[0]&33408){rt=f[7].cardsDrawn;let c;for(c=0;c<rt.length;c+=1){const F=fs(f,rt,c);ce[c]?(ce[c].p(F,g),E(ce[c],1)):(ce[c]=Ds(F),ce[c].c(),E(ce[c],1),ce[c].m(qe,null))}for(we(),c=rt.length;c<ce.length;c+=1)gr(c);ve()}if(g[0]&33408){ot=f[7].hand;let c;for(c=0;c<ot.length;c+=1){const F=us(f,ot,c);ue[c]?(ue[c].p(F,g),E(ue[c],1)):(ue[c]=Ns(F),ue[c].c(),E(ue[c],1),ue[c].m(Ve,Un))}for(we(),c=ot.length;c<ue.length;c+=1)mr(c);ve()}if(g[0]&33408){at=f[7].discards;let c;for(c=0;c<at.length;c+=1){const F=cs(f,at,c);fe[c]?(fe[c].p(F,g),E(fe[c],1)):(fe[c]=Is(F),fe[c].c(),E(fe[c],1),fe[c].m(Ve,null))}for(we(),c=at.length;c<fe.length;c+=1)br(c);ve()}},i(f){if(!Ce){for(let g=0;g<et.length;g+=1)E(se[g]);for(let g=0;g<tt.length;g+=1)E(re[g]);for(let g=0;g<nt.length;g+=1)E(oe[g]);for(let g=0;g<it.length;g+=1)E(ae[g]);for(let g=0;g<st.length;g+=1)E(le[g]);for(let g=0;g<rt.length;g+=1)E(ce[g]);for(let g=0;g<ot.length;g+=1)E(ue[g]);for(let g=0;g<at.length;g+=1)E(fe[g]);Xe(()=>{Ce&&(Je||(Je=Vi(e,Pn,{},!0)),Je.run(1))}),Ce=!0}},o(f){se=se.filter(Boolean);for(let g=0;g<se.length;g+=1)S(se[g]);re=re.filter(Boolean);for(let g=0;g<re.length;g+=1)S(re[g]);oe=oe.filter(Boolean);for(let g=0;g<oe.length;g+=1)S(oe[g]);ae=ae.filter(Boolean);for(let g=0;g<ae.length;g+=1)S(ae[g]);le=le.filter(Boolean);for(let g=0;g<le.length;g+=1)S(le[g]);ce=ce.filter(Boolean);for(let g=0;g<ce.length;g+=1)S(ce[g]);ue=ue.filter(Boolean);for(let g=0;g<ue.length;g+=1)S(ue[g]);fe=fe.filter(Boolean);for(let g=0;g<fe.length;g+=1)S(fe[g]);Je||(Je=Vi(e,Pn,{},!1)),Je.run(0),Ce=!1},d(f){f&&H(e),De(Be,f),De(Se,f),De(Oe,f),De(Le,f),De(se,f),De(re,f),De(oe,f),De(ae,f),De(le,f),De(ce,f),De(ue,f),De(fe,f),f&&Je&&Je.end()}}}function vs(t){let e,n;return e=new We({props:{faceUp:t[11]("p1")||t[3],displayTitle:t[9][t[56]].displayTitle,title:t[9][t[56]].title,img:t[9][t[56]].image,trait:t[9][t[56]].trait,traitTitle:t[9][t[56]].traitTitle,description:t[9][t[56]].description,race:t[9][t[56]].race,rarity:t[9][t[56]].rarity,points:t[9][t[56]].points}}),e.$on("cardClick",t[16]),{c(){pe(e.$$.fragment)},m(i,s){he(e,i,s),n=!0},p(i,s){const r={};s[0]&8&&(r.faceUp=i[11]("p1")||i[3]),s[0]&768&&(r.displayTitle=i[9][i[56]].displayTitle),s[0]&768&&(r.title=i[9][i[56]].title),s[0]&768&&(r.img=i[9][i[56]].image),s[0]&768&&(r.trait=i[9][i[56]].trait),s[0]&768&&(r.traitTitle=i[9][i[56]].traitTitle),s[0]&768&&(r.description=i[9][i[56]].description),s[0]&768&&(r.race=i[9][i[56]].race),s[0]&768&&(r.rarity=i[9][i[56]].rarity),s[0]&768&&(r.points=i[9][i[56]].points),e.$set(r)},i(i){n||(E(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function ks(t){let e,n;return e=new We({props:{faceUp:t[11]("p2")||t[3],displayTitle:t[9][t[56]].displayTitle,title:t[9][t[56]].title,img:t[9][t[56]].image,trait:t[9][t[56]].trait,traitTitle:t[9][t[56]].traitTitle,description:t[9][t[56]].description,race:t[9][t[56]].race,rarity:t[9][t[56]].rarity,points:t[9][t[56]].points}}),e.$on("cardClick",t[17]),{c(){pe(e.$$.fragment)},m(i,s){he(e,i,s),n=!0},p(i,s){const r={};s[0]&8&&(r.faceUp=i[11]("p2")||i[3]),s[0]&640&&(r.displayTitle=i[9][i[56]].displayTitle),s[0]&640&&(r.title=i[9][i[56]].title),s[0]&640&&(r.img=i[9][i[56]].image),s[0]&640&&(r.trait=i[9][i[56]].trait),s[0]&640&&(r.traitTitle=i[9][i[56]].traitTitle),s[0]&640&&(r.description=i[9][i[56]].description),s[0]&640&&(r.race=i[9][i[56]].race),s[0]&640&&(r.rarity=i[9][i[56]].rarity),s[0]&640&&(r.points=i[9][i[56]].points),e.$set(r)},i(i){n||(E(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function wa(t){let e,n;return e=new Bn({props:{round:!0,customClasses:"btn__orange",$$slots:{default:[ka]},$$scope:{ctx:t}}}),e.$on("click",t[14]),{c(){pe(e.$$.fragment)},m(i,s){he(e,i,s),n=!0},p(i,s){const r={};s[2]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(E(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function va(t){let e,n;return e=new Bn({props:{round:!0,customClasses:"btn__orange_disabled",$$slots:{default:[Ta]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,s){he(e,i,s),n=!0},p(i,s){const r={};s[2]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(E(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}function ka(t){let e;return{c(){e=D("Gobbledegook!")},m(n,i){z(n,e,i)},d(n){n&&H(e)}}}function Ta(t){let e;return{c(){e=D("Gobbledegook!")},m(n,i){z(n,e,i)},d(n){n&&H(e)}}}function Ts(t){let e,n=t[8].turn?"Player 1":"Player 2",i,s;return{c(){e=T("p"),i=D(n),s=T("span"),s.textContent="'s turn",A(s,"class","svelte-e2gfep"),A(e,"class","turn-text svelte-e2gfep")},m(r,a){z(r,e,a),d(e,i),d(e,s)},p(r,a){a[0]&256&&n!==(n=r[8].turn?"Player 1":"Player 2")&&X(i,n)},d(r){r&&H(e)}}}function Cs(t){let e,n=t[76]+"",i,s;return{c(){e=T("span"),i=D(n),s=D("  ")},m(r,a){z(r,e,a),d(e,i),d(e,s)},p(r,a){a[0]&256&&n!==(n=r[76]+"")&&X(i,n)},d(r){r&&H(e)}}}function Es(t){let e,n=t[73]+"",i,s;return{c(){e=T("span"),i=D(n),s=D("  ")},m(r,a){z(r,e,a),d(e,i),d(e,s)},p(r,a){a[0]&256&&n!==(n=r[73]+"")&&X(i,n)},d(r){r&&H(e)}}}function As(t){let e,n=t[76]+"",i,s;return{c(){e=T("span"),i=D(n),s=D("  ")},m(r,a){z(r,e,a),d(e,i),d(e,s)},p(r,a){a[0]&128&&n!==(n=r[76]+"")&&X(i,n)},d(r){r&&H(e)}}}function Ps(t){let e,n=t[73]+"",i,s;return{c(){e=T("span"),i=D(n),s=D("  ")},m(r,a){z(r,e,a),d(e,i),d(e,s)},p(r,a){a[0]&128&&n!==(n=r[73]+"")&&X(i,n)},d(r){r&&H(e)}}}function Rs(t){let e,n,i;return n=new We({props:{displayTitle:t[9][t[56]].displayTitle,title:t[9][t[56]].title,img:t[9][t[56]].image,race:t[9][t[56]].race,rarity:t[9][t[56]].rarity,points:t[15](t[56],"p1")}}),{c(){e=T("div"),pe(n.$$.fragment),A(e,"class","history__card-wrapper svelte-e2gfep")},m(s,r){z(s,e,r),he(n,e,null),i=!0},p(s,r){const a={};r[0]&768&&(a.displayTitle=s[9][s[56]].displayTitle),r[0]&768&&(a.title=s[9][s[56]].title),r[0]&768&&(a.img=s[9][s[56]].image),r[0]&768&&(a.race=s[9][s[56]].race),r[0]&768&&(a.rarity=s[9][s[56]].rarity),r[0]&256&&(a.points=s[15](s[56],"p1")),n.$set(a)},i(s){i||(E(n.$$.fragment,s),i=!0)},o(s){S(n.$$.fragment,s),i=!1},d(s){s&&H(e),de(n)}}}function Bs(t){let e,n,i,s;return n=new We({props:{displayTitle:t[9][t[56]].displayTitle,title:t[9][t[56]].title,img:t[9][t[56]].image,race:t[9][t[56]].race,rarity:t[9][t[56]].rarity,points:t[15](t[56],"p1")}}),{c(){e=T("div"),pe(n.$$.fragment),i=O(),A(e,"class","history__card-wrapper svelte-e2gfep")},m(r,a){z(r,e,a),he(n,e,null),d(e,i),s=!0},p(r,a){const l={};a[0]&768&&(l.displayTitle=r[9][r[56]].displayTitle),a[0]&768&&(l.title=r[9][r[56]].title),a[0]&768&&(l.img=r[9][r[56]].image),a[0]&768&&(l.race=r[9][r[56]].race),a[0]&768&&(l.rarity=r[9][r[56]].rarity),a[0]&256&&(l.points=r[15](r[56],"p1")),n.$set(l)},i(r){s||(E(n.$$.fragment,r),s=!0)},o(r){S(n.$$.fragment,r),s=!1},d(r){r&&H(e),de(n)}}}function Ss(t){let e,n,i,s;return n=new We({props:{displayTitle:t[9][t[56]].displayTitle,title:t[9][t[56]].title,img:t[9][t[56]].image,race:t[9][t[56]].race,rarity:t[9][t[56]].rarity,points:t[15](t[56],"p1")}}),{c(){e=T("div"),pe(n.$$.fragment),i=O(),A(e,"class","history__card-wrapper svelte-e2gfep")},m(r,a){z(r,e,a),he(n,e,null),d(e,i),s=!0},p(r,a){const l={};a[0]&768&&(l.displayTitle=r[9][r[56]].displayTitle),a[0]&768&&(l.title=r[9][r[56]].title),a[0]&768&&(l.img=r[9][r[56]].image),a[0]&768&&(l.race=r[9][r[56]].race),a[0]&768&&(l.rarity=r[9][r[56]].rarity),a[0]&256&&(l.points=r[15](r[56],"p1")),n.$set(l)},i(r){s||(E(n.$$.fragment,r),s=!0)},o(r){S(n.$$.fragment,r),s=!1},d(r){r&&H(e),de(n)}}}function Os(t){let e,n,i,s;return n=new We({props:{displayTitle:t[9][t[56]].displayTitle,title:t[9][t[56]].title,img:t[9][t[56]].image,race:t[9][t[56]].race,rarity:t[9][t[56]].rarity,points:t[15](t[56],"p1")}}),{c(){e=T("div"),pe(n.$$.fragment),i=O(),A(e,"class","history__card-wrapper svelte-e2gfep")},m(r,a){z(r,e,a),he(n,e,null),d(e,i),s=!0},p(r,a){const l={};a[0]&768&&(l.displayTitle=r[9][r[56]].displayTitle),a[0]&768&&(l.title=r[9][r[56]].title),a[0]&768&&(l.img=r[9][r[56]].image),a[0]&768&&(l.race=r[9][r[56]].race),a[0]&768&&(l.rarity=r[9][r[56]].rarity),a[0]&256&&(l.points=r[15](r[56],"p1")),n.$set(l)},i(r){s||(E(n.$$.fragment,r),s=!0)},o(r){S(n.$$.fragment,r),s=!1},d(r){r&&H(e),de(n)}}}function Ls(t){let e,n,i;return n=new We({props:{displayTitle:t[9][t[56]].displayTitle,title:t[9][t[56]].title,img:t[9][t[56]].image,race:t[9][t[56]].race,rarity:t[9][t[56]].rarity,points:t[15](t[56],"p2")}}),{c(){e=T("div"),pe(n.$$.fragment),A(e,"class","history__card-wrapper svelte-e2gfep")},m(s,r){z(s,e,r),he(n,e,null),i=!0},p(s,r){const a={};r[0]&640&&(a.displayTitle=s[9][s[56]].displayTitle),r[0]&640&&(a.title=s[9][s[56]].title),r[0]&640&&(a.img=s[9][s[56]].image),r[0]&640&&(a.race=s[9][s[56]].race),r[0]&640&&(a.rarity=s[9][s[56]].rarity),r[0]&128&&(a.points=s[15](s[56],"p2")),n.$set(a)},i(s){i||(E(n.$$.fragment,s),i=!0)},o(s){S(n.$$.fragment,s),i=!1},d(s){s&&H(e),de(n)}}}function Ds(t){let e,n,i,s;return n=new We({props:{displayTitle:t[9][t[56]].displayTitle,title:t[9][t[56]].title,img:t[9][t[56]].image,race:t[9][t[56]].race,rarity:t[9][t[56]].rarity,points:t[15](t[56],"p2")}}),{c(){e=T("div"),pe(n.$$.fragment),i=O(),A(e,"class","history__card-wrapper svelte-e2gfep")},m(r,a){z(r,e,a),he(n,e,null),d(e,i),s=!0},p(r,a){const l={};a[0]&640&&(l.displayTitle=r[9][r[56]].displayTitle),a[0]&640&&(l.title=r[9][r[56]].title),a[0]&640&&(l.img=r[9][r[56]].image),a[0]&640&&(l.race=r[9][r[56]].race),a[0]&640&&(l.rarity=r[9][r[56]].rarity),a[0]&128&&(l.points=r[15](r[56],"p2")),n.$set(l)},i(r){s||(E(n.$$.fragment,r),s=!0)},o(r){S(n.$$.fragment,r),s=!1},d(r){r&&H(e),de(n)}}}function Ns(t){let e,n,i,s;return n=new We({props:{displayTitle:t[9][t[56]].displayTitle,title:t[9][t[56]].title,img:t[9][t[56]].image,race:t[9][t[56]].race,rarity:t[9][t[56]].rarity,points:t[15](t[56],"p2")}}),{c(){e=T("div"),pe(n.$$.fragment),i=O(),A(e,"class","history__card-wrapper svelte-e2gfep")},m(r,a){z(r,e,a),he(n,e,null),d(e,i),s=!0},p(r,a){const l={};a[0]&640&&(l.displayTitle=r[9][r[56]].displayTitle),a[0]&640&&(l.title=r[9][r[56]].title),a[0]&640&&(l.img=r[9][r[56]].image),a[0]&640&&(l.race=r[9][r[56]].race),a[0]&640&&(l.rarity=r[9][r[56]].rarity),a[0]&128&&(l.points=r[15](r[56],"p2")),n.$set(l)},i(r){s||(E(n.$$.fragment,r),s=!0)},o(r){S(n.$$.fragment,r),s=!1},d(r){r&&H(e),de(n)}}}function Is(t){let e,n,i,s;return n=new We({props:{displayTitle:t[9][t[56]].displayTitle,title:t[9][t[56]].title,img:t[9][t[56]].image,race:t[9][t[56]].race,rarity:t[9][t[56]].rarity,points:t[15](t[56],"p2")}}),{c(){e=T("div"),pe(n.$$.fragment),i=O(),A(e,"class","history__card-wrapper svelte-e2gfep")},m(r,a){z(r,e,a),he(n,e,null),d(e,i),s=!0},p(r,a){const l={};a[0]&640&&(l.displayTitle=r[9][r[56]].displayTitle),a[0]&640&&(l.title=r[9][r[56]].title),a[0]&640&&(l.img=r[9][r[56]].image),a[0]&640&&(l.race=r[9][r[56]].race),a[0]&640&&(l.rarity=r[9][r[56]].rarity),a[0]&128&&(l.points=r[15](r[56],"p2")),n.$set(l)},i(r){s||(E(n.$$.fragment,r),s=!0)},o(r){S(n.$$.fragment,r),s=!1},d(r){r&&H(e),de(n)}}}function Ca(t){let e,n,i,s,r,a,l;const u=[ga,pa],h=[];function m(_,b){return _[2]?1:0}n=m(t),i=h[n]=u[n](t);const k=[ya,_a],y=[];function P(_,b){return _[4]?0:1}return r=P(t),a=y[r]=k[r](t),{c(){e=T("main"),i.c(),s=O(),a.c()},m(_,b){z(_,e,b),h[n].m(e,null),d(e,s),y[r].m(e,null),l=!0},p(_,b){let w=n;n=m(_),n===w?h[n].p(_,b):(we(),S(h[w],1,1,()=>{h[w]=null}),ve(),i=h[n],i?i.p(_,b):(i=h[n]=u[n](_),i.c()),E(i,1),i.m(e,s));let N=r;r=P(_),r===N?y[r].p(_,b):(we(),S(y[N],1,1,()=>{y[N]=null}),ve(),a=y[r],a?a.p(_,b):(a=y[r]=k[r](_),a.c()),E(a,1),a.m(e,null))},i(_){l||(E(i),E(a),l=!0)},o(_){S(i),S(a),l=!1},d(_){_&&H(e),h[n].d(),y[r].d()}}}function Ea(t,e){let n=t.hand.filter(s=>s==="ai").length,i=t.hand.filter(s=>s==="virus").length;t.hand.includes("crusher541A57")&&(n+=e.hand.filter(s=>s==="ai").length,i+=e.hand.filter(s=>s==="virus").length),t.hand.forEach(s=>{s==="virus"&&(t.points.bots+=8),s==="ai"&&(t.points.bots+=n*i)}),t.hand.includes("crusher541A57")&&e.hand.forEach(s=>{s==="virus"&&(t.points.bots+=8),s==="ai"&&(t.points.bots+=n*i)})}function Aa(t,e,n){let i,s,r,a,l,u,h,m,k,y,P,_;Ae(t,x,o=>n(7,i=o)),Ae(t,Z,o=>n(8,s=o)),Ae(t,Wt,o=>n(9,r=o)),Ae(t,lo,o=>n(20,a=o)),Ae(t,go,o=>n(21,l=o)),Ae(t,po,o=>n(22,u=o)),Ae(t,ho,o=>n(23,h=o)),Ae(t,oo,o=>n(24,m=o)),Ae(t,ao,o=>n(25,k=o)),Ae(t,co,o=>n(26,y=o)),Ae(t,uo,o=>n(27,P=o)),Ae(t,fo,o=>n(28,_=o));let b=vn("http://192.168.2.10:6912"),w=!1,N=!1,K=!1,U=!0,G="",J="",L=0,C={beasts:[...m],bots:[...k],dwarves:[...a],elves:[...y],goblins:[...P],humans:[..._],xenos:[...h],boosts:[...u],traps:[...l]},I=Object.keys(C);js(()=>{b.on("connect",()=>console.log(`User ID: ${b.id} connected!`)),b.on("connect_error",o=>console.error("Connection error:",o)),b.on("set-users",o=>{Object.entries(o).forEach(([p,R])=>{Z.update(q=>(q.id=o.p1,q)),x.update(q=>(q.id=o.p2,q))})}),b.on("game-started",o=>{Ee(),Z.set(o.player1),x.set(o.player2),C={...o.fullDeck}}),b.on("add-turn-count",()=>n(6,L++,L)),b.on("turn-changed",o=>{Z.update(p=>(p.turn=!o.player1.turn,p)),x.update(p=>(p.turn=!o.player2.turn,p))}),b.on("card-drawn",o=>{C={...o.fullDeck},I=o.deckTypes,Z.set(o.player1),x.set(o.player2)}),b.on("card-discarded",o=>{Z.set(o.player1),x.set(o.player2)}),b.on("gdg-declared",()=>n(0,w=!0)),b.on("xeno-points-update-started",o=>{v()==="p1"?x.update(p=>(p.warpStalkerPointValue=o.warpStalkerPointValue,p.voidRunnerPointValue=o.voidRunnerPointValue,p)):Z.update(p=>(p.warpStalkerPointValue=o.warpStalkerPointValue,p.voidRunnerPointValue=o.voidRunnerPointValue,p)),b.emit("finish-xeno-points-update",v()==="p1"?s:i)}),b.on("xeno-points-update-started",o=>{v()==="p1"?x.update(p=>(p.warpStalkerPointValue=o.warpStalkerPointValue,p.voidRunnerPointValue=o.voidRunnerPointValue,p)):Z.update(p=>(p.warpStalkerPointValue=o.warpStalkerPointValue,p.voidRunnerPointValue=o.voidRunnerPointValue,p))}),b.on("update-final-points",o=>{v()==="p1"&&x.set(o.player2),v()==="p2"&&Z.set(o.player1)}),b.on("game-ended",o=>ge()),b.emit("client-ready")});function ge(){n(3,U=!0),n(2,K=!1),n(1,N=!0),Z.update(o=>(o.turn=!1,o)),x.update(o=>(o.turn=!1,o)),Lt(s,i),Lt(i,s),b.emit("update-final-points",{player1:s,player2:i}),$(),Ne(),Ne(!0)}function Ee(){Z.update(o=>(o.highestPoints=0,o.points.beasts=0,o.points.bots=0,o.points.dwarves=0,o.points.elves=0,o.points.goblins=0,o.points.humans=0,o.points.xenos=0,o.discards=[],o.justWon=!1,o.boosts=[],o.traps=[],o.chargeDrawnTurns=[],o.infectDrawnTurns=[],o.chargePoints=0,o.infectPoints=0,o.warpStalkerPointValue=0,o.voidRunnerPointValue=0,o)),x.update(o=>(o.highestPoints=0,o.points.beasts=0,o.points.bots=0,o.points.dwarves=0,o.points.elves=0,o.points.goblins=0,o.points.humans=0,o.points.xenos=0,o.discards=[],o.justWon=!1,o.boosts=[],o.traps=[],o.chargeDrawnTurns=[],o.infectDrawnTurns=[],o.chargePoints=0,o.infectPoints=0,o.warpStalkerPointValue=0,o.voidRunnerPointValue=0,o)),C.humans=[..._],C.goblins=[...P],C.elves=[...y],C.dwarves=[...a],C.bots=[...k],C.beasts=[...m],C.xenos=[...h],C.boosts=[...u],C.traps=[...l],Q(Wt,r.warpstalker.points=0,r),Q(Wt,r.voidRunner.points=0,r),n(6,L=0),n(3,U=!1),n(2,K=!0),n(0,w=!1),n(1,N=!1),n(4,G="")}function ee(){Ee(),Re(s.hand),Re(i.hand),ke(),b.emit("start-game",{player1:s,player2:i,fullDeck:C})}function ke(){Math.ceil(Math.random()*2)===1?(Q(Z,s.playedFirst=!0,s),Q(Z,s.turn=!0,s),Q(x,i.turn=!1,i)):(Q(x,i.playedFirst=!0,i),Q(Z,s.turn=!1,s),Q(x,i.turn=!0,i))}function M(){(s.playedFirst&&s.turn||i.playedFirst&&i.turn)&&b.emit("new-turn")}function Ne(o=!1){const p=C.beasts.length||0,R=C.bots.length||0,q=C.dwarves.length||0,ne=C.elves.length||0,ye=C.goblins.length||0,ie=C.humans.length||0,xe=C.xenos.length||0,pt=C.boosts.length||0,$t=C.traps.length||0;if(o)console.log(`Cards remaining per deck:

      Humans: ${ie}

      Goblins: ${ye}

      Elves: ${ne}

      Dwarves: ${q}
)
      Bots: ${R}
)
      Xenos: ${xe}
)
      Boosts: ${pt}
)
      Traps: ${$t}
)
      Beasts: ${p}
`);else{const gt=ie+ye+ne+q+R+p+xe+pt+$t;console.log(`Cards remaining in deck: ${gt}`)}}function me(){return!!(s.id===b.id&&s.turn||i.id===b.id&&i.turn)}function v(){return s.id===b.id?"p1":i.id===b.id?"p2":"guest"}function j(o){return!!(U||v()==="guest"||v()==="p1"&&o==="p1"||v()==="p2"&&o==="p2")}function te(){b.emit("change-turns",{player1:s,player2:i})}function Re(o){for(let p=1;p<=5;p++){let R=Math.floor(Math.random()*I.length),q=I[R];R=Math.floor(Math.random()*C[q].length);const ne=C[q][R],ye=C[q].indexOf(ne);C[q].splice(ye,1),o.push(ne)}s.hand===o?Z.update(p=>(p.hand=o,p.startingHand=o,p)):x.update(p=>(p.hand=o,p.startingHand=o,p))}function je(o,p=!0){if(U)return;p&&M();let R="",q="",ne=0;if(n(1,N=!0),o.hand.length>5)return;if(o.dwarfNextTurn?(o.dwarfNextTurn=!1,C.dwarves.length!==0?R="dwarves":(ne=Math.floor(Math.random()*I.length),R=I[ne])):(ne=Math.floor(Math.random()*I.length),R=I[ne]),I.length===0&&R===void 0){console.log("No more cards!"),b.emit("start-xeno-points-update",v()==="p1"?s:i),b.emit("end-game");return}if(o.goblinLordMarked)o.goblinLordMarked=!1,C.goblins.length===0?R=I[ne]:R="goblins",C.goblins.includes("goblinLord")?q=C.goblins.find(ie=>ie==="goblinLord"):(ne=Math.floor(Math.random()*C[R].length),q=C[R][ne]);else{if(ne=Math.floor(Math.random()*C[R].length),q=C[R][ne],q==="lost"&&o.hand.includes("chastity")){const ie=C[R].indexOf(q);if(C[R].splice(ie,1),C[R].length===0){const xe=I.indexOf(R);I.splice(xe,1)}je(o,!1);return}(q==="longbeardLeader"||q==="dwarfCommander"||q==="dwarvenCall"&&!o.hasCorruption)&&(o.dwarfNextTurn=!0),q==="goblinLordsMark"&&(o.goblinLordMarked=!0),(q==="warpstalker"||q==="voidRunner")&&Mt(o,q),r[q].race==="trap"&&Vt(o,q),r[q].race==="boost"&&qt(o,q)}const ye=C[R].indexOf(q);if(C[R].splice(ye,1),C[R].length===0){const ie=I.indexOf(R);I.splice(ie,1)}o.title==="Player 1"?Z.update(ie=>(ie.hand=[...ie.hand,q],ie.cardsDrawn=[...o.cardsDrawn,q],ie)):x.update(ie=>(ie.hand=[...ie.hand,q],ie.cardsDrawn=[...o.cardsDrawn,q],ie)),b.emit("draw-card",{player1:s,player2:i,deckTypes:I,fullDeck:C})}function _e(){U||v()!=="guest"&&(me()&&s.turn&&je(s),me()&&i.turn&&je(i))}function B(o){if(me()){if(me()&&s.turn){const p=s.hand.indexOf(o);Z.update(R=>(R.hand.splice(p,1),R.discards=[...R.discards,o],R))}if(me()&&i.turn){const p=i.hand.indexOf(o);x.update(R=>(R.hand.splice(p,1),R.discards=[...R.discards,o],R))}b.emit("discard-card",{player1:s,player2:i}),w?(b.emit("start-xeno-points-update",v()==="p1"?s:i),b.emit("end-game")):(te(),n(1,N=!1))}}function V(o,p){let R=o.detail.title;p.length>5&&B(R)}function Te(){me()&&(U||(w?(b.emit("start-xeno-points-update",v()==="p1"?s:i),b.emit("end-game")):(console.log("Gobbledegook declared!!"),te(),n(0,w=!0),b.emit("gdg-declared"))))}function $(){s.highestPoints>i.highestPoints?(Q(Z,s.justWon=!0,s),Q(Z,s.wins+=1,s),Q(x,i.losses+=1,i),n(4,G=`Player 1 is the winner with ${s.highestPoints} points!🎊🥳🍾`),n(5,J=`Player 2 loses with ${i.highestPoints} points...${i.highestPoints<=0?"💩💩💩":"💩"}`)):i.highestPoints>s.highestPoints?(Q(x,i.justWon=!0,i),Q(x,i.wins+=1,i),Q(Z,s.losses+=1,s),n(4,G=`Player 2 is the winner with ${i.highestPoints} points!🎊🥳🍾`),n(5,J=`Player 1 loses with ${s.highestPoints} points...${s.highestPoints<=0?"💩💩💩":"💩"}`)):s.highestPoints===5e5&&i.highestPoints===5e5?(Q(Z,s.justWon=!0,s),Q(x,i.justWon=!0,i),Q(x,i.draws+=1,i),Q(Z,s.draws+=1,s),n(4,G="It seems neither the goblins nor the elves want to go to war with each other while their leaders are on the field..."),n(5,J=" it's a draw!😓😓😓")):(Q(Z,s.justWon=!0,s),Q(x,i.justWon=!0,i),Q(x,i.draws+=1,i),Q(Z,s.draws+=1,s),n(4,G=`Player 1 had ${s.highestPoints} points and player 2 had ${i.highestPoints} points...`),n(5,J=" it's a draw!😓"))}function $e(o){o.hand.forEach(p=>{switch(r[p].race){case"beast":o.points.beasts+=r[p].points;break;case"bot":r[p].title==="faeBot"&&(o.points.elves+=r[p].points),o.points.bots+=r[p].points;break;case"elf":o.points.elves+=r[p].points;break;case"dwarf":r[p].title==="hobbit"&&(o.points.humans+=r[p].points),o.points.dwarves+=r[p].points;break;case"goblin":o.points.goblins+=r[p].points;break;case"human":o.points.humans+=r[p].points;break;case"xeno":o.points.xenos+=r[p].points;break;default:console.log("Didn't match a race???")}o.highestPoints=Math.max(o.points.beasts,o.points.bots,o.points.dwarves,o.points.elves,o.points.goblins,o.points.humans,o.points.xenos)})}function Lt(o,p){$e(o),p.hand.includes("crusher541A57")&&(o.points.bots=0),o.hand.includes("commander")&&Zt(o),o.hand.includes("emperor")&&He(o),o.hand.includes("goblinLord")&&ft(o,p),o.hand.includes("elfKing")&&Dt(o,p),o.hand.includes("dreamDestroyer")&&Nt(o),o.hand.includes("dreamDestroyer")&&Nt(o),o.hand.includes("crusher541A57")&&ht(o,p),o.hand.includes("ai")&&Ea(o,p),o.hand.includes("longbeardLeader")&&It(o),o.hand.includes("nelladan")&&o.hand.includes("nadallen")&&(o.points.elves+=10),o.hand.includes("nebulite")&&Mt(o,"nebulite"),o.highestPoints=Math.max(o.points.beasts,o.points.bots,o.points.dwarves,o.points.elves,o.points.goblins,o.points.humans,o.points.xenos),xt(o),en(o),console.log({player:o.title,highestPoints:o.highestPoints,beastPoints:o.points.beasts,botPoints:o.points.bots,dwarfPoints:o.points.dwarves,elfPoints:o.points.elves,goblinPoints:o.points.goblins,humanPoints:o.points.humans,xenoPoints:o.points.xenos})}function He(o){o.points.humans*=2,o.hand.forEach(p=>{r[p].race!=="human"&&r[p].race!=="xeno"&&r[p].title!=="hobbit"&&(o.points.humans+=r[p].points)})}function Zt(o){let p=o.hand.filter(R=>R==="commander").length;o.hand.forEach(R=>{(r[R].race==="human"||r[R].title==="hobbit")&&(o.points.humans+=p)})}function ft(o,p){const R=o.hand.every(ye=>r[ye].race==="goblin");console.log(`from inside calculateGoblinLord, goblinHand = ${R}`);const q=p.hand.every(ye=>r[ye].race==="elf"),ne=p.hand.includes("elfKing");R&&q&&ne?o.points.goblins=5e5:R&&(o.points.goblins=1e6)}function Dt(o,p){const R=p.hand.every(ye=>r[ye].race==="goblin"),q=o.hand.every(ye=>r[ye].race==="elf"||r[ye].title==="faeBot"),ne=p.hand.includes("goblinLord");R&&ne&&q?o.points.elves=5e5:q?o.points.elves*=3:o.points.elves*=2}function Nt(o){o.points.beasts=0,o.hand.forEach(p=>{r[p].race==="beast"&&(o.points.beasts+=12)})}function ht(o,p){o.points.bots=0,p.points.bots=0,o.hand.forEach(R=>{r[R].race==="bot"&&(o.points.bots+=r[R].points+2)}),p.hand.forEach(R=>{r[R].race==="bot"&&(o.points.bots+=r[R].points+2)})}function It(o){let p=0;s.discards.forEach(R=>{a.includes(R)&&(p+=1)}),i.discards.forEach(R=>{a.includes(R)&&(p+=1)}),C.dwarves?p>=C.dwarves.length?o.points.dwarves+=50:o.points.dwarves+=0:o.points.dwarves+=50}function Mt(o,p){p==="warpstalker"&&(Q(Wt,r[p].points=Math.ceil(Math.random()*7)+6,r),o.warpStalkerPointValue=r[p].points),p==="voidRunner"&&(Q(Wt,r[p].points=L,r),o.voidRunnerPointValue=r[p].points),p==="nebulite"&&o.hand.forEach(R=>{r[R].race==="xeno"&&r[R].title!=="nebulite"&&(o.points.xenos+=4)})}function dt(o,p){if(!["warpstalker","voidRunner"].includes(o))return r[o].points;if(p==="p1"){if(o==="warpstalker")return s.warpStalkerPointValue;if(o==="voidRunner")return s.voidRunnerPointValue}else if(p==="p2"){if(o==="warpstalker")return i.warpStalkerPointValue;if(o==="voidRunner")return i.voidRunnerPointValue}}function qt(o,p){o.boosts=[p,...o.boosts],p==="charge"&&(o.chargeDrawnTurns=[...o.chargeDrawnTurns,L])}function xt(o){if(!(o.hand.includes("xenoguard")||o.hand.includes("corruption")||o.discards.includes("corruption"))){for(let p=0;p<o.chargeDrawnTurns.length;p++)o.chargePoints+=L-o.chargeDrawnTurns[p];o.points.bots+=o.chargePoints,o.points.humans+=o.chargePoints,o.points.bots>o.highestPoints&&(o.highestPoints=o.points.bots),o.points.humans>o.highestPoints&&(o.highestPoints=o.points.humans),o.boosts.forEach(p=>{p==="rejuvenate"&&(o.highestPoints+=10)})}}function Vt(o,p){o.traps=[p,...o.traps],p==="infect"&&(o.infectDrawnTurns=[...o.infectDrawnTurns,L])}function en(o){if(!(o.hand.includes("rhino")||o.hand.includes("chastity")||o.discards.includes("chastity"))){for(let p=0;p<o.infectDrawnTurns.length;p++)o.infectPoints+=L-o.infectDrawnTurns[p];o.points.bots!==o.highestPoints&&(o.highestPoints-=o.infectPoints),o.traps.forEach(p=>{p==="sap"&&(o.highestPoints-=10),p==="dissociation"&&(o.points.xenos-=10),p==="dissociation"&&o.points.xenos===o.highestPoints&&(o.highestPoints-=10)})}}return[w,N,K,U,G,J,L,i,s,r,ee,j,_e,V,Te,dt,o=>V(o,s.hand),o=>V(o,i.hand)]}class Pa extends ut{constructor(e){super(),ct(this,e,Aa,Ca,Ze,{},null,[-1,-1,-1])}}function Ra(t){let e,n,i;return n=new Pa({}),{c(){e=T("main"),pe(n.$$.fragment),A(e,"class","svelte-jszidx")},m(s,r){z(s,e,r),he(n,e,null),i=!0},p:Y,i(s){i||(E(n.$$.fragment,s),i=!0)},o(s){S(n.$$.fragment,s),i=!1},d(s){s&&H(e),de(n)}}}class Ms extends ut{constructor(e){super(),ct(this,e,null,Ra,Ze,{})}}function Ba(t){let e,n,i,s;return e=new Gi({props:{path:"/home",component:Ms}}),i=new Gi({props:{path:"/",component:Ms}}),{c(){pe(e.$$.fragment),n=O(),pe(i.$$.fragment)},m(r,a){he(e,r,a),z(r,n,a),he(i,r,a),s=!0},p:Y,i(r){s||(E(e.$$.fragment,r),E(i.$$.fragment,r),s=!0)},o(r){S(e.$$.fragment,r),S(i.$$.fragment,r),s=!1},d(r){de(e,r),r&&H(n),de(i,r)}}}function Sa(t){let e,n;return e=new so({props:{$$slots:{default:[Ba]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,s){he(e,i,s),n=!0},p(i,[s]){const r={};s&1&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){n||(E(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){de(e,i)}}}class Oa extends ut{constructor(e){super(),ct(this,e,null,Sa,Ze,{})}}new Oa({target:document.getElementById("app")});
