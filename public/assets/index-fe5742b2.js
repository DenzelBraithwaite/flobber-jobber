(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function K(){}function Se(n,e){for(const t in e)n[t]=e[t];return n}function ni(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Nn(n){return n()}function Kt(){return Object.create(null)}function Ve(n){n.forEach(Nn)}function qt(n){return typeof n=="function"}function ve(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let nt;function jt(n,e){return nt||(nt=document.createElement("a")),nt.href=e,n===nt.href}function ii(n){return Object.keys(n).length===0}function Dn(n,...e){if(n==null)return K;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function se(n,e,t){n.$$.on_destroy.push(Dn(e,t))}function Le(n,e,t,i){if(n){const s=qn(n,e,t,i);return n[0](s)}}function qn(n,e,t,i){return n[1]&&i?Se(t.ctx.slice(),n[1](i(e))):t.ctx}function Ne(n,e,t,i){if(n[2]&&i){const s=n[2](i(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],a=Math.max(e.dirty.length,s.length);for(let l=0;l<a;l+=1)r[l]=e.dirty[l]|s[l];return r}return e.dirty|s}return e.dirty}function De(n,e,t,i,s,r){if(s){const a=qn(e,t,i,r);n.p(a,s)}}function qe(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function At(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function Gt(n,e){const t={};e=new Set(e);for(const i in n)!e.has(i)&&i[0]!=="$"&&(t[i]=n[i]);return t}function F(n,e,t){return n.set(t),e}function w(n,e){n.appendChild(e)}function H(n,e,t){n.insertBefore(e,t||null)}function U(n){n.parentNode&&n.parentNode.removeChild(n)}function ft(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function N(n){return document.createElement(n)}function z(n){return document.createTextNode(n)}function G(){return z(" ")}function ze(){return z("")}function Ae(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function B(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const si=["width","height"];function Yt(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&si.indexOf(i)===-1?n[i]=e[i]:B(n,i,e[i])}function ri(n){return Array.from(n.childNodes)}function ae(n,e){e=""+e,n.data!==e&&(n.data=e)}function oi(n,e,{bubbles:t=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(n,t,i,e),s}function Jt(n,e){return new n(e)}let Qe;function ke(n){Qe=n}function Ke(){if(!Qe)throw new Error("Function called outside component initialization");return Qe}function In(n){Ke().$$.on_mount.push(n)}function ai(n){Ke().$$.on_destroy.push(n)}function Mn(){const n=Ke();return(e,t,{cancelable:i=!1}={})=>{const s=n.$$.callbacks[e];if(s){const r=oi(e,t,{cancelable:i});return s.slice().forEach(a=>{a.call(n,r)}),!r.defaultPrevented}return!0}}function bt(n,e){return Ke().$$.context.set(n,e),e}function He(n){return Ke().$$.context.get(n)}function Je(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const Ue=[],Xt=[];let Fe=[];const Qt=[],li=Promise.resolve();let Ct=!1;function ci(){Ct||(Ct=!0,li.then(It))}function Bt(n){Fe.push(n)}const _t=new Set;let Ie=0;function It(){if(Ie!==0)return;const n=Qe;do{try{for(;Ie<Ue.length;){const e=Ue[Ie];Ie++,ke(e),ui(e.$$)}}catch(e){throw Ue.length=0,Ie=0,e}for(ke(null),Ue.length=0,Ie=0;Xt.length;)Xt.pop()();for(let e=0;e<Fe.length;e+=1){const t=Fe[e];_t.has(t)||(_t.add(t),t())}Fe.length=0}while(Ue.length);for(;Qt.length;)Qt.pop()();Ct=!1,_t.clear(),ke(n)}function ui(n){if(n.fragment!==null){n.update(),Ve(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Bt)}}function fi(n){const e=[],t=[];Fe.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Fe=e}const at=new Set;let Re;function fe(){Re={r:0,c:[],p:Re}}function he(){Re.r||Ve(Re.c),Re=Re.p}function E(n,e){n&&n.i&&(at.delete(n),n.i(e))}function R(n,e,t,i){if(n&&n.o){if(at.has(n))return;at.add(n),Re.c.push(()=>{at.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}function Zt(n,e){const t=e.token={};function i(s,r,a,l){if(e.token!==t)return;e.resolved=l;let o=e.ctx;a!==void 0&&(o=o.slice(),o[a]=l);const c=s&&(e.current=s)(o);let d=!1;e.block&&(e.blocks?e.blocks.forEach((k,T)=>{T!==r&&k&&(fe(),R(k,1,1,()=>{e.blocks[T]===k&&(e.blocks[T]=null)}),he())}):e.block.d(1),c.c(),E(c,1),c.m(e.mount(),e.anchor),d=!0),e.block=c,e.blocks&&(e.blocks[r]=c),d&&It()}if(ni(n)){const s=Ke();if(n.then(r=>{ke(s),i(e.then,1,e.value,r),ke(null)},r=>{if(ke(s),i(e.catch,2,e.error,r),ke(null),!e.hasCatch)throw r}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,n),!0;e.resolved=n}}function hi(n,e,t){const i=e.slice(),{resolved:s}=n;n.current===n.then&&(i[n.value]=s),n.current===n.catch&&(i[n.error]=s),n.block.p(i,t)}function Un(n,e){const t={},i={},s={$$scope:1};let r=n.length;for(;r--;){const a=n[r],l=e[r];if(l){for(const o in a)o in l||(i[o]=1);for(const o in l)s[o]||(t[o]=l[o],s[o]=1);n[r]=l}else for(const o in a)s[o]=1}for(const a in i)a in t||(t[a]=void 0);return t}function $t(n){return typeof n=="object"&&n!==null?n:{}}function re(n){n&&n.c()}function ne(n,e,t,i){const{fragment:s,after_update:r}=n.$$;s&&s.m(e,t),i||Bt(()=>{const a=n.$$.on_mount.map(Nn).filter(qt);n.$$.on_destroy?n.$$.on_destroy.push(...a):Ve(a),n.$$.on_mount=[]}),r.forEach(Bt)}function ie(n,e){const t=n.$$;t.fragment!==null&&(fi(t.after_update),Ve(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function di(n,e){n.$$.dirty[0]===-1&&(Ue.push(n),ci(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Ce(n,e,t,i,s,r,a,l=[-1]){const o=Qe;ke(n);const c=n.$$={fragment:null,ctx:[],props:r,update:K,not_equal:s,bound:Kt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Kt(),dirty:l,skip_bound:!1,root:e.target||o.$$.root};a&&a(c.root);let d=!1;if(c.ctx=t?t(n,e.props||{},(k,T,...O)=>{const v=O.length?O[0]:T;return c.ctx&&s(c.ctx[k],c.ctx[k]=v)&&(!c.skip_bound&&c.bound[k]&&c.bound[k](v),d&&di(n,k)),T}):[],c.update(),d=!0,Ve(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const k=ri(e.target);c.fragment&&c.fragment.l(k),k.forEach(U)}else c.fragment&&c.fragment.c();e.intro&&E(n.$$.fragment),ne(n,e.target,e.anchor,e.customElement),It()}ke(o)}class Be{$destroy(){ie(this,1),this.$destroy=K}$on(e,t){if(!qt(t))return K;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!ii(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ot={},ht={},Wn={},Hn=/^:(.+)/,xt=4,pi=3,mi=2,gi=1,bi=1,Ze=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),yt=n=>n.replace(/(^\/+|\/+$)/g,""),_i=(n,e)=>{const t=n.default?0:Ze(n.path).reduce((i,s)=>(i+=xt,s===""?i+=bi:Hn.test(s)?i+=mi:s[0]==="*"?i-=xt+gi:i+=pi,i),0);return{route:n,score:t,index:e}},yi=n=>n.map(_i).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index),en=(n,e)=>{let t,i;const[s]=e.split("?"),r=Ze(s),a=r[0]==="",l=yi(n);for(let o=0,c=l.length;o<c;o++){const d=l[o].route;let k=!1;if(d.default){i={route:d,params:{},uri:e};continue}const T=Ze(d.path),O={},v=Math.max(r.length,T.length);let y=0;for(;y<v;y++){const b=T[y],V=r[y];if(b&&b[0]==="*"){const S=b==="*"?"*":b.slice(1);O[S]=r.slice(y).map(decodeURIComponent).join("/");break}if(typeof V>"u"){k=!0;break}const A=Hn.exec(b);if(A&&!a){const S=decodeURIComponent(V);O[A[1]]=S}else if(b!==V){k=!0;break}}if(!k){t={route:d,params:O,uri:"/"+r.slice(0,y).join("/")};break}}return t||i||null},wt=(n,e)=>n+(e?`?${e}`:""),wi=(n,e)=>{if(n.startsWith("/"))return n;const[t,i]=n.split("?"),[s]=e.split("?"),r=Ze(t),a=Ze(s);if(r[0]==="")return wt(s,i);if(!r[0].startsWith(".")){const c=a.concat(r).join("/");return wt((s==="/"?"":"/")+c,i)}const l=a.concat(r),o=[];return l.forEach(c=>{c===".."?o.pop():c!=="."&&o.push(c)}),wt("/"+o.join("/"),i)},tn=(n,e)=>`${yt(e==="/"?n:`${yt(n)}/${yt(e)}`)}/`,ki=n=>!n.defaultPrevented&&n.button===0&&!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey),Fn=()=>typeof window<"u"&&"document"in window&&"location"in window,vi=n=>({active:n&4}),nn=n=>({active:!!n[2]});function Ti(n){let e,t,i,s;const r=n[16].default,a=Le(r,n,n[15],nn);let l=[{href:n[0]},{"aria-current":n[2]},n[1],n[6]],o={};for(let c=0;c<l.length;c+=1)o=Se(o,l[c]);return{c(){e=N("a"),a&&a.c(),Yt(e,o)},m(c,d){H(c,e,d),a&&a.m(e,null),t=!0,i||(s=Ae(e,"click",n[5]),i=!0)},p(c,[d]){a&&a.p&&(!t||d&32772)&&De(a,r,c,c[15],t?Ne(r,c[15],d,vi):qe(c[15]),nn),Yt(e,o=Un(l,[(!t||d&1)&&{href:c[0]},(!t||d&4)&&{"aria-current":c[2]},d&2&&c[1],d&64&&c[6]]))},i(c){t||(E(a,c),t=!0)},o(c){R(a,c),t=!1},d(c){c&&U(e),a&&a.d(c),i=!1,s()}}}function Ei(n,e,t){let i;const s=["to","replace","state","getProps"];let r=Gt(e,s),a,l,{$$slots:o={},$$scope:c}=e,{to:d="#"}=e,{replace:k=!1}=e,{state:T={}}=e,{getProps:O=()=>({})}=e;const v=He(Ot);se(n,v,P=>t(13,a=P));const{base:y}=He(ht);se(n,y,P=>t(14,l=P));const{navigate:b}=He(Wn),V=Mn();let A,S,D,m;const g=P=>{if(V("click",P),ki(P)){P.preventDefault();const W=a.pathname===A||k;b(A,{state:T,replace:W})}};return n.$$set=P=>{e=Se(Se({},e),At(P)),t(6,r=Gt(e,s)),"to"in P&&t(7,d=P.to),"replace"in P&&t(8,k=P.replace),"state"in P&&t(9,T=P.state),"getProps"in P&&t(10,O=P.getProps),"$$scope"in P&&t(15,c=P.$$scope)},n.$$.update=()=>{n.$$.dirty&16512&&t(0,A=d==="/"?l.uri:wi(d,l.uri)),n.$$.dirty&8193&&t(11,S=a.pathname.startsWith(A)),n.$$.dirty&8193&&t(12,D=A===a.pathname),n.$$.dirty&4096&&t(2,i=D?"page":void 0),t(1,m=O({location:a,href:A,isPartiallyCurrent:S,isCurrent:D,existingProps:r}))},[A,m,i,v,y,g,r,d,k,T,O,S,D,a,l,c,o]}class Ai extends Be{constructor(e){super(),Ce(this,e,Ei,Ti,ve,{to:7,replace:8,state:9,getProps:10})}}const Ci=n=>({params:n&4}),sn=n=>({params:n[2]});function rn(n){let e,t,i,s;const r=[Oi,Bi],a=[];function l(o,c){return o[0]?0:1}return e=l(n),t=a[e]=r[e](n),{c(){t.c(),i=ze()},m(o,c){a[e].m(o,c),H(o,i,c),s=!0},p(o,c){let d=e;e=l(o),e===d?a[e].p(o,c):(fe(),R(a[d],1,1,()=>{a[d]=null}),he(),t=a[e],t?t.p(o,c):(t=a[e]=r[e](o),t.c()),E(t,1),t.m(i.parentNode,i))},i(o){s||(E(t),s=!0)},o(o){R(t),s=!1},d(o){a[e].d(o),o&&U(i)}}}function Bi(n){let e;const t=n[8].default,i=Le(t,n,n[7],sn);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,r){i&&i.p&&(!e||r&132)&&De(i,t,s,s[7],e?Ne(t,s[7],r,Ci):qe(s[7]),sn)},i(s){e||(E(i,s),e=!0)},o(s){R(i,s),e=!1},d(s){i&&i.d(s)}}}function Oi(n){let e,t,i,s={ctx:n,current:null,token:null,hasCatch:!1,pending:Si,then:Ri,catch:Pi,value:12,blocks:[,,,]};return Zt(t=n[0],s),{c(){e=ze(),s.block.c()},m(r,a){H(r,e,a),s.block.m(r,s.anchor=a),s.mount=()=>e.parentNode,s.anchor=e,i=!0},p(r,a){n=r,s.ctx=n,a&1&&t!==(t=n[0])&&Zt(t,s)||hi(s,n,a)},i(r){i||(E(s.block),i=!0)},o(r){for(let a=0;a<3;a+=1){const l=s.blocks[a];R(l)}i=!1},d(r){r&&U(e),s.block.d(r),s.token=null,s=null}}}function Pi(n){return{c:K,m:K,p:K,i:K,o:K,d:K}}function Ri(n){var l;let e,t,i;const s=[n[2],n[3]];var r=((l=n[12])==null?void 0:l.default)||n[12];function a(o){let c={};for(let d=0;d<s.length;d+=1)c=Se(c,s[d]);return{props:c}}return r&&(e=Jt(r,a())),{c(){e&&re(e.$$.fragment),t=ze()},m(o,c){e&&ne(e,o,c),H(o,t,c),i=!0},p(o,c){var k;const d=c&12?Un(s,[c&4&&$t(o[2]),c&8&&$t(o[3])]):{};if(c&1&&r!==(r=((k=o[12])==null?void 0:k.default)||o[12])){if(e){fe();const T=e;R(T.$$.fragment,1,0,()=>{ie(T,1)}),he()}r?(e=Jt(r,a()),re(e.$$.fragment),E(e.$$.fragment,1),ne(e,t.parentNode,t)):e=null}else r&&e.$set(d)},i(o){i||(e&&E(e.$$.fragment,o),i=!0)},o(o){e&&R(e.$$.fragment,o),i=!1},d(o){o&&U(t),e&&ie(e,o)}}}function Si(n){return{c:K,m:K,p:K,i:K,o:K,d:K}}function Li(n){let e,t,i=n[1]&&n[1].route===n[5]&&rn(n);return{c(){i&&i.c(),e=ze()},m(s,r){i&&i.m(s,r),H(s,e,r),t=!0},p(s,[r]){s[1]&&s[1].route===s[5]?i?(i.p(s,r),r&2&&E(i,1)):(i=rn(s),i.c(),E(i,1),i.m(e.parentNode,e)):i&&(fe(),R(i,1,1,()=>{i=null}),he())},i(s){t||(E(i),t=!0)},o(s){R(i),t=!1},d(s){i&&i.d(s),s&&U(e)}}}function Ni(n,e,t){let i,{$$slots:s={},$$scope:r}=e,{path:a=""}=e,{component:l=null}=e,o={},c={};const{registerRoute:d,unregisterRoute:k,activeRoute:T}=He(ht);se(n,T,v=>t(1,i=v));const O={path:a,default:a===""};return d(O),ai(()=>{k(O)}),n.$$set=v=>{t(11,e=Se(Se({},e),At(v))),"path"in v&&t(6,a=v.path),"component"in v&&t(0,l=v.component),"$$scope"in v&&t(7,r=v.$$scope)},n.$$.update=()=>{if(i&&i.route===O){t(2,o=i.params);const{component:v,path:y,...b}=e;t(3,c=b),v&&(v.toString().startsWith("class ")?t(0,l=v):t(0,l=v())),Fn()&&(window==null||window.scrollTo(0,0))}},e=At(e),[l,i,o,c,T,O,a,r,s]}class on extends Be{constructor(e){super(),Ce(this,e,Ni,Li,ve,{path:6,component:0})}}const Me=[];function Di(n,e){return{subscribe:ue(n,e).subscribe}}function ue(n,e=K){let t;const i=new Set;function s(l){if(ve(n,l)&&(n=l,t)){const o=!Me.length;for(const c of i)c[1](),Me.push(c,n);if(o){for(let c=0;c<Me.length;c+=2)Me[c][0](Me[c+1]);Me.length=0}}}function r(l){s(l(n))}function a(l,o=K){const c=[l,o];return i.add(c),i.size===1&&(t=e(s)||K),l(n),()=>{i.delete(c),i.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:a}}function qi(n,e,t){const i=!Array.isArray(n),s=i?[n]:n,r=e.length<2;return Di(t,a=>{let l=!1;const o=[];let c=0,d=K;const k=()=>{if(c)return;d();const O=e(i?o[0]:o,a);r?a(O):d=qt(O)?O:K},T=s.map((O,v)=>Dn(O,y=>{o[v]=y,c&=~(1<<v),l&&k()},()=>{c|=1<<v}));return l=!0,k(),function(){Ve(T),d(),l=!1}})}const kt=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),Ii=n=>{const e=[];let t=kt(n);return{get location(){return t},listen(i){e.push(i);const s=()=>{t=kt(n),i({location:t,action:"POP"})};return n.addEventListener("popstate",s),()=>{n.removeEventListener("popstate",s);const r=e.indexOf(i);e.splice(r,1)}},navigate(i,{state:s,replace:r=!1}={}){s={...s,key:Date.now()+""};try{r?n.history.replaceState(s,"",i):n.history.pushState(s,"",i)}catch{n.location[r?"replace":"assign"](i)}t=kt(n),e.forEach(a=>a({location:t,action:"PUSH"})),document.activeElement.blur()}}},Mi=(n="/")=>{let e=0;const t=[{pathname:n,search:""}],i=[];return{get location(){return t[e]},addEventListener(s,r){},removeEventListener(s,r){},history:{get entries(){return t},get index(){return e},get state(){return i[e]},pushState(s,r,a){const[l,o=""]=a.split("?");e++,t.push({pathname:l,search:o}),i.push(s)},replaceState(s,r,a){const[l,o=""]=a.split("?");t[e]={pathname:l,search:o},i[e]=s}}}},Ui=Ii(Fn()?window:Mi()),Wi=n=>({route:n&2,location:n&1}),an=n=>({route:n[1]&&n[1].uri,location:n[0]});function Hi(n){let e;const t=n[12].default,i=Le(t,n,n[11],an);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,[r]){i&&i.p&&(!e||r&2051)&&De(i,t,s,s[11],e?Ne(t,s[11],r,Wi):qe(s[11]),an)},i(s){e||(E(i,s),e=!0)},o(s){R(i,s),e=!1},d(s){i&&i.d(s)}}}function Fi(n,e,t){let i,s,r,a,{$$slots:l={},$$scope:o}=e,{basepath:c="/"}=e,{url:d=null}=e,{history:k=Ui}=e;bt(Wn,k);const T=He(Ot),O=He(ht),v=ue([]);se(n,v,g=>t(9,s=g));const y=ue(null);se(n,y,g=>t(1,a=g));let b=!1;const V=T||ue(d?{pathname:d}:k.location);se(n,V,g=>t(0,i=g));const A=O?O.routerBase:ue({path:c,uri:c});se(n,A,g=>t(10,r=g));const S=qi([A,y],([g,P])=>{if(!P)return g;const{path:W}=g,{route:L,uri:oe}=P;return{path:L.default?W:L.path.replace(/\*.*$/,""),uri:oe}}),D=g=>{const{path:P}=r;let{path:W}=g;if(g._path=W,g.path=tn(P,W),typeof window>"u"){if(b)return;const L=en([g],i.pathname);L&&(y.set(L),b=!0)}else v.update(L=>[...L,g])},m=g=>{v.update(P=>P.filter(W=>W!==g))};return T||(In(()=>k.listen(P=>{V.set(P.location)})),bt(Ot,V)),bt(ht,{activeRoute:y,base:A,routerBase:S,registerRoute:D,unregisterRoute:m}),n.$$set=g=>{"basepath"in g&&t(6,c=g.basepath),"url"in g&&t(7,d=g.url),"history"in g&&t(8,k=g.history),"$$scope"in g&&t(11,o=g.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1024){const{path:g}=r;v.update(P=>P.map(W=>Object.assign(W,{path:tn(g,W._path)})))}if(n.$$.dirty&513){const g=en(s,i.pathname);y.set(g)}},[i,a,v,y,V,A,c,d,k,s,r,o,l]}class Vi extends Be{constructor(e){super(),Ce(this,e,Fi,Hi,ve,{basepath:6,url:7,history:8})}}const $=ue({id:void 0,title:"Player 1",points:0,justWon:!1,wins:0,losses:0,draws:0,turn:!1,dwarfNextTurn:!1,hacked:!1,hand:[],discards:[]}),x=ue({id:void 0,title:"Player 2",points:0,justWon:!1,wins:0,losses:0,draws:0,dwarfNextTurn:!1,hacked:!1,turn:!1,hand:[],discards:[]}),vt=ue({emperor:{title:"emperor",displayTitle:"Emperor",points:10,amount:1,rank:"legendary",trait:"All cards in your hand will count towards your final score, regardless of race.",traitTitle:"No Discrimination",description:"The leader of the human race.",race:"human",image:"/humans/emperor.gif"},commander:{title:"commander",displayTitle:"Commander",points:8,amount:2,rank:"epic",trait:"When the commander is in your hand, all other humans you have will receive +1 point, including commanders. This effect also stacks with the emperor.",traitTitle:"Rally",description:"Powerful warrior second only to the emperor.",race:"human",image:"/humans/commander.png"},assassin:{title:"assassin",displayTitle:"Assassin",points:6,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"A highly skilled professional killer.",race:"human",image:"/humans/assassin.png"},knight:{title:"knight",displayTitle:"Knight",points:4,amount:4,rank:"good",trait:"",traitTitle:"",description:"A middle ranked warrior.",race:"human",image:"/humans/knight.png"},soldier:{title:"soldier",displayTitle:"Soldier",points:3,amount:4,rank:"good",trait:"",traitTitle:"",description:"A low ranked warrior.",race:"human",image:"/humans/soldier.png"},scout:{title:"scout",displayTitle:"Scout",points:2,amount:5,rank:"basic",trait:"",traitTitle:"",description:"The lowest ranked in the human army.",race:"human",image:"/humans/scout.png"},villager:{title:"villager",displayTitle:"Villager",points:1,amount:6,rank:"basic",trait:"",traitTitle:"",description:"An innocent villager.",race:"human",image:"/humans/villager.png"},goblinLord:{title:"goblinLord",displayTitle:"Goblin Lord",points:10,amount:1,rank:"legendary",trait:"If your hand contains only goblins, you receive an insane amount of bonus points. Beware, the elf king can block this trait, resulting in a draw.",traitTitle:"Gobbledegook",description:"The leader of the goblins.",race:"goblin",image:"/goblins/goblin-lord.gif"},giant:{title:"giant",displayTitle:"Giant",points:8,amount:2,rank:"epic",trait:"",traitTitle:"",description:"The strongest weapons of the goblin lord.",race:"goblin",image:"/goblins/giant.png"},troll:{title:"troll",displayTitle:"Troll",points:6,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"Loyal high ranked soldier in the goblin army.",race:"goblin",image:"/goblins/troll.png"},shaman:{title:"shaman",displayTitle:"Shaman",points:5,amount:4,rank:"great",trait:"",traitTitle:"",description:"A magic wielding goblin.",race:"goblin",image:"/goblins/shaman.png"},thief:{title:"thief",displayTitle:"Thief",points:3,amount:4,rank:"good",trait:"",traitTitle:"",description:"A quick, elusive but weak goblin.",race:"goblin",image:"/goblins/thief.png"},hobgoblin:{title:"hobgoblin",displayTitle:"Hobgoblin",points:2,amount:4,rank:"good",trait:"",traitTitle:"",description:"A low ranked goblin.",race:"goblin",image:"/goblins/hobgoblin.png"},bokoblin:{title:"bokoblin",displayTitle:"Bokoblin",points:1,amount:6,rank:"basic",trait:"",traitTitle:"",description:"The weakest of goblins.",race:"goblin",image:"/goblins/bokoblin.png"},elfKing:{title:"elfKing",displayTitle:"Elf King",points:10,amount:1,rank:"legendary",trait:"If your hand contains only elves, they will have their points trippled! The elf king also prevents the enemy from using the goblin lord's special trait.",traitTitle:"Superior Race",description:"The purest, most powerful and respected leader of the elves.",race:"elf",image:"/elves/elf-king.gif"},elfChampion:{title:"elfChampion",displayTitle:"Elf Champion",points:8,amount:2,rank:"epic",trait:"",traitTitle:"",description:"Elf king guard candidate.",race:"elf",image:"/elves/champion.png"},darkElf:{title:"darkElf",displayTitle:"Dark Elf",points:6,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"High ranked powerful elf.",race:"elf",image:"/elves/dark-elf.png"},forestDweller:{title:"forestDweller",displayTitle:"Forest Dweller",points:5,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"An elf in tuned with nature, they're quite strong..",race:"elf",image:"/elves/forest-dweller.png"},nadallen:{title:"nadallen",displayTitle:"Nadallen",points:4,amount:1,rank:"great",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack.",traitTitle:"Twin Power",description:"The stronger half of the rate elvan twins.",race:"elf",image:"/elves/nadallen.png"},nelladan:{title:"nelladan",displayTitle:"Nelladan",points:2,amount:4,rank:"good",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack.",traitTitle:"Twin Power",description:"A rare elvan twin.",race:"elf",image:"/elves/nelladan.png"},woodElf:{title:"woodElf",displayTitle:"Wood Elf",points:3,amount:4,rank:"good",trait:"",traitTitle:"",description:"An elf who aspires to be a forest dwelling elf.",race:"elf",image:"/elves/wood-elf.png"},wildElf:{title:"wildElf",displayTitle:"Wild Elf",points:2,amount:4,rank:"good",trait:"",traitTitle:"",description:"An elf with no social status.",race:"elf",image:"/elves/wild-elf.png"},bard:{title:"bard",displayTitle:"Bard",points:1,amount:4,rank:"basic",trait:"",traitTitle:"",description:"A weak musician.",race:"elf",image:"/elves/bard.png"},longbeardLeader:{title:"longbeardLeader",displayTitle:"Longbeard Leader",points:10,amount:1,rank:"legendary",trait:"The next card will draw a dwarf. Additionally, if there are more remaining dwarves in the deck at the end, the dwarves receive bonus points.",traitTitle:"Last Man Standing",description:"The bravest and most feared amongst the dwarves.",race:"dwarf",image:"/dwarves/longbeard-leader.gif"},dwarfCommander:{title:"dwarfCommander",displayTitle:"Dwarf Commander",points:8,amount:2,rank:"epic",trait:"",traitTitle:"",description:"Right hand man to the longbeard leader himself.",race:"dwarf",image:"/dwarves/dwarf-commander.png"},alchemist:{title:"alchemist",displayTitle:"Alchemist",points:6,amount:2,rank:"amazing",trait:"",traitTitle:"",description:"A dwarven warrior wielding science as magic.",race:"dwarf",image:"/dwarves/alchemist.png"},dwarfWarrior:{title:"dwarfWarrior",displayTitle:"Dwarf Warrior",points:5,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"A strong and reliable dwarven warrior.",race:"dwarf",image:"/dwarves/warrior.png"},hunter:{title:"hunter",displayTitle:"Hunter",points:4,amount:3,rank:"great",trait:"",traitTitle:"",description:"A strong and capable hunter.",race:"dwarf",image:"/dwarves/hunter.png"},traveller:{title:"traveller",displayTitle:"Traveller",points:3,amount:4,rank:"good",trait:"",traitTitle:"",description:"An adventurous but feeble dwarf.",race:"dwarf",image:"/dwarves/traveller.png"},miner:{title:"miner",displayTitle:"Miner",points:2,amount:3,rank:"good",trait:"",traitTitle:"",description:"An average miner, not great in a fight.",race:"dwarf",image:"/dwarves/miner.png"},blacksmith:{title:"blacksmith",displayTitle:"Blacksmith",points:2,amount:3,rank:"good",trait:"",traitTitle:"",description:"A typical blacksmith, not very strong.",race:"dwarf",image:"/dwarves/blacksmith.png"},bartender:{title:"bartender",displayTitle:"Bartender",points:1,amount:4,rank:"basic",trait:"",traitTitle:"",description:"A popular dwarf at the local pub, a serious drinker even amongst dwarves..",race:"dwarf",image:"/dwarves/bartender.png"},hobbit:{title:"hobbit",displayTitle:"Hobbit",points:1,amount:4,rank:"basic",trait:"",traitTitle:"",description:"Half dwarf, half human. Although rare and different, they're generally accepted by all dwarves.",race:"dwarf",image:"/dwarves/hobbit.png"},crusher541A57:{title:"crusher541A57",displayTitle:"Crusher 541-A-57",points:10,amount:1,rank:"legendary",trait:"ALL bots will receive a +2 bons to their points. Additionally, Crusher will hack all bots and steal their points.",traitTitle:"Binary Manipulator",description:"The most advanced battle and hacking unit known to man.",race:"bot",image:"/bots/crusher-5A1A-57.gif"},ai:{title:"ai",displayTitle:"A.I.",points:8,amount:2,rank:"epic",trait:"",traitTitle:"",description:"The core of the modern bot society.",race:"bot",image:"/bots/ai.png"},faeBot:{title:"faeBot",displayTitle:"Fae Bot",points:6,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"A bot created as a gift to the elves as a peace treaty.",race:"bot",image:"/bots/fae-bot.png"},sawBot3000:{title:"sawBot3000",displayTitle:"Sawbot-3000",points:4,amount:4,rank:"great",trait:"",traitTitle:"",description:"A bot designed to kill, beware.",race:"bot",image:"/bots/saw-bot-3000.png"},infernoBot:{title:"infernoBot",displayTitle:"Inferno Bot",points:3,amount:4,rank:"great",trait:"",traitTitle:"",description:"An angry aggressive bot, known to attack on sight.",race:"bot",image:"/bots/inferno-bot.png"},incubator:{title:"incubator",displayTitle:"Incubator",points:2,amount:5,rank:"good",trait:"",traitTitle:"",description:"A weak mother bot used to raise young infants.",race:"bot",image:"/bots/incubator.png"},virus:{title:"virus",displayTitle:"Virus",points:-2,amount:7,rank:"basic",trait:"",traitTitle:"",description:"A common computer virus.",race:"bot",image:"/bots/virus.png"},dreamDestroyer:{title:"dreamDestroyer",displayTitle:"Dream Destroyer",points:10,amount:1,rank:"legendary",trait:"All of your beasts are worth 10 points.",traitTitle:"Roid Rage",description:"The fiercest creature in the animal kingdom.",race:"beast",image:"/beasts/dream-destroyer.gif"},rhino:{title:"rhino",displayTitle:"Rhinestone",points:7,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"A feared beast at the top of the food chain.",race:"beast",image:"/beasts/rhino.png"},bear:{title:"bear",displayTitle:"Theodore Thunderpaws",points:7,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"A powerful top level beast, matched by few.",race:"beast",image:"/beasts/bear.png"},lion:{title:"lion",displayTitle:"Savannah Goldenmane",points:6,amount:4,rank:"great",trait:"",traitTitle:"",description:"The original kings of the jungle.",race:"beast",image:"/beasts/lion.png"},panther:{title:"panther",displayTitle:"Panthera Nocturna",points:5,amount:4,rank:"great",trait:"",traitTitle:"",description:"A quick and efficient beast, known to stalk it's prey before pouncing.",race:"beast",image:"/beasts/panther.png"},wolf:{title:"wolf",displayTitle:"Alpha Wolfbane",points:4,amount:4,rank:"great",trait:"",traitTitle:"",description:"A lone wolf with the strength of a pack.",race:"beast",image:"/beasts/wolf.png"},fox:{title:"fox",displayTitle:"Finn Foxglove",points:3,amount:4,rank:"good",trait:"",traitTitle:"",description:"A fox on steroids.",race:"beast",image:"/beasts/fox.png"},dog:{title:"dog",displayTitle:"Pawl Barkington",points:2,amount:4,rank:"good",trait:"",traitTitle:"",description:"More bark than bite, recognized as the weakest beast.",race:"beast",image:"/beasts/dog.png"}}),zi=ue(["dreamDestroyer","rhino","rhino","rhino","bear","bear","bear","lion","lion","lion","panther","panther","panther","wolf","wolf","wolf","fox","fox","fox","dog","dog","dog"]),Ki=ue(["crusher541A57","ai","ai","faeBot","faeBot","faeBot","sawBot3000","sawBot3000","sawBot3000","sawBot3000","infernoBot","infernoBot","infernoBot","infernoBot","incubator","incubator","incubator","incubator","virus","virus","virus","virus","virus","virus"]),ji=ue(["longbeardLeader","dwarfCommander","dwarfCommander","alchemist","alchemist","dwarfWarrior","dwarfWarrior","hunter","hunter","hunter","miner","miner","miner","blacksmith","blacksmith","blacksmith","traveller","traveller","traveller","bartender","bartender","bartender","hobbit","hobbit","hobbit"]),Gi=ue(["elfKing","elfChampion","elfChampion","darkElf","darkElf","forestDweller","forestDweller","forestDweller","nadallen","nelladan","nelladan","nelladan","nelladan","woodElf","woodElf","woodElf","wildElf","wildElf","wildElf","bard","bard","bard"]),Yi=ue(["goblinLord","giant","giant","troll","troll","troll","shaman","shaman","shaman","thief","thief","thief","thief","hobgoblin","hobgoblin","hobgoblin","hobgoblin","bokoblin","bokoblin","bokoblin","bokoblin"]),Ji=ue(["emperor","commander","commander","assassin","assassin","assassin","knight","knight","knight","knight","soldier","soldier","soldier","soldier","scout","scout","scout","scout","villager","villager","villager","villager"]);function Xi(n){let e,t,i,s,r;const a=n[6].default,l=Le(a,n,n[11],null);return{c(){e=N("button"),l&&l.c(),B(e,"class",t=n[0]+" "+n[1]+" svelte-1duzco6")},m(o,c){H(o,e,c),l&&l.m(e,null),i=!0,s||(r=Ae(e,"click",n[10]),s=!0)},p(o,c){l&&l.p&&(!i||c&2048)&&De(l,a,o,o[11],i?Ne(a,o[11],c,null):qe(o[11]),null),(!i||c&3&&t!==(t=o[0]+" "+o[1]+" svelte-1duzco6"))&&B(e,"class",t)},i(o){i||(E(l,o),i=!0)},o(o){R(l,o),i=!1},d(o){o&&U(e),l&&l.d(o),s=!1,r()}}}function Qi(n){let e,t,i,s,r;const a=n[6].default,l=Le(a,n,n[11],null);return{c(){e=N("button"),l&&l.c(),B(e,"class",t="round "+n[0]+" svelte-1duzco6")},m(o,c){H(o,e,c),l&&l.m(e,null),i=!0,s||(r=Ae(e,"click",n[9]),s=!0)},p(o,c){l&&l.p&&(!i||c&2048)&&De(l,a,o,o[11],i?Ne(a,o[11],c,null):qe(o[11]),null),(!i||c&1&&t!==(t="round "+o[0]+" svelte-1duzco6"))&&B(e,"class",t)},i(o){i||(E(l,o),i=!0)},o(o){R(l,o),i=!1},d(o){o&&U(e),l&&l.d(o),s=!1,r()}}}function Zi(n){let e,t;return e=new Ai({props:{to:n[5],$$slots:{default:[xi]},$$scope:{ctx:n}}}),{c(){re(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const r={};s&32&&(r.to=i[5]),s&2051&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){R(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function $i(n){let e,t,i,s,r;const a=n[6].default,l=Le(a,n,n[11],null);return{c(){e=N("button"),l&&l.c(),B(e,"type","submit"),B(e,"class",t=n[0]+" "+n[1]+" svelte-1duzco6")},m(o,c){H(o,e,c),l&&l.m(e,null),i=!0,s||(r=Ae(e,"click",n[7]),s=!0)},p(o,c){l&&l.p&&(!i||c&2048)&&De(l,a,o,o[11],i?Ne(a,o[11],c,null):qe(o[11]),null),(!i||c&3&&t!==(t=o[0]+" "+o[1]+" svelte-1duzco6"))&&B(e,"class",t)},i(o){i||(E(l,o),i=!0)},o(o){R(l,o),i=!1},d(o){o&&U(e),l&&l.d(o),s=!1,r()}}}function xi(n){let e,t,i,s,r;const a=n[6].default,l=Le(a,n,n[11],null);return{c(){e=N("button"),l&&l.c(),B(e,"class",t=n[0]+" "+n[1]+" svelte-1duzco6")},m(o,c){H(o,e,c),l&&l.m(e,null),i=!0,s||(r=Ae(e,"click",n[8]),s=!0)},p(o,c){l&&l.p&&(!i||c&2048)&&De(l,a,o,o[11],i?Ne(a,o[11],c,null):qe(o[11]),null),(!i||c&3&&t!==(t=o[0]+" "+o[1]+" svelte-1duzco6"))&&B(e,"class",t)},i(o){i||(E(l,o),i=!0)},o(o){R(l,o),i=!1},d(o){o&&U(e),l&&l.d(o),s=!1,r()}}}function es(n){let e,t,i,s;const r=[$i,Zi,Qi,Xi],a=[];function l(o,c){return o[3]?0:o[4]?1:o[2]?2:3}return e=l(n),t=a[e]=r[e](n),{c(){t.c(),i=ze()},m(o,c){a[e].m(o,c),H(o,i,c),s=!0},p(o,[c]){let d=e;e=l(o),e===d?a[e].p(o,c):(fe(),R(a[d],1,1,()=>{a[d]=null}),he(),t=a[e],t?t.p(o,c):(t=a[e]=r[e](o),t.c()),E(t,1),t.m(i.parentNode,i))},i(o){s||(E(t),s=!0)},o(o){R(t),s=!1},d(o){a[e].d(o),o&&U(i)}}}function ts(n,e,t){let{$$slots:i={},$$scope:s}=e,{customClasses:r=""}=e,{bgColor:a=""}=e,{round:l=!1}=e,{btnSubmit:o=!1}=e,{btnLink:c=!1}=e,{path:d=""}=e;function k(y){Je.call(this,n,y)}function T(y){Je.call(this,n,y)}function O(y){Je.call(this,n,y)}function v(y){Je.call(this,n,y)}return n.$$set=y=>{"customClasses"in y&&t(0,r=y.customClasses),"bgColor"in y&&t(1,a=y.bgColor),"round"in y&&t(2,l=y.round),"btnSubmit"in y&&t(3,o=y.btnSubmit),"btnLink"in y&&t(4,c=y.btnLink),"path"in y&&t(5,d=y.path),"$$scope"in y&&t(11,s=y.$$scope)},[r,a,l,o,c,d,i,k,T,O,v,s]}class dt extends Be{constructor(e){super(),Ce(this,e,ts,es,ve,{customClasses:0,bgColor:1,round:2,btnSubmit:3,btnLink:4,path:5})}}function ns(n){let e,t,i,s,r,a=cn(n[4])+"",l,o,c,d,k,T,O,v,y,b,V,A,S,D,m,g,P,W,L,oe,le,ee,j=n[6]&&ln(n);return{c(){e=N("div"),t=N("img"),s=G(),r=N("p"),l=z(a),c=G(),d=N("p"),k=z(n[3]),O=G(),v=N("p"),y=z(n[1]),V=G(),A=N("div"),S=N("div"),D=N("p"),m=z(n[5]),g=G(),j&&j.c(),P=G(),W=N("p"),L=z(n[6]),B(t,"class","card-img svelte-llxvv4"),jt(t.src,i=n[2])||B(t,"src",i),B(t,"alt","img of card"),B(r,"class",o="race "+n[4]+"-race svelte-llxvv4"),B(d,"class",T="points "+n[4]+"-race svelte-llxvv4"),B(v,"class",b="card-title "+n[4]+"-title svelte-llxvv4"),B(D,"class","description svelte-llxvv4"),B(S,"class","bottom-section-wrapper svelte-llxvv4"),B(A,"class","card-bottom-section svelte-llxvv4"),B(e,"class",oe="card bg-"+n[4]+" "+(blur?"blur":"")+" "+(n[8]?"slide-in":"")+" svelte-llxvv4")},m(p,C){H(p,e,C),w(e,t),w(e,s),w(e,r),w(r,l),w(e,c),w(e,d),w(d,k),w(e,O),w(e,v),w(v,y),w(e,V),w(e,A),w(A,S),w(S,D),w(D,m),w(S,g),j&&j.m(S,null),w(S,P),w(S,W),w(W,L),le||(ee=Ae(e,"click",n[9]),le=!0)},p(p,C){C&4&&!jt(t.src,i=p[2])&&B(t,"src",i),C&16&&a!==(a=cn(p[4])+"")&&ae(l,a),C&16&&o!==(o="race "+p[4]+"-race svelte-llxvv4")&&B(r,"class",o),C&8&&ae(k,p[3]),C&16&&T!==(T="points "+p[4]+"-race svelte-llxvv4")&&B(d,"class",T),C&2&&ae(y,p[1]),C&16&&b!==(b="card-title "+p[4]+"-title svelte-llxvv4")&&B(v,"class",b),C&32&&ae(m,p[5]),p[6]?j?j.p(p,C):(j=ln(p),j.c(),j.m(S,P)):j&&(j.d(1),j=null),C&64&&ae(L,p[6]),C&272&&oe!==(oe="card bg-"+p[4]+" "+(blur?"blur":"")+" "+(p[8]?"slide-in":"")+" svelte-llxvv4")&&B(e,"class",oe)},d(p){p&&U(e),j&&j.d(),le=!1,ee()}}}function is(n){let e,t,i;return{c(){e=N("div"),B(e,"class","card facedown bottom-deck svelte-llxvv4")},m(s,r){H(s,e,r),t||(i=Ae(e,"click",n[11]),t=!0)},p:K,d(s){s&&U(e),t=!1,i()}}}function ln(n){let e,t;return{c(){e=N("p"),t=z(n[7]),B(e,"class","special-trait svelte-llxvv4")},m(i,s){H(i,e,s),w(e,t)},p(i,s){s&128&&ae(t,i[7])},d(i){i&&U(e)}}}function ss(n){let e;function t(r,a){return r[0]?is:ns}let i=t(n),s=i(n);return{c(){s.c(),e=ze()},m(r,a){s.m(r,a),H(r,e,a)},p(r,[a]){i===(i=t(r))&&s?s.p(r,a):(s.d(1),s=i(r),s&&(s.c(),s.m(e.parentNode,e)))},i:K,o:K,d(r){s.d(r),r&&U(e)}}}function cn(n){const e=n[0].toUpperCase(),t=n.slice(1);return e+t}function rs(n,e,t){let{faceDown:i=!1}=e,{displayTitle:s="Title here..."}=e,{title:r=""}=e,{img:a="/card-bg.png"}=e,{points:l=0}=e,{race:o="none"}=e,{description:c=""}=e,{trait:d=""}=e,{traitTitle:k=""}=e,{newToHand:T=!1}=e;const O=Mn();function v(b){O("cardClick",{title:r,points:l,race:o,trait:d})}function y(b){Je.call(this,n,b)}return n.$$set=b=>{"faceDown"in b&&t(0,i=b.faceDown),"displayTitle"in b&&t(1,s=b.displayTitle),"title"in b&&t(10,r=b.title),"img"in b&&t(2,a=b.img),"points"in b&&t(3,l=b.points),"race"in b&&t(4,o=b.race),"description"in b&&t(5,c=b.description),"trait"in b&&t(6,d=b.trait),"traitTitle"in b&&t(7,k=b.traitTitle),"newToHand"in b&&t(8,T=b.newToHand)},[i,s,a,l,o,c,d,k,T,v,r,y]}class $e extends Be{constructor(e){super(),Ce(this,e,rs,ss,ve,{faceDown:0,displayTitle:1,title:10,img:2,points:3,race:4,description:5,trait:6,traitTitle:7,newToHand:8})}}const _e=Object.create(null);_e.open="0";_e.close="1";_e.ping="2";_e.pong="3";_e.message="4";_e.upgrade="5";_e.noop="6";const lt=Object.create(null);Object.keys(_e).forEach(n=>{lt[_e[n]]=n});const Pt={type:"error",data:"parser error"},Vn=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",zn=typeof ArrayBuffer=="function",Kn=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Mt=({type:n,data:e},t,i)=>Vn&&e instanceof Blob?t?i(e):un(e,i):zn&&(e instanceof ArrayBuffer||Kn(e))?t?i(e):un(new Blob([e]),i):i(_e[n]+(e||"")),un=(n,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function fn(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let Tt;function os(n,e){if(Vn&&n.data instanceof Blob)return n.data.arrayBuffer().then(fn).then(e);if(zn&&(n.data instanceof ArrayBuffer||Kn(n.data)))return e(fn(n.data));Mt(n,!1,t=>{Tt||(Tt=new TextEncoder),e(Tt.encode(t))})}const hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<hn.length;n++)Xe[hn.charCodeAt(n)]=n;const as=n=>{let e=n.length*.75,t=n.length,i,s=0,r,a,l,o;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const c=new ArrayBuffer(e),d=new Uint8Array(c);for(i=0;i<t;i+=4)r=Xe[n.charCodeAt(i)],a=Xe[n.charCodeAt(i+1)],l=Xe[n.charCodeAt(i+2)],o=Xe[n.charCodeAt(i+3)],d[s++]=r<<2|a>>4,d[s++]=(a&15)<<4|l>>2,d[s++]=(l&3)<<6|o&63;return c},ls=typeof ArrayBuffer=="function",Ut=(n,e)=>{if(typeof n!="string")return{type:"message",data:jn(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:cs(n.substring(1),e)}:lt[t]?n.length>1?{type:lt[t],data:n.substring(1)}:{type:lt[t]}:Pt},cs=(n,e)=>{if(ls){const t=as(n);return jn(t,e)}else return{base64:!0,data:n}},jn=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},Gn=String.fromCharCode(30),us=(n,e)=>{const t=n.length,i=new Array(t);let s=0;n.forEach((r,a)=>{Mt(r,!1,l=>{i[a]=l,++s===t&&e(i.join(Gn))})})},fs=(n,e)=>{const t=n.split(Gn),i=[];for(let s=0;s<t.length;s++){const r=Ut(t[s],e);if(i.push(r),r.type==="error")break}return i};function hs(){return new TransformStream({transform(n,e){os(n,t=>{const i=t.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}let Et;function it(n){return n.reduce((e,t)=>e+t.length,0)}function st(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)t[s]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function ds(n,e){Et||(Et=new TextDecoder);const t=[];let i=0,s=-1,r=!1;return new TransformStream({transform(a,l){for(t.push(a);;){if(i===0){if(it(t)<1)break;const o=st(t,1);r=(o[0]&128)===128,s=o[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(it(t)<2)break;const o=st(t,2);s=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),i=3}else if(i===2){if(it(t)<8)break;const o=st(t,8),c=new DataView(o.buffer,o.byteOffset,o.length),d=c.getUint32(0);if(d>Math.pow(2,53-32)-1){l.enqueue(Pt);break}s=d*Math.pow(2,32)+c.getUint32(4),i=3}else{if(it(t)<s)break;const o=st(t,s);l.enqueue(Ut(r?o:Et.decode(o),e)),i=0}if(s===0||s>n){l.enqueue(Pt);break}}}})}const Yn=4;function Q(n){if(n)return ps(n)}function ps(n){for(var e in Q.prototype)n[e]=Q.prototype[e];return n}Q.prototype.on=Q.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Q.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Q.prototype.off=Q.prototype.removeListener=Q.prototype.removeAllListeners=Q.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,s=0;s<t.length;s++)if(i=t[s],i===e||i.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Q.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,s=t.length;i<s;++i)t[i].apply(this,e)}return this};Q.prototype.emitReserved=Q.prototype.emit;Q.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Q.prototype.hasListeners=function(n){return!!this.listeners(n).length};const de=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Jn(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}const ms=de.setTimeout,gs=de.clearTimeout;function pt(n,e){e.useNativeTimers?(n.setTimeoutFn=ms.bind(de),n.clearTimeoutFn=gs.bind(de)):(n.setTimeoutFn=de.setTimeout.bind(de),n.clearTimeoutFn=de.clearTimeout.bind(de))}const bs=1.33;function _s(n){return typeof n=="string"?ys(n):Math.ceil((n.byteLength||n.size)*bs)}function ys(n){let e=0,t=0;for(let i=0,s=n.length;i<s;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function ws(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function ks(n){let e={},t=n.split("&");for(let i=0,s=t.length;i<s;i++){let r=t[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class vs extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class Wt extends Q{constructor(e){super(),this.writable=!1,pt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,i){return super.emitReserved("error",new vs(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Ut(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=ws(e);return t.length?"?"+t:""}}const Xn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Rt=64,Ts={};let dn=0,rt=0,pn;function mn(n){let e="";do e=Xn[n%Rt]+e,n=Math.floor(n/Rt);while(n>0);return e}function Qn(){const n=mn(+new Date);return n!==pn?(dn=0,pn=n):n+"."+mn(dn++)}for(;rt<Rt;rt++)Ts[Xn[rt]]=rt;let Zn=!1;try{Zn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Es=Zn;function $n(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Es))return new XMLHttpRequest}catch{}if(!e)try{return new de[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function As(){}const Cs=function(){return new $n({xdomain:!1}).responseType!=null}();class Bs extends Wt{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const t=e&&e.forceBase64;this.supportsBinary=Cs&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};fs(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,us(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Qn()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new be(this.uri(),e)}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}class be extends Q{constructor(e,t){super(),pt(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;const t=Jn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const i=this.xhr=new $n(t);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=be.requestsCount++,be.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=As,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete be.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}be.requestsCount=0;be.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",gn);else if(typeof addEventListener=="function"){const n="onpagehide"in de?"pagehide":"unload";addEventListener(n,gn,!1)}}function gn(){for(let n in be.requests)be.requests.hasOwnProperty(n)&&be.requests[n].abort()}const Ht=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),ot=de.WebSocket||de.MozWebSocket,bn=!0,Os="arraybuffer",_n=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ps extends Wt{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,i=_n?{}:Jn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=bn&&!_n?t?new ot(e,t):new ot(e):new ot(e,t,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;Mt(i,this.supportsBinary,r=>{const a={};try{bn&&this.ws.send(r)}catch{}s&&Ht(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Qn()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!ot}}class Rs extends Wt{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=ds(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),s=hs();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const r=()=>{i.read().then(({done:l,value:o})=>{l||(this.onPacket(o),r())}).catch(l=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;this.writer.write(i).then(()=>{s&&Ht(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Ss={websocket:Ps,webtransport:Rs,polling:Bs},Ls=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ns=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function St(n){if(n.length>2e3)throw"URI too long";const e=n,t=n.indexOf("["),i=n.indexOf("]");t!=-1&&i!=-1&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let s=Ls.exec(n||""),r={},a=14;for(;a--;)r[Ns[a]]=s[a]||"";return t!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Ds(r,r.path),r.queryKey=qs(r,r.query),r}function Ds(n,e){const t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function qs(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(t[s]=r)}),t}let xn=class We extends Q{constructor(e,t={}){super(),this.binaryType=Os,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=St(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=St(t.host).host),pt(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ks(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Yn,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Ss[e](i)}open(){let e;if(this.opts.rememberUpgrade&&We.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),i=!1;We.priorWebsocketSuccess=!1;const s=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",k=>{if(!i)if(k.type==="pong"&&k.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;We.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const T=new Error("probe error");T.transport=t.name,this.emitReserved("upgradeError",T)}}))};function r(){i||(i=!0,d(),t.close(),t=null)}const a=k=>{const T=new Error("probe error: "+k);T.transport=t.name,r(),this.emitReserved("upgradeError",T)};function l(){a("transport closed")}function o(){a("socket closed")}function c(k){t&&k.name!==t.name&&r()}const d=()=>{t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",l),this.off("close",o),this.off("upgrading",c)};t.once("open",s),t.once("error",a),t.once("close",l),this.once("close",o),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onOpen(){if(this.readyState="open",We.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(t+=_s(s)),i>0&&t>this.maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}write(e,t,i){return this.sendPacket("message",e,t,i),this}send(e,t,i){return this.sendPacket("message",e,t,i),this}sendPacket(e,t,i,s){if(typeof t=="function"&&(s=t,t=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:t,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){We.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let i=0;const s=e.length;for(;i<s;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}};xn.protocol=Yn;function Is(n,e="",t){let i=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),i=St(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(t&&t.port===i.port?"":":"+i.port),i}const Ms=typeof ArrayBuffer=="function",Us=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ei=Object.prototype.toString,Ws=typeof Blob=="function"||typeof Blob<"u"&&ei.call(Blob)==="[object BlobConstructor]",Hs=typeof File=="function"||typeof File<"u"&&ei.call(File)==="[object FileConstructor]";function Ft(n){return Ms&&(n instanceof ArrayBuffer||Us(n))||Ws&&n instanceof Blob||Hs&&n instanceof File}function ct(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(ct(n[t]))return!0;return!1}if(Ft(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return ct(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&ct(n[t]))return!0;return!1}function Fs(n){const e=[],t=n.data,i=n;return i.data=Lt(t,e),i.attachments=e.length,{packet:i,buffers:e}}function Lt(n,e){if(!n)return n;if(Ft(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=Lt(n[i],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=Lt(n[i],e));return t}return n}function Vs(n,e){return n.data=Nt(n.data,e),delete n.attachments,n}function Nt(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Nt(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Nt(n[t],e));return n}const zs=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ks=5;var I;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(I||(I={}));class js{constructor(e){this.replacer=e}encode(e){return(e.type===I.EVENT||e.type===I.ACK)&&ct(e)?this.encodeAsBinary({type:e.type===I.EVENT?I.BINARY_EVENT:I.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===I.BINARY_EVENT||e.type===I.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Fs(e),i=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(i),s}}function yn(n){return Object.prototype.toString.call(n)==="[object Object]"}class Vt extends Q{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===I.BINARY_EVENT;i||t.type===I.BINARY_ACK?(t.type=i?I.EVENT:I.ACK,this.reconstructor=new Gs(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Ft(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(I[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===I.BINARY_EVENT||i.type===I.BINARY_ACK){const r=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(t+1)==="/"){const r=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(r,t)}else i.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const r=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}i.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(Vt.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case I.CONNECT:return yn(t);case I.DISCONNECT:return t===void 0;case I.CONNECT_ERROR:return typeof t=="string"||yn(t);case I.EVENT:case I.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&zs.indexOf(t[0])===-1);case I.ACK:case I.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Gs{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Vs(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ys=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Vt,Encoder:js,get PacketType(){return I},protocol:Ks},Symbol.toStringTag,{value:"Module"}));function me(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Js=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ti extends Q{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[me(e,"open",this.onopen.bind(this)),me(e,"packet",this.onpacket.bind(this)),me(e,"error",this.onerror.bind(this)),me(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Js.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const i={type:I.EVENT,data:t};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const a=this.ids++,l=t.pop();this._registerAckCallback(a,l),i.id=a}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},s);this.acks[e]=(...a)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...a])}}emitWithAck(e,...t){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,r)=>{t.push((a,l)=>i?a?r(a):s(l):s(a)),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:I.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case I.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case I.EVENT:case I.BINARY_EVENT:this.onevent(e);break;case I.ACK:case I.BINARY_ACK:this.onack(e);break;case I.DISCONNECT:this.ondisconnect();break;case I.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...s){i||(i=!0,t.packet({type:I.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:I.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function je(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}je.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};je.prototype.reset=function(){this.attempts=0};je.prototype.setMin=function(n){this.ms=n};je.prototype.setMax=function(n){this.max=n};je.prototype.setJitter=function(n){this.jitter=n};class Dt extends Q{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,pt(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new je({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||Ys;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new xn(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=me(t,"open",function(){i.onopen(),e&&e()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},a=me(t,"error",r);if(this._timeout!==!1){const l=this._timeout,o=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),t.close()},l);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(me(e,"ping",this.onping.bind(this)),me(e,"data",this.ondata.bind(this)),me(e,"error",this.onerror.bind(this)),me(e,"close",this.onclose.bind(this)),me(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Ht(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new ti(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ye={};function ut(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=Is(n,e.path||"/socket.io"),i=t.source,s=t.id,r=t.path,a=Ye[s]&&r in Ye[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let o;return l?o=new Dt(i,e):(Ye[s]||(Ye[s]=new Dt(i,e)),o=Ye[s]),t.query&&!e.query&&(e.query=t.queryKey),o.socket(t.path,e)}Object.assign(ut,{Manager:Dt,Socket:ti,io:ut,connect:ut});function wn(n,e,t){const i=n.slice();return i[46]=e[t],i}function kn(n,e,t){const i=n.slice();return i[46]=e[t],i}function vn(n,e,t){const i=n.slice();return i[51]=e[t],i}function Tn(n,e,t){const i=n.slice();return i[51]=e[t],i}function Xs(n){let e,t;return e=new dt({props:{customClasses:"btn__green_disabled w-25",$$slots:{default:[Zs]},$$scope:{ctx:n}}}),{c(){re(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const r={};s[1]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){R(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function Qs(n){let e,t;return e=new dt({props:{customClasses:"btn__green w-25",$$slots:{default:[$s]},$$scope:{ctx:n}}}),e.$on("click",n[11]),{c(){re(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const r={};s[1]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){R(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function Zs(n){let e;return{c(){e=z("Game in progress...")},m(t,i){H(t,e,i)},d(t){t&&U(e)}}}function $s(n){let e;return{c(){e=z("Start game")},m(t,i){H(t,e,i)},d(t){t&&U(e)}}}function En(n){let e,t,i,s,r,a,l,o,c,d,k,T=n[1].wins+"",O,v,y=n[1].losses+"",b,V,A=n[1].draws+"",S,D,m,g,P=n[0].wins+"",W,L,oe=n[0].losses+"",le,ee,j=n[0].draws+"",p,C,Y,q,pe,Oe,Te,xe,Ee,Ge,et,Pe,ce,ge=n[1].discards,J=[];for(let h=0;h<ge.length;h+=1)J[h]=An(Tn(n,ge,h));const mt=h=>R(J[h],1,1,()=>{J[h]=null});let ye=n[0].discards,X=[];for(let h=0;h<ye.length;h+=1)X[h]=Cn(vn(n,ye,h));const u=h=>R(X[h],1,1,()=>{X[h]=null});return{c(){e=N("div"),t=N("p"),i=z(n[6]),s=G(),r=N("p"),a=z(n[7]),l=G(),o=N("br"),c=G(),d=N("p"),k=z("Player 1 stats: Wins: "),O=z(T),v=z(", Losses: "),b=z(y),V=z(", Draws: "),S=z(A),D=G(),m=N("p"),g=z("Player 2 stats: Wins: "),W=z(P),L=z(", Losses: "),le=z(oe),ee=z(", Draws: "),p=z(j),C=G(),Y=N("div"),q=N("div"),pe=N("h4"),pe.textContent="Player 1 cards discarded:",Oe=G(),Te=N("ul");for(let h=0;h<J.length;h+=1)J[h].c();xe=G(),Ee=N("div"),Ge=N("h4"),Ge.textContent="Player 2 cards discarded:",et=G(),Pe=N("ul");for(let h=0;h<X.length;h+=1)X[h].c();B(Te,"class","discarded-cards svelte-t9y4m1"),B(q,"class","discard-wrapper"),B(Pe,"class","discarded-cards svelte-t9y4m1"),B(Ee,"class","discard-wrapper"),B(Y,"class","lg-discard-wrapper svelte-t9y4m1"),B(e,"class","game-results svelte-t9y4m1")},m(h,_){H(h,e,_),w(e,t),w(t,i),w(e,s),w(e,r),w(r,a),w(e,l),w(e,o),w(e,c),w(e,d),w(d,k),w(d,O),w(d,v),w(d,b),w(d,V),w(d,S),w(e,D),w(e,m),w(m,g),w(m,W),w(m,L),w(m,le),w(m,ee),w(m,p),w(e,C),w(e,Y),w(Y,q),w(q,pe),w(q,Oe),w(q,Te);for(let f=0;f<J.length;f+=1)J[f]&&J[f].m(Te,null);w(Y,xe),w(Y,Ee),w(Ee,Ge),w(Ee,et),w(Ee,Pe);for(let f=0;f<X.length;f+=1)X[f]&&X[f].m(Pe,null);ce=!0},p(h,_){if((!ce||_[0]&64)&&ae(i,h[6]),(!ce||_[0]&128)&&ae(a,h[7]),(!ce||_[0]&2)&&T!==(T=h[1].wins+"")&&ae(O,T),(!ce||_[0]&2)&&y!==(y=h[1].losses+"")&&ae(b,y),(!ce||_[0]&2)&&A!==(A=h[1].draws+"")&&ae(S,A),(!ce||_[0]&1)&&P!==(P=h[0].wins+"")&&ae(W,P),(!ce||_[0]&1)&&oe!==(oe=h[0].losses+"")&&ae(le,oe),(!ce||_[0]&1)&&j!==(j=h[0].draws+"")&&ae(p,j),_[0]&1026){ge=h[1].discards;let f;for(f=0;f<ge.length;f+=1){const M=Tn(h,ge,f);J[f]?(J[f].p(M,_),E(J[f],1)):(J[f]=An(M),J[f].c(),E(J[f],1),J[f].m(Te,null))}for(fe(),f=ge.length;f<J.length;f+=1)mt(f);he()}if(_[0]&1025){ye=h[0].discards;let f;for(f=0;f<ye.length;f+=1){const M=vn(h,ye,f);X[f]?(X[f].p(M,_),E(X[f],1)):(X[f]=Cn(M),X[f].c(),E(X[f],1),X[f].m(Pe,null))}for(fe(),f=ye.length;f<X.length;f+=1)u(f);he()}},i(h){if(!ce){for(let _=0;_<ge.length;_+=1)E(J[_]);for(let _=0;_<ye.length;_+=1)E(X[_]);ce=!0}},o(h){J=J.filter(Boolean);for(let _=0;_<J.length;_+=1)R(J[_]);X=X.filter(Boolean);for(let _=0;_<X.length;_+=1)R(X[_]);ce=!1},d(h){h&&U(e),ft(J,h),ft(X,h)}}}function An(n){let e,t;return e=new $e({props:{displayTitle:n[10][n[51]].displayTitle,title:n[10][n[51]].title,img:n[10][n[51]].image,race:n[10][n[51]].race,points:n[10][n[51]].points}}),{c(){re(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const r={};s[0]&1026&&(r.displayTitle=i[10][i[51]].displayTitle),s[0]&1026&&(r.title=i[10][i[51]].title),s[0]&1026&&(r.img=i[10][i[51]].image),s[0]&1026&&(r.race=i[10][i[51]].race),s[0]&1026&&(r.points=i[10][i[51]].points),e.$set(r)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){R(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function Cn(n){let e,t;return e=new $e({props:{displayTitle:n[10][n[51]].displayTitle,title:n[10][n[51]].title,img:n[10][n[51]].image,race:n[10][n[51]].race,points:n[10][n[51]].points}}),{c(){re(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const r={};s[0]&1025&&(r.displayTitle=i[10][i[51]].displayTitle),s[0]&1025&&(r.title=i[10][i[51]].title),s[0]&1025&&(r.img=i[10][i[51]].image),s[0]&1025&&(r.race=i[10][i[51]].race),s[0]&1025&&(r.points=i[10][i[51]].points),e.$set(r)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){R(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function xs(n){let e,t,i,s,r,a,l,o,c,d,k,T,O,v,y,b,V,A,S,D,m=n[1].hand,g=[];for(let p=0;p<m.length;p+=1)g[p]=Bn(kn(n,m,p));const P=p=>R(g[p],1,1,()=>{g[p]=null});let W=n[0].hand,L=[];for(let p=0;p<W.length;p+=1)L[p]=On(wn(n,W,p));const oe=p=>R(L[p],1,1,()=>{L[p]=null});b=new $e({props:{faceDown:!0}}),b.$on("click",n[18]);const le=[nr,tr],ee=[];function j(p,C){return p[3]||p[9]<3?0:1}return A=j(n),S=ee[A]=le[A](n),{c(){e=N("div"),t=N("p"),i=z("Player 1"),r=G();for(let p=0;p<g.length;p+=1)g[p].c();l=G(),o=N("div"),c=N("p"),d=z("Player 2"),T=G();for(let p=0;p<L.length;p+=1)L[p].c();v=G(),y=N("div"),re(b.$$.fragment),V=G(),S.c(),B(t,"class",s="p1-name "+(n[1].turn?"turn-active":"")+" svelte-t9y4m1"),B(e,"class",a="card-section card-section__ally "+(n[1].turn||n[1].justWon?"section-active":"")+" svelte-t9y4m1"),B(c,"class",k="p2-name "+(n[0].turn?"turn-active":"")+" svelte-t9y4m1"),B(o,"class",O="card-section card-section__enemy "+(n[0].turn||n[0].justWon?"section-active":"")+" svelte-t9y4m1"),B(y,"class","game-buttons svelte-t9y4m1")},m(p,C){H(p,e,C),w(e,t),w(t,i),w(e,r);for(let Y=0;Y<g.length;Y+=1)g[Y]&&g[Y].m(e,null);H(p,l,C),H(p,o,C),w(o,c),w(c,d),w(o,T);for(let Y=0;Y<L.length;Y+=1)L[Y]&&L[Y].m(o,null);H(p,v,C),H(p,y,C),ne(b,y,null),w(y,V),ee[A].m(y,null),D=!0},p(p,C){if((!D||C[0]&2&&s!==(s="p1-name "+(p[1].turn?"turn-active":"")+" svelte-t9y4m1"))&&B(t,"class",s),C[0]&9250){m=p[1].hand;let q;for(q=0;q<m.length;q+=1){const pe=kn(p,m,q);g[q]?(g[q].p(pe,C),E(g[q],1)):(g[q]=Bn(pe),g[q].c(),E(g[q],1),g[q].m(e,null))}for(fe(),q=m.length;q<g.length;q+=1)P(q);he()}if((!D||C[0]&2&&a!==(a="card-section card-section__ally "+(p[1].turn||p[1].justWon?"section-active":"")+" svelte-t9y4m1"))&&B(e,"class",a),(!D||C[0]&1&&k!==(k="p2-name "+(p[0].turn?"turn-active":"")+" svelte-t9y4m1"))&&B(c,"class",k),C[0]&9249){W=p[0].hand;let q;for(q=0;q<W.length;q+=1){const pe=wn(p,W,q);L[q]?(L[q].p(pe,C),E(L[q],1)):(L[q]=On(pe),L[q].c(),E(L[q],1),L[q].m(o,null))}for(fe(),q=W.length;q<L.length;q+=1)oe(q);he()}(!D||C[0]&1&&O!==(O="card-section card-section__enemy "+(p[0].turn||p[0].justWon?"section-active":"")+" svelte-t9y4m1"))&&B(o,"class",O);let Y=A;A=j(p),A===Y?ee[A].p(p,C):(fe(),R(ee[Y],1,1,()=>{ee[Y]=null}),he(),S=ee[A],S?S.p(p,C):(S=ee[A]=le[A](p),S.c()),E(S,1),S.m(y,null))},i(p){if(!D){for(let C=0;C<m.length;C+=1)E(g[C]);for(let C=0;C<W.length;C+=1)E(L[C]);E(b.$$.fragment,p),E(S),D=!0}},o(p){g=g.filter(Boolean);for(let C=0;C<g.length;C+=1)R(g[C]);L=L.filter(Boolean);for(let C=0;C<L.length;C+=1)R(L[C]);R(b.$$.fragment,p),R(S),D=!1},d(p){p&&U(e),ft(g,p),p&&U(l),p&&U(o),ft(L,p),p&&U(v),p&&U(y),ie(b),ee[A].d()}}}function er(n){let e,t,i,s,r,a=n[1].turn&&Pn(),l=n[0].turn&&Rn();return{c(){a&&a.c(),e=G(),l&&l.c(),t=G(),i=N("div"),B(i,"class","board-blurred svelte-t9y4m1")},m(o,c){a&&a.m(o,c),H(o,e,c),l&&l.m(o,c),H(o,t,c),H(o,i,c),s||(r=Ae(i,"click",n[15]),s=!0)},p(o,c){o[1].turn?a||(a=Pn(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),o[0].turn?l||(l=Rn(),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:K,o:K,d(o){a&&a.d(o),o&&U(e),l&&l.d(o),o&&U(t),o&&U(i),s=!1,r()}}}function Bn(n){let e,t;return e=new $e({props:{faceDown:!(n[1].turn||n[5]),displayTitle:n[10][n[46]].displayTitle,title:n[10][n[46]].title,img:n[10][n[46]].image,trait:n[10][n[46]].trait,traitTitle:n[10][n[46]].traitTitle,description:n[10][n[46]].description,race:n[10][n[46]].race,points:n[10][n[46]].points,newToHand:n[1].hand[5]===n[46]}}),e.$on("cardClick",n[16]),{c(){re(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const r={};s[0]&34&&(r.faceDown=!(i[1].turn||i[5])),s[0]&1026&&(r.displayTitle=i[10][i[46]].displayTitle),s[0]&1026&&(r.title=i[10][i[46]].title),s[0]&1026&&(r.img=i[10][i[46]].image),s[0]&1026&&(r.trait=i[10][i[46]].trait),s[0]&1026&&(r.traitTitle=i[10][i[46]].traitTitle),s[0]&1026&&(r.description=i[10][i[46]].description),s[0]&1026&&(r.race=i[10][i[46]].race),s[0]&1026&&(r.points=i[10][i[46]].points),s[0]&2&&(r.newToHand=i[1].hand[5]===i[46]),e.$set(r)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){R(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function On(n){let e,t;return e=new $e({props:{faceDown:!(n[0].turn||n[5]),displayTitle:n[10][n[46]].displayTitle,title:n[10][n[46]].title,img:n[10][n[46]].image,trait:n[10][n[46]].trait,traitTitle:n[10][n[46]].traitTitle,description:n[10][n[46]].description,race:n[10][n[46]].race,points:n[10][n[46]].points,newToHand:n[0].hand[5]===n[46]}}),e.$on("cardClick",n[17]),{c(){re(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const r={};s[0]&33&&(r.faceDown=!(i[0].turn||i[5])),s[0]&1025&&(r.displayTitle=i[10][i[46]].displayTitle),s[0]&1025&&(r.title=i[10][i[46]].title),s[0]&1025&&(r.img=i[10][i[46]].image),s[0]&1025&&(r.trait=i[10][i[46]].trait),s[0]&1025&&(r.traitTitle=i[10][i[46]].traitTitle),s[0]&1025&&(r.description=i[10][i[46]].description),s[0]&1025&&(r.race=i[10][i[46]].race),s[0]&1025&&(r.points=i[10][i[46]].points),s[0]&1&&(r.newToHand=i[0].hand[5]===i[46]),e.$set(r)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){R(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function tr(n){let e,t;return e=new dt({props:{round:!0,customClasses:"btn__orange",$$slots:{default:[ir]},$$scope:{ctx:n}}}),e.$on("click",n[14]),{c(){re(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const r={};s[1]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){R(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function nr(n){let e,t;return e=new dt({props:{round:!0,customClasses:"btn__orange_disabled",$$slots:{default:[sr]},$$scope:{ctx:n}}}),{c(){re(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,s){const r={};s[1]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){R(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function ir(n){let e;return{c(){e=z("Gobbledegook!")},m(t,i){H(t,e,i)},d(t){t&&U(e)}}}function sr(n){let e;return{c(){e=z("Gobbledegook!")},m(t,i){H(t,e,i)},d(t){t&&U(e)}}}function Pn(n){let e;return{c(){e=N("p"),e.innerHTML='<span class="text-orange svelte-t9y4m1">Player 1</span>, click when ready.',B(e,"class","player-turn-alert svelte-t9y4m1")},m(t,i){H(t,e,i)},d(t){t&&U(e)}}}function Rn(n){let e;return{c(){e=N("p"),e.innerHTML='<span class="text-orange svelte-t9y4m1">Player 2</span>, click when ready.',B(e,"class","player-turn-alert svelte-t9y4m1")},m(t,i){H(t,e,i)},d(t){t&&U(e)}}}function Sn(n){let e,t=n[1].turn?"Player 1":"Player 2",i,s;return{c(){e=N("p"),i=z(t),s=N("span"),s.textContent="'s turn",B(s,"class","svelte-t9y4m1"),B(e,"class","turn-text svelte-t9y4m1")},m(r,a){H(r,e,a),w(e,i),w(e,s)},p(r,a){a[0]&2&&t!==(t=r[1].turn?"Player 1":"Player 2")&&ae(i,t)},d(r){r&&U(e)}}}function rr(n){let e,t,i,s,r,a,l,o,c,d,k,T;const O=[Qs,Xs],v=[];function y(m,g){return m[4]?1:0}t=y(n),i=v[t]=O[t](n);let b=n[6]&&En(n);const V=[er,xs],A=[];function S(m,g){return m[8]?0:1}o=S(n),c=A[o]=V[o](n);let D=n[4]&&Sn(n);return{c(){e=N("main"),i.c(),s=G(),r=N("div"),b&&b.c(),a=G(),l=N("div"),c.c(),d=G(),D&&D.c(),B(l,"class",k="game-board "+(n[2]?"gobble-declared":"")+" svelte-t9y4m1"),B(r,"class","game-end-wrapper svelte-t9y4m1")},m(m,g){H(m,e,g),v[t].m(e,null),w(e,s),w(e,r),b&&b.m(r,null),w(r,a),w(r,l),A[o].m(l,null),w(l,d),D&&D.m(l,null),T=!0},p(m,g){let P=t;t=y(m),t===P?v[t].p(m,g):(fe(),R(v[P],1,1,()=>{v[P]=null}),he(),i=v[t],i?i.p(m,g):(i=v[t]=O[t](m),i.c()),E(i,1),i.m(e,s)),m[6]?b?(b.p(m,g),g[0]&64&&E(b,1)):(b=En(m),b.c(),E(b,1),b.m(r,a)):b&&(fe(),R(b,1,1,()=>{b=null}),he());let W=o;o=S(m),o===W?A[o].p(m,g):(fe(),R(A[W],1,1,()=>{A[W]=null}),he(),c=A[o],c?c.p(m,g):(c=A[o]=V[o](m),c.c()),E(c,1),c.m(l,d)),m[4]?D?D.p(m,g):(D=Sn(m),D.c(),D.m(l,null)):D&&(D.d(1),D=null),(!T||g[0]&4&&k!==(k="game-board "+(m[2]?"gobble-declared":"")+" svelte-t9y4m1"))&&B(l,"class",k)},i(m){T||(E(i),E(b),E(c),T=!0)},o(m){R(i),R(b),R(c),T=!1},d(m){m&&U(e),v[t].d(),b&&b.d(),A[o].d(),D&&D.d()}}}function or(n,e,t){let i,s,r,a,l,o,c,d,k;se(n,vt,u=>t(10,i=u)),se(n,x,u=>t(0,s=u)),se(n,$,u=>t(1,r=u)),se(n,zi,u=>t(20,a=u)),se(n,Ki,u=>t(21,l=u)),se(n,ji,u=>t(22,o=u)),se(n,Gi,u=>t(23,c=u)),se(n,Yi,u=>t(24,d=u)),se(n,Ji,u=>t(25,k=u));let T=ut("http://192.168.2.10:6912"),O=!1,v=!1,y=!1,b=!0,V="",A="",S=!1,D=0,m={humans:[...k],goblins:[...d],elves:[...c],dwarves:[...o],bots:[...l],beasts:[...a]};In(()=>{T.on("connect",()=>console.log(`User ID: ${T.id} connected!`)),T.on("connect_error",u=>console.error("Connection error:",u)),T.on("start-game",u=>{console.log("Game started:",u),$.update(h=>(h.hand=u.player1.hand,h)),x.update(h=>(h.hand=u.player2.hand,h)),m={...u.fullDeck}}),T.on("set-users",u=>{console.log("Setting users:",u),Object.entries(u).forEach(([h,_])=>{T.id===_?$.update(f=>(f.id=_,f.title=h,f)):x.update(f=>(f.id=_,f.title=h,f))})}),T.emit("client-ready")});function g(){t(5,b=!0),t(4,y=!1),t(3,v=!0),$.update(u=>(u.turn=!1,u.points=Te(r,s),u)),x.update(u=>(u.turn=!1,u.points=Te(s,r),u)),r.hacked&&ge(r),s.hacked&&ge(s),pe(),le(),le(!0)}function P(){$.update(u=>(u.points=0,u.discards=[],u.hacked=!1,u.justWon=!1,u)),x.update(u=>(u.points=0,u.discards=[],u.hacked=!1,u.justWon=!1,u)),t(9,D=0),t(5,b=!1),t(4,y=!0),t(2,O=!1),t(3,v=!1),t(6,V=""),m.humans=[...k],m.goblins=[...d],m.elves=[...c],m.dwarves=[...o],m.bots=[...l],m.beasts=[...a]}function W(){P(),j(r.hand),j(s.hand),oe(),T.emit("start-game",{player1:r,player2:s,fullDeck:m})}const L=Object.keys(m);function oe(){Math.ceil(Math.random()*2)===1?(F($,r.turn=!0,r),F(x,s.turn=!1,s)):(F($,r.turn=!1,r),F(x,s.turn=!0,s)),t(8,S=!S)}function le(u=!1){const h=m.humans.length||0,_=m.goblins.length||0,f=m.elves.length||0,M=m.dwarves.length||0,Z=m.bots.length||0,te=m.beasts.length||0;if(u)console.log(`Cards remaining per deck:

      Humans: ${h}

      Goblins: ${_}

      Elves: ${f}

      Dwarves: ${M}
)
      Bots: ${Z}
)
      Beasts: ${te}
`);else{const we=h+_+f+M+Z+te;console.log(`Cards remaining in deck: ${we}`)}}function ee(){t(9,D+=.5),F($,r.turn=!r.turn,r),F(x,s.turn=!s.turn,s),t(8,S=!S)}function j(u){u.length=0;for(let h=1;h<=5;h++){let _=Math.floor(Math.random()*L.length),f=L[_];_=Math.floor(Math.random()*m[f].length);const M=m[f][_],Z=m[f].indexOf(M);m[f].splice(Z,1),u.push(M)}u===r.hand?F($,r.hand=[...u],r):F(x,s.hand=[...u],s)}function p(u){if(b)return;let h="",_=0;if(t(3,v=!0),u.hand.length>5)return;if(u.dwarfNextTurn?(h="dwarf",u.dwarfNextTurn=!1):(_=Math.floor(Math.random()*L.length),h=L[_]),L.length===0&&h===void 0){console.log("No more cards!"),g();return}if(m[h].length<=1){const Z=L.indexOf(h);L.splice(Z,1)}_=Math.floor(Math.random()*m[h].length);const f=m[h][_];f==="longbeardLeader"&&(u.dwarfNextTurn=!0);const M=m[h].indexOf(f);m[h].splice(M,1),u.title==="Player 1"?F($,r.hand=[...u.hand,f],r):F(x,s.hand=[...u.hand,f],s)}function C(u){if(r.turn){const h=r.hand.indexOf(u);r.hand.splice(h,1),F($,r.hand=[...r.hand],r),F($,r.discards=[...r.discards,u],r)}else{const h=s.hand.indexOf(u);s.hand.splice(h,1),F(x,s.hand=[...s.hand],s),F(x,s.discards=[...s.discards,u],s)}O?g():(ee(),t(3,v=!1))}function Y(u,h){let _=u.detail.title;h.length>5&&C(_)}function q(){b||(O?g():(console.log("Gobbledegook declared!!"),ee(),t(2,O=!0)))}function pe(){r.points>s.points?(F($,r.justWon=!0,r),F($,r.wins+=1,r),F(x,s.losses+=1,s),t(6,V=`Player 1 is the winner with ${r.points} points!🎊🥳🍾`),t(7,A=`Player 2 loses with ${s.points} points...${s.points<=0?"💩💩💩":"💩"}`)):s.points>r.points?(F(x,s.justWon=!0,s),F(x,s.wins+=1,s),F($,r.losses+=1,r),t(6,V=`Player 2 is the winner with ${s.points} points!🎊🥳🍾`),t(7,A=`Player 1 loses with ${r.points} points...${r.points<=0?"💩💩💩":"💩"}`)):r.points===5e5&&s.points===5e5?(F($,r.justWon=!0,r),F(x,s.justWon=!0,s),F(x,s.draws+=1,s),F($,r.draws+=1,r),t(6,V="It seems neither the goblins nor the elves want to go to war with each other while their leaders are on the field..."),t(7,A=" it's a draw!😓😓😓")):(F($,r.justWon=!0,r),F(x,s.justWon=!0,s),F(x,s.draws+=1,s),F($,r.draws+=1,r),t(6,V=`Player 1 had ${r.points} points and player 2 had ${s.points} points...`),t(7,A=" it's a draw!😓"))}function Oe(u,h={elfBonus:0}){let _=0;const f={humanPoints:0,goblinPoints:0,elfPoints:0+h.elfBonus,dwarfPoints:0,botPoints:0,beastPoints:0};return u.forEach(M=>{switch(i[M].race){case"human":f.humanPoints+=i[M].points;break;case"goblin":f.goblinPoints+=i[M].points;break;case"elf":f.elfPoints+=i[M].points;break;case"dwarf":F(vt,i[M].title="hobbit",i)?(f.dwarfPoints+=i[M].points,f.humanPoints+=i[M].points):f.dwarfPoints+=i[M].points;break;case"bot":F(vt,i[M].title=f.elfPoints+=i[M].points,i);break;case"beast":f.beastPoints+=i[M].points;break;default:console.log("Didn't match a race???")}_=Math.max(f.humanPoints,f.goblinPoints,f.elfPoints,f.dwarfPoints,f.botPoints,f.beastPoints)}),_}function Te(u,h){let _=0,f=0,M=0,Z=0,te=0,we=0,gt=0;if(_=Oe(u.hand),u.hand.includes("emperor")&&(f=xe(u)),u.hand.includes("goblinLord")&&(M=Ee(u,h)),u.hand.includes("elfKing")?Z=Ge(u,h):u.hand.includes("nelladan")&&u.hand.includes("nadallen")&&(Z+=10),u.hand.includes("dreamDestroyer")&&(gt=et(u)),u.hand.includes("crusher541A57")&&(we=Pe(u,h)),u.hand.includes("longbeardLeader")&&(te=ce(u)),u.hand.includes("commander")&&!u.hand.includes("emperor")){let zt=0;u.hand.forEach(tt=>{i[tt].title==="commander"&&(zt+=1)}),u.hand.forEach(tt=>{i[tt].race==="human"&&(f+=i[tt].points+zt)})}return _=Math.max(_,f,M,Z,te,we,gt),console.log({player:u.title,highestPoints:_,humanPoints:f,goblinPoints:M,elfPoints:Z,dwarfPoints:te,botPoints:we,beastPoints:gt}),_}function xe(u){let h=0,_=0;return u.hand.forEach(f=>{i[f].title==="commander"&&(_+=1)}),u.hand.forEach(f=>{i[f].race==="human"?h+=(i[f].points+_)*2:h+=i[f].points}),h}function Ee(u,h){const _=u.hand.every(Z=>i[Z].race==="goblin");console.log(`from inside calculateGoblinLord, goblinHand = ${_}`);const f=h.hand.every(Z=>i[Z].race==="elf"),M=h.hand.includes("elfKing");return _&&f&&M?5e5:_?1e6:(console.log("inside calculateGoblinLord(), else statement :("),Oe(u.hand))}function Ge(u,h){let _=0;const f=h.hand.every(te=>i[te].race==="goblin"),M=u.hand.every(te=>i[te].race==="elf"||i[te].title==="faeBot"),Z=u.hand.includes("elfKing");if(f&&M&&Z)return 5e5;if(M&&Z){if(u.hand.forEach(te=>{_+=i[te].points*3}),u.hand.includes("nadallen")&&u.hand.includes("nelladan")){let te=12,we=2*3;_-=te+we,te=9*3,we=7*3,_+=te+we}return _}else return u.hand.includes("nelladan")&&u.hand.includes("nadallen")?Oe(u.hand,{elfBonus:10}):(console.log("inside calculateElfKing(), else statement :("),Oe(u.hand))}function et(u){let h=0;return u.hand.every(f=>i[f].race==="beast")?50:(u.hand.forEach(f=>{i[f].race==="beast"&&(h+=10)}),h)}function Pe(u,h){let _=0;return u.hand.forEach(f=>{i[f].race==="bot"&&(_+=i[f].points+2)}),h.hand.forEach(f=>{i[f].race==="bot"&&(_+=i[f].points+2)}),h.hacked=!0,_}function ce(u){let h=0;return u.hand.forEach(f=>{i[f].race==="dwarf"&&(h+=i[f].points)}),Math.max(m.humans.length,m.goblins.length,m.elves.length,m.dwarves.length,m.bots.length,m.beasts.length)===m.dwarves.length?h+40:0}function ge(u){u.hand.forEach(h=>{i[h].race==="bot"&&(i[h].points>0?u.points-=i[h].points:u.points+=0)})}const J=()=>t(8,S=!1),mt=u=>Y(u,r.hand),ye=u=>Y(u,s.hand),X=()=>{r.turn?p(r):p(s)};return n.$$.update=()=>{n.$$.dirty[0]&3&&console.log({p1:r,p2:s})},[s,r,O,v,y,b,V,A,S,D,i,W,p,Y,q,J,mt,ye,X]}class ar extends Be{constructor(e){super(),Ce(this,e,or,rr,ve,{},null,[-1,-1])}}function lr(n){let e,t,i;return t=new ar({}),{c(){e=N("main"),re(t.$$.fragment),B(e,"class","svelte-jszidx")},m(s,r){H(s,e,r),ne(t,e,null),i=!0},p:K,i(s){i||(E(t.$$.fragment,s),i=!0)},o(s){R(t.$$.fragment,s),i=!1},d(s){s&&U(e),ie(t)}}}class Ln extends Be{constructor(e){super(),Ce(this,e,null,lr,ve,{})}}function cr(n){let e,t,i,s;return e=new on({props:{path:"/home",component:Ln}}),i=new on({props:{path:"/",component:Ln}}),{c(){re(e.$$.fragment),t=G(),re(i.$$.fragment)},m(r,a){ne(e,r,a),H(r,t,a),ne(i,r,a),s=!0},p:K,i(r){s||(E(e.$$.fragment,r),E(i.$$.fragment,r),s=!0)},o(r){R(e.$$.fragment,r),R(i.$$.fragment,r),s=!1},d(r){ie(e,r),r&&U(t),ie(i,r)}}}function ur(n){let e,t;return e=new Vi({props:{$$slots:{default:[cr]},$$scope:{ctx:n}}}),{c(){re(e.$$.fragment)},m(i,s){ne(e,i,s),t=!0},p(i,[s]){const r={};s&1&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){R(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}class fr extends Be{constructor(e){super(),Ce(this,e,null,ur,ve,{})}}new fr({target:document.getElementById("app")});
