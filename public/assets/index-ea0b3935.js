(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function X(){}function qe(n,e){for(const t in e)n[t]=e[t];return n}function ti(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Ln(n){return n()}function Kt(){return Object.create(null)}function Ge(n){n.forEach(Ln)}function jt(n){return typeof n=="function"}function Pe(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let st;function Yt(n,e){return st||(st=document.createElement("a")),st.href=e,n===st.href}function ni(n){return Object.keys(n).length===0}function Nn(n,...e){if(n==null)return X;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function fe(n,e,t){n.$$.on_destroy.push(Nn(e,t))}function je(n,e,t,i){if(n){const s=Dn(n,e,t,i);return n[0](s)}}function Dn(n,e,t,i){return n[1]&&i?qe(t.ctx.slice(),n[1](i(e))):t.ctx}function Ie(n,e,t,i){if(n[2]&&i){const s=n[2](i(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],a=Math.max(e.dirty.length,s.length);for(let c=0;c<a;c+=1)r[c]=e.dirty[c]|s[c];return r}return e.dirty|s}return e.dirty}function Me(n,e,t,i,s,r){if(s){const a=Dn(e,t,i,r);n.p(a,s)}}function Ue(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function Ct(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function Gt(n,e){const t={};e=new Set(e);for(const i in n)!e.has(i)&&i[0]!=="$"&&(t[i]=n[i]);return t}function ne(n,e,t){return n.set(t),e}function m(n,e){n.appendChild(e)}function te(n,e,t){n.insertBefore(e,t||null)}function x(n){n.parentNode&&n.parentNode.removeChild(n)}function dt(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function R(n){return document.createElement(n)}function W(n){return document.createTextNode(n)}function ee(){return W(" ")}function Je(){return W("")}function We(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function O(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const ii=["width","height"];function Jt(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&ii.indexOf(i)===-1?n[i]=e[i]:O(n,i,e[i])}function si(n){return Array.from(n.childNodes)}function me(n,e){e=""+e,n.data!==e&&(n.data=e)}function ri(n,e,{bubbles:t=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(n,t,i,e),s}function Xt(n,e){return new n(e)}let et;function Be(n){et=n}function Xe(){if(!et)throw new Error("Function called outside component initialization");return et}function qn(n){Xe().$$.on_mount.push(n)}function oi(n){Xe().$$.on_destroy.push(n)}function jn(){const n=Xe();return(e,t,{cancelable:i=!1}={})=>{const s=n.$$.callbacks[e];if(s){const r=ri(e,t,{cancelable:i});return s.slice().forEach(a=>{a.call(n,r)}),!r.defaultPrevented}return!0}}function _t(n,e){return Xe().$$.context.set(n,e),e}function Ke(n){return Xe().$$.context.get(n)}function $e(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const Ve=[],Qt=[];let Ye=[];const Zt=[],ai=Promise.resolve();let Ot=!1;function li(){Ot||(Ot=!0,ai.then(It))}function Bt(n){Ye.push(n)}const yt=new Set;let He=0;function It(){if(He!==0)return;const n=et;do{try{for(;He<Ve.length;){const e=Ve[He];He++,Be(e),ci(e.$$)}}catch(e){throw Ve.length=0,He=0,e}for(Be(null),Ve.length=0,He=0;Qt.length;)Qt.pop()();for(let e=0;e<Ye.length;e+=1){const t=Ye[e];yt.has(t)||(yt.add(t),t())}Ye.length=0}while(Ve.length);for(;Zt.length;)Zt.pop()();Ot=!1,yt.clear(),Be(n)}function ci(n){if(n.fragment!==null){n.update(),Ge(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Bt)}}function ui(n){const e=[],t=[];Ye.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Ye=e}const ct=new Set;let De;function ke(){De={r:0,c:[],p:De}}function ve(){De.r||Ge(De.c),De=De.p}function T(n,e){n&&n.i&&(ct.delete(n),n.i(e))}function B(n,e,t,i){if(n&&n.o){if(ct.has(n))return;ct.add(n),De.c.push(()=>{ct.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}function $t(n,e){const t=e.token={};function i(s,r,a,c){if(e.token!==t)return;e.resolved=c;let o=e.ctx;a!==void 0&&(o=o.slice(),o[a]=c);const u=s&&(e.current=s)(o);let p=!1;e.block&&(e.blocks?e.blocks.forEach((y,g)=>{g!==r&&y&&(ke(),B(y,1,1,()=>{e.blocks[g]===y&&(e.blocks[g]=null)}),ve())}):e.block.d(1),u.c(),T(u,1),u.m(e.mount(),e.anchor),p=!0),e.block=u,e.blocks&&(e.blocks[r]=u),p&&It()}if(ti(n)){const s=Xe();if(n.then(r=>{Be(s),i(e.then,1,e.value,r),Be(null)},r=>{if(Be(s),i(e.catch,2,e.error,r),Be(null),!e.hasCatch)throw r}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,n),!0;e.resolved=n}}function fi(n,e,t){const i=e.slice(),{resolved:s}=n;n.current===n.then&&(i[n.value]=s),n.current===n.catch&&(i[n.error]=s),n.block.p(i,t)}function In(n,e){const t={},i={},s={$$scope:1};let r=n.length;for(;r--;){const a=n[r],c=e[r];if(c){for(const o in a)o in c||(i[o]=1);for(const o in c)s[o]||(t[o]=c[o],s[o]=1);n[r]=c}else for(const o in a)s[o]=1}for(const a in i)a in t||(t[a]=void 0);return t}function xt(n){return typeof n=="object"&&n!==null?n:{}}function he(n){n&&n.c()}function le(n,e,t,i){const{fragment:s,after_update:r}=n.$$;s&&s.m(e,t),i||Bt(()=>{const a=n.$$.on_mount.map(Ln).filter(jt);n.$$.on_destroy?n.$$.on_destroy.push(...a):Ge(a),n.$$.on_mount=[]}),r.forEach(Bt)}function ce(n,e){const t=n.$$;t.fragment!==null&&(ui(t.after_update),Ge(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function hi(n,e){n.$$.dirty[0]===-1&&(Ve.push(n),li(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Se(n,e,t,i,s,r,a,c=[-1]){const o=et;Be(n);const u=n.$$={fragment:null,ctx:[],props:r,update:X,not_equal:s,bound:Kt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Kt(),dirty:c,skip_bound:!1,root:e.target||o.$$.root};a&&a(u.root);let p=!1;if(u.ctx=t?t(n,e.props||{},(y,g,...C)=>{const k=C.length?C[0]:g;return u.ctx&&s(u.ctx[y],u.ctx[y]=k)&&(!u.skip_bound&&u.bound[y]&&u.bound[y](k),p&&hi(n,y)),g}):[],u.update(),p=!0,Ge(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const y=si(e.target);u.fragment&&u.fragment.l(y),y.forEach(x)}else u.fragment&&u.fragment.c();e.intro&&T(n.$$.fragment),le(n,e.target,e.anchor,e.customElement),It()}Be(o)}class Le{$destroy(){ce(this,1),this.$destroy=X}$on(e,t){if(!jt(t))return X;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!ni(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pt={},pt={},Mn={},Un=/^:(.+)/,en=4,di=3,pi=2,mi=1,gi=1,tt=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),wt=n=>n.replace(/(^\/+|\/+$)/g,""),bi=(n,e)=>{const t=n.default?0:tt(n.path).reduce((i,s)=>(i+=en,s===""?i+=gi:Un.test(s)?i+=pi:s[0]==="*"?i-=en+mi:i+=di,i),0);return{route:n,score:t,index:e}},_i=n=>n.map(bi).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index),tn=(n,e)=>{let t,i;const[s]=e.split("?"),r=tt(s),a=r[0]==="",c=_i(n);for(let o=0,u=c.length;o<u;o++){const p=c[o].route;let y=!1;if(p.default){i={route:p,params:{},uri:e};continue}const g=tt(p.path),C={},k=Math.max(r.length,g.length);let _=0;for(;_<k;_++){const w=g[_],G=r[_];if(w&&w[0]==="*"){const j=w==="*"?"*":w.slice(1);C[j]=r.slice(_).map(decodeURIComponent).join("/");break}if(typeof G>"u"){y=!0;break}const S=Un.exec(w);if(S&&!a){const j=decodeURIComponent(G);C[S[1]]=j}else if(w!==G){y=!0;break}}if(!y){t={route:p,params:C,uri:"/"+r.slice(0,_).join("/")};break}}return t||i||null},kt=(n,e)=>n+(e?`?${e}`:""),yi=(n,e)=>{if(n.startsWith("/"))return n;const[t,i]=n.split("?"),[s]=e.split("?"),r=tt(t),a=tt(s);if(r[0]==="")return kt(s,i);if(!r[0].startsWith(".")){const u=a.concat(r).join("/");return kt((s==="/"?"":"/")+u,i)}const c=a.concat(r),o=[];return c.forEach(u=>{u===".."?o.pop():u!=="."&&o.push(u)}),kt("/"+o.join("/"),i)},nn=(n,e)=>`${wt(e==="/"?n:`${wt(n)}/${wt(e)}`)}/`,wi=n=>!n.defaultPrevented&&n.button===0&&!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey),Wn=()=>typeof window<"u"&&"document"in window&&"location"in window,ki=n=>({active:n&4}),sn=n=>({active:!!n[2]});function vi(n){let e,t,i,s;const r=n[16].default,a=je(r,n,n[15],sn);let c=[{href:n[0]},{"aria-current":n[2]},n[1],n[6]],o={};for(let u=0;u<c.length;u+=1)o=qe(o,c[u]);return{c(){e=R("a"),a&&a.c(),Jt(e,o)},m(u,p){te(u,e,p),a&&a.m(e,null),t=!0,i||(s=We(e,"click",n[5]),i=!0)},p(u,[p]){a&&a.p&&(!t||p&32772)&&Me(a,r,u,u[15],t?Ie(r,u[15],p,ki):Ue(u[15]),sn),Jt(e,o=In(c,[(!t||p&1)&&{href:u[0]},(!t||p&4)&&{"aria-current":u[2]},p&2&&u[1],p&64&&u[6]]))},i(u){t||(T(a,u),t=!0)},o(u){B(a,u),t=!1},d(u){u&&x(e),a&&a.d(u),i=!1,s()}}}function Ti(n,e,t){let i;const s=["to","replace","state","getProps"];let r=Gt(e,s),a,c,{$$slots:o={},$$scope:u}=e,{to:p="#"}=e,{replace:y=!1}=e,{state:g={}}=e,{getProps:C=()=>({})}=e;const k=Ke(Pt);fe(n,k,A=>t(13,a=A));const{base:_}=Ke(pt);fe(n,_,A=>t(14,c=A));const{navigate:w}=Ke(Mn),G=jn();let S,j,v,I;const E=A=>{if(G("click",A),wi(A)){A.preventDefault();const Q=a.pathname===S||y;w(S,{state:g,replace:Q})}};return n.$$set=A=>{e=qe(qe({},e),Ct(A)),t(6,r=Gt(e,s)),"to"in A&&t(7,p=A.to),"replace"in A&&t(8,y=A.replace),"state"in A&&t(9,g=A.state),"getProps"in A&&t(10,C=A.getProps),"$$scope"in A&&t(15,u=A.$$scope)},n.$$.update=()=>{n.$$.dirty&16512&&t(0,S=p==="/"?c.uri:yi(p,c.uri)),n.$$.dirty&8193&&t(11,j=a.pathname.startsWith(S)),n.$$.dirty&8193&&t(12,v=S===a.pathname),n.$$.dirty&4096&&t(2,i=v?"page":void 0),t(1,I=C({location:a,href:S,isPartiallyCurrent:j,isCurrent:v,existingProps:r}))},[S,I,i,k,_,E,r,p,y,g,C,j,v,a,c,u,o]}class Ei extends Le{constructor(e){super(),Se(this,e,Ti,vi,Pe,{to:7,replace:8,state:9,getProps:10})}}const Ai=n=>({params:n&4}),rn=n=>({params:n[2]});function on(n){let e,t,i,s;const r=[Oi,Ci],a=[];function c(o,u){return o[0]?0:1}return e=c(n),t=a[e]=r[e](n),{c(){t.c(),i=Je()},m(o,u){a[e].m(o,u),te(o,i,u),s=!0},p(o,u){let p=e;e=c(o),e===p?a[e].p(o,u):(ke(),B(a[p],1,1,()=>{a[p]=null}),ve(),t=a[e],t?t.p(o,u):(t=a[e]=r[e](o),t.c()),T(t,1),t.m(i.parentNode,i))},i(o){s||(T(t),s=!0)},o(o){B(t),s=!1},d(o){a[e].d(o),o&&x(i)}}}function Ci(n){let e;const t=n[8].default,i=je(t,n,n[7],rn);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,r){i&&i.p&&(!e||r&132)&&Me(i,t,s,s[7],e?Ie(t,s[7],r,Ai):Ue(s[7]),rn)},i(s){e||(T(i,s),e=!0)},o(s){B(i,s),e=!1},d(s){i&&i.d(s)}}}function Oi(n){let e,t,i,s={ctx:n,current:null,token:null,hasCatch:!1,pending:Ri,then:Pi,catch:Bi,value:12,blocks:[,,,]};return $t(t=n[0],s),{c(){e=Je(),s.block.c()},m(r,a){te(r,e,a),s.block.m(r,s.anchor=a),s.mount=()=>e.parentNode,s.anchor=e,i=!0},p(r,a){n=r,s.ctx=n,a&1&&t!==(t=n[0])&&$t(t,s)||fi(s,n,a)},i(r){i||(T(s.block),i=!0)},o(r){for(let a=0;a<3;a+=1){const c=s.blocks[a];B(c)}i=!1},d(r){r&&x(e),s.block.d(r),s.token=null,s=null}}}function Bi(n){return{c:X,m:X,p:X,i:X,o:X,d:X}}function Pi(n){var c;let e,t,i;const s=[n[2],n[3]];var r=((c=n[12])==null?void 0:c.default)||n[12];function a(o){let u={};for(let p=0;p<s.length;p+=1)u=qe(u,s[p]);return{props:u}}return r&&(e=Xt(r,a())),{c(){e&&he(e.$$.fragment),t=Je()},m(o,u){e&&le(e,o,u),te(o,t,u),i=!0},p(o,u){var y;const p=u&12?In(s,[u&4&&xt(o[2]),u&8&&xt(o[3])]):{};if(u&1&&r!==(r=((y=o[12])==null?void 0:y.default)||o[12])){if(e){ke();const g=e;B(g.$$.fragment,1,0,()=>{ce(g,1)}),ve()}r?(e=Xt(r,a()),he(e.$$.fragment),T(e.$$.fragment,1),le(e,t.parentNode,t)):e=null}else r&&e.$set(p)},i(o){i||(e&&T(e.$$.fragment,o),i=!0)},o(o){e&&B(e.$$.fragment,o),i=!1},d(o){o&&x(t),e&&ce(e,o)}}}function Ri(n){return{c:X,m:X,p:X,i:X,o:X,d:X}}function Si(n){let e,t,i=n[1]&&n[1].route===n[5]&&on(n);return{c(){i&&i.c(),e=Je()},m(s,r){i&&i.m(s,r),te(s,e,r),t=!0},p(s,[r]){s[1]&&s[1].route===s[5]?i?(i.p(s,r),r&2&&T(i,1)):(i=on(s),i.c(),T(i,1),i.m(e.parentNode,e)):i&&(ke(),B(i,1,1,()=>{i=null}),ve())},i(s){t||(T(i),t=!0)},o(s){B(i),t=!1},d(s){i&&i.d(s),s&&x(e)}}}function Li(n,e,t){let i,{$$slots:s={},$$scope:r}=e,{path:a=""}=e,{component:c=null}=e,o={},u={};const{registerRoute:p,unregisterRoute:y,activeRoute:g}=Ke(pt);fe(n,g,k=>t(1,i=k));const C={path:a,default:a===""};return p(C),oi(()=>{y(C)}),n.$$set=k=>{t(11,e=qe(qe({},e),Ct(k))),"path"in k&&t(6,a=k.path),"component"in k&&t(0,c=k.component),"$$scope"in k&&t(7,r=k.$$scope)},n.$$.update=()=>{if(i&&i.route===C){t(2,o=i.params);const{component:k,path:_,...w}=e;t(3,u=w),k&&(k.toString().startsWith("class ")?t(0,c=k):t(0,c=k())),Wn()&&(window==null||window.scrollTo(0,0))}},e=Ct(e),[c,i,o,u,g,C,a,r,s]}class an extends Le{constructor(e){super(),Se(this,e,Li,Si,Pe,{path:6,component:0})}}const Fe=[];function Ni(n,e){return{subscribe:ge(n,e).subscribe}}function ge(n,e=X){let t;const i=new Set;function s(c){if(Pe(n,c)&&(n=c,t)){const o=!Fe.length;for(const u of i)u[1](),Fe.push(u,n);if(o){for(let u=0;u<Fe.length;u+=2)Fe[u][0](Fe[u+1]);Fe.length=0}}}function r(c){s(c(n))}function a(c,o=X){const u=[c,o];return i.add(u),i.size===1&&(t=e(s)||X),c(n),()=>{i.delete(u),i.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:a}}function Di(n,e,t){const i=!Array.isArray(n),s=i?[n]:n,r=e.length<2;return Ni(t,a=>{let c=!1;const o=[];let u=0,p=X;const y=()=>{if(u)return;p();const C=e(i?o[0]:o,a);r?a(C):p=jt(C)?C:X},g=s.map((C,k)=>Nn(C,_=>{o[k]=_,u&=~(1<<k),c&&y()},()=>{u|=1<<k}));return c=!0,y(),function(){Ge(g),p(),c=!1}})}const vt=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),qi=n=>{const e=[];let t=vt(n);return{get location(){return t},listen(i){e.push(i);const s=()=>{t=vt(n),i({location:t,action:"POP"})};return n.addEventListener("popstate",s),()=>{n.removeEventListener("popstate",s);const r=e.indexOf(i);e.splice(r,1)}},navigate(i,{state:s,replace:r=!1}={}){s={...s,key:Date.now()+""};try{r?n.history.replaceState(s,"",i):n.history.pushState(s,"",i)}catch{n.location[r?"replace":"assign"](i)}t=vt(n),e.forEach(a=>a({location:t,action:"PUSH"})),document.activeElement.blur()}}},ji=(n="/")=>{let e=0;const t=[{pathname:n,search:""}],i=[];return{get location(){return t[e]},addEventListener(s,r){},removeEventListener(s,r){},history:{get entries(){return t},get index(){return e},get state(){return i[e]},pushState(s,r,a){const[c,o=""]=a.split("?");e++,t.push({pathname:c,search:o}),i.push(s)},replaceState(s,r,a){const[c,o=""]=a.split("?");t[e]={pathname:c,search:o},i[e]=s}}}},Ii=qi(Wn()?window:ji()),Mi=n=>({route:n&2,location:n&1}),ln=n=>({route:n[1]&&n[1].uri,location:n[0]});function Ui(n){let e;const t=n[12].default,i=je(t,n,n[11],ln);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),e=!0},p(s,[r]){i&&i.p&&(!e||r&2051)&&Me(i,t,s,s[11],e?Ie(t,s[11],r,Mi):Ue(s[11]),ln)},i(s){e||(T(i,s),e=!0)},o(s){B(i,s),e=!1},d(s){i&&i.d(s)}}}function Wi(n,e,t){let i,s,r,a,{$$slots:c={},$$scope:o}=e,{basepath:u="/"}=e,{url:p=null}=e,{history:y=Ii}=e;_t(Mn,y);const g=Ke(Pt),C=Ke(pt),k=ge([]);fe(n,k,E=>t(9,s=E));const _=ge(null);fe(n,_,E=>t(1,a=E));let w=!1;const G=g||ge(p?{pathname:p}:y.location);fe(n,G,E=>t(0,i=E));const S=C?C.routerBase:ge({path:u,uri:u});fe(n,S,E=>t(10,r=E));const j=Di([S,_],([E,A])=>{if(!A)return E;const{path:Q}=E,{route:M,uri:J}=A;return{path:M.default?Q:M.path.replace(/\*.*$/,""),uri:J}}),v=E=>{const{path:A}=r;let{path:Q}=E;if(E._path=Q,E.path=nn(A,Q),typeof window>"u"){if(w)return;const M=tn([E],i.pathname);M&&(_.set(M),w=!0)}else k.update(M=>[...M,E])},I=E=>{k.update(A=>A.filter(Q=>Q!==E))};return g||(qn(()=>y.listen(A=>{G.set(A.location)})),_t(Pt,G)),_t(pt,{activeRoute:_,base:S,routerBase:j,registerRoute:v,unregisterRoute:I}),n.$$set=E=>{"basepath"in E&&t(6,u=E.basepath),"url"in E&&t(7,p=E.url),"history"in E&&t(8,y=E.history),"$$scope"in E&&t(11,o=E.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1024){const{path:E}=r;k.update(A=>A.map(Q=>Object.assign(Q,{path:nn(E,Q._path)})))}if(n.$$.dirty&513){const E=tn(s,i.pathname);_.set(E)}},[i,a,k,_,G,S,u,p,y,s,r,o,c]}class Hi extends Le{constructor(e){super(),Se(this,e,Wi,Ui,Pe,{basepath:6,url:7,history:8})}}const ie=ge({id:void 0,title:"Player 1",points:0,justWon:!1,wins:0,losses:0,draws:0,turn:!1,dwarfNextTurn:!1,hacked:!1,hand:[],discards:[]}),se=ge({id:void 0,title:"Player 2",points:0,justWon:!1,wins:0,losses:0,draws:0,dwarfNextTurn:!1,hacked:!1,turn:!1,hand:[],discards:[]}),Tt=ge({emperor:{title:"emperor",displayTitle:"Emperor",points:10,amount:1,rank:"legendary",trait:"All cards in your hand will count towards your final score, regardless of race.",traitTitle:"No Discrimination",description:"The leader of the human race.",race:"human",image:"/humans/emperor.gif"},commander:{title:"commander",displayTitle:"Commander",points:8,amount:2,rank:"epic",trait:"When the commander is in your hand, all other humans you have will receive +1 point, including commanders. This effect also stacks with the emperor.",traitTitle:"Rally",description:"Powerful warrior second only to the emperor.",race:"human",image:"/humans/commander.png"},assassin:{title:"assassin",displayTitle:"Assassin",points:6,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"A highly skilled professional killer.",race:"human",image:"/humans/assassin.png"},knight:{title:"knight",displayTitle:"Knight",points:4,amount:4,rank:"good",trait:"",traitTitle:"",description:"A middle ranked warrior.",race:"human",image:"/humans/knight.png"},soldier:{title:"soldier",displayTitle:"Soldier",points:3,amount:4,rank:"good",trait:"",traitTitle:"",description:"A low ranked warrior.",race:"human",image:"/humans/soldier.png"},scout:{title:"scout",displayTitle:"Scout",points:2,amount:5,rank:"basic",trait:"",traitTitle:"",description:"The lowest ranked in the human army.",race:"human",image:"/humans/scout.png"},villager:{title:"villager",displayTitle:"Villager",points:1,amount:6,rank:"basic",trait:"",traitTitle:"",description:"An innocent villager.",race:"human",image:"/humans/villager.png"},goblinLord:{title:"goblinLord",displayTitle:"Goblin Lord",points:10,amount:1,rank:"legendary",trait:"If your hand contains only goblins, you receive an insane amount of bonus points. Beware, the elf king can block this trait, resulting in a draw.",traitTitle:"Gobbledegook",description:"The leader of the goblins.",race:"goblin",image:"/goblins/goblin-lord.gif"},giant:{title:"giant",displayTitle:"Giant",points:8,amount:2,rank:"epic",trait:"",traitTitle:"",description:"The strongest weapons of the goblin lord.",race:"goblin",image:"/goblins/giant.png"},troll:{title:"troll",displayTitle:"Troll",points:6,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"Loyal high ranked soldier in the goblin army.",race:"goblin",image:"/goblins/troll.png"},shaman:{title:"shaman",displayTitle:"Shaman",points:5,amount:4,rank:"great",trait:"",traitTitle:"",description:"A magic wielding goblin.",race:"goblin",image:"/goblins/shaman.png"},thief:{title:"thief",displayTitle:"Thief",points:3,amount:4,rank:"good",trait:"",traitTitle:"",description:"A quick, elusive but weak goblin.",race:"goblin",image:"/goblins/thief.png"},hobgoblin:{title:"hobgoblin",displayTitle:"Hobgoblin",points:2,amount:4,rank:"good",trait:"",traitTitle:"",description:"A low ranked goblin.",race:"goblin",image:"/goblins/hobgoblin.png"},bokoblin:{title:"bokoblin",displayTitle:"Bokoblin",points:1,amount:6,rank:"basic",trait:"",traitTitle:"",description:"The weakest of goblins.",race:"goblin",image:"/goblins/bokoblin.png"},elfKing:{title:"elfKing",displayTitle:"Elf King",points:10,amount:1,rank:"legendary",trait:"If your hand contains only elves, they will have their points trippled! The elf king also prevents the enemy from using the goblin lord's special trait.",traitTitle:"Superior Race",description:"The purest, most powerful and respected leader of the elves.",race:"elf",image:"/elves/elf-king.gif"},elfChampion:{title:"elfChampion",displayTitle:"Elf Champion",points:8,amount:2,rank:"epic",trait:"",traitTitle:"",description:"Elf king guard candidate.",race:"elf",image:"/elves/champion.png"},darkElf:{title:"darkElf",displayTitle:"Dark Elf",points:6,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"High ranked powerful elf.",race:"elf",image:"/elves/dark-elf.png"},forestDweller:{title:"forestDweller",displayTitle:"Forest Dweller",points:5,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"An elf in tuned with nature, they're quite strong..",race:"elf",image:"/elves/forest-dweller.png"},nadallen:{title:"nadallen",displayTitle:"Nadallen",points:4,amount:1,rank:"great",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack.",traitTitle:"Twin Power",description:"The stronger half of the rate elvan twins.",race:"elf",image:"/elves/nadallen.png"},nelladan:{title:"nelladan",displayTitle:"Nelladan",points:2,amount:4,rank:"good",trait:"If both Nelladan and Nadallen are in your hand, they both receive +5 bonus points. This effect does not stack.",traitTitle:"Twin Power",description:"A rare elvan twin.",race:"elf",image:"/elves/nelladan.png"},woodElf:{title:"woodElf",displayTitle:"Wood Elf",points:3,amount:4,rank:"good",trait:"",traitTitle:"",description:"An elf who aspires to be a forest dwelling elf.",race:"elf",image:"/elves/wood-elf.png"},wildElf:{title:"wildElf",displayTitle:"Wild Elf",points:2,amount:4,rank:"good",trait:"",traitTitle:"",description:"An elf with no social status.",race:"elf",image:"/elves/wild-elf.png"},bard:{title:"bard",displayTitle:"Bard",points:1,amount:4,rank:"basic",trait:"",traitTitle:"",description:"A weak musician.",race:"elf",image:"/elves/bard.png"},longbeardLeader:{title:"longbeardLeader",displayTitle:"Longbeard Leader",points:10,amount:1,rank:"legendary",trait:"The next card will draw a dwarf. Additionally, if there are more remaining dwarves in the deck at the end, the dwarves receive bonus points.",traitTitle:"Last Man Standing",description:"The bravest and most feared amongst the dwarves.",race:"dwarf",image:"/dwarves/longbeard-leader.gif"},dwarfCommander:{title:"dwarfCommander",displayTitle:"Dwarf Commander",points:8,amount:2,rank:"epic",trait:"",traitTitle:"",description:"Right hand man to the longbeard leader himself.",race:"dwarf",image:"/dwarves/dwarf-commander.png"},alchemist:{title:"alchemist",displayTitle:"Alchemist",points:6,amount:2,rank:"amazing",trait:"",traitTitle:"",description:"A dwarven warrior wielding science as magic.",race:"dwarf",image:"/dwarves/alchemist.png"},dwarfWarrior:{title:"dwarfWarrior",displayTitle:"Dwarf Warrior",points:5,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"A strong and reliable dwarven warrior.",race:"dwarf",image:"/dwarves/warrior.png"},hunter:{title:"hunter",displayTitle:"Hunter",points:4,amount:3,rank:"great",trait:"",traitTitle:"",description:"A strong and capable hunter.",race:"dwarf",image:"/dwarves/hunter.png"},traveller:{title:"traveller",displayTitle:"Traveller",points:3,amount:4,rank:"good",trait:"",traitTitle:"",description:"An adventurous but feeble dwarf.",race:"dwarf",image:"/dwarves/traveller.png"},miner:{title:"miner",displayTitle:"Miner",points:2,amount:3,rank:"good",trait:"",traitTitle:"",description:"An average miner, not great in a fight.",race:"dwarf",image:"/dwarves/miner.png"},blacksmith:{title:"blacksmith",displayTitle:"Blacksmith",points:2,amount:3,rank:"good",trait:"",traitTitle:"",description:"A typical blacksmith, not very strong.",race:"dwarf",image:"/dwarves/blacksmith.png"},bartender:{title:"bartender",displayTitle:"Bartender",points:1,amount:4,rank:"basic",trait:"",traitTitle:"",description:"A popular dwarf at the local pub, a serious drinker even amongst dwarves..",race:"dwarf",image:"/dwarves/bartender.png"},hobbit:{title:"hobbit",displayTitle:"Hobbit",points:1,amount:4,rank:"basic",trait:"",traitTitle:"",description:"Half dwarf, half human. Although rare and different, they're generally accepted by all dwarves.",race:"dwarf",image:"/dwarves/hobbit.png"},crusher541A57:{title:"crusher541A57",displayTitle:"Crusher 541-A-57",points:10,amount:1,rank:"legendary",trait:"ALL bots will receive a +2 bons to their points. Additionally, Crusher will hack all bots and steal their points.",traitTitle:"Binary Manipulator",description:"The most advanced battle and hacking unit known to man.",race:"bot",image:"/bots/crusher-5A1A-57.gif"},ai:{title:"ai",displayTitle:"A.I.",points:8,amount:2,rank:"epic",trait:"",traitTitle:"",description:"The core of the modern bot society.",race:"bot",image:"/bots/ai.png"},faeBot:{title:"faeBot",displayTitle:"Fae Bot",points:6,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"A bot created as a gift to the elves as a peace treaty.",race:"bot",image:"/bots/fae-bot.png"},sawBot3000:{title:"sawBot3000",displayTitle:"Sawbot-3000",points:4,amount:4,rank:"great",trait:"",traitTitle:"",description:"A bot designed to kill, beware.",race:"bot",image:"/bots/saw-bot-3000.png"},infernoBot:{title:"infernoBot",displayTitle:"Inferno Bot",points:3,amount:4,rank:"great",trait:"",traitTitle:"",description:"An angry aggressive bot, known to attack on sight.",race:"bot",image:"/bots/inferno-bot.png"},incubator:{title:"incubator",displayTitle:"Incubator",points:2,amount:5,rank:"good",trait:"",traitTitle:"",description:"A weak mother bot used to raise young infants.",race:"bot",image:"/bots/incubator.png"},virus:{title:"virus",displayTitle:"Virus",points:-2,amount:7,rank:"basic",trait:"",traitTitle:"",description:"A common computer virus.",race:"bot",image:"/bots/virus.png"},dreamDestroyer:{title:"dreamDestroyer",displayTitle:"Dream Destroyer",points:10,amount:1,rank:"legendary",trait:"All of your beasts are worth 10 points.",traitTitle:"Roid Rage",description:"The fiercest creature in the animal kingdom.",race:"beast",image:"/beasts/dream-destroyer.gif"},rhino:{title:"rhino",displayTitle:"Rhinestone",points:7,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"A feared beast at the top of the food chain.",race:"beast",image:"/beasts/rhino.png"},bear:{title:"bear",displayTitle:"Theodore Thunderpaws",points:7,amount:3,rank:"amazing",trait:"",traitTitle:"",description:"A powerful top level beast, matched by few.",race:"beast",image:"/beasts/bear.png"},lion:{title:"lion",displayTitle:"Savannah Goldenmane",points:6,amount:4,rank:"great",trait:"",traitTitle:"",description:"The original kings of the jungle.",race:"beast",image:"/beasts/lion.png"},panther:{title:"panther",displayTitle:"Panthera Nocturna",points:5,amount:4,rank:"great",trait:"",traitTitle:"",description:"A quick and efficient beast, known to stalk it's prey before pouncing.",race:"beast",image:"/beasts/panther.png"},wolf:{title:"wolf",displayTitle:"Alpha Wolfbane",points:4,amount:4,rank:"great",trait:"",traitTitle:"",description:"A lone wolf with the strength of a pack.",race:"beast",image:"/beasts/wolf.png"},fox:{title:"fox",displayTitle:"Finn Foxglove",points:3,amount:4,rank:"good",trait:"",traitTitle:"",description:"A fox on steroids.",race:"beast",image:"/beasts/fox.png"},dog:{title:"dog",displayTitle:"Pawl Barkington",points:2,amount:4,rank:"good",trait:"",traitTitle:"",description:"More bark than bite, recognized as the weakest beast.",race:"beast",image:"/beasts/dog.png"}}),Fi=ge(["dreamDestroyer","rhino","rhino","rhino","bear","bear","bear","lion","lion","lion","panther","panther","panther","wolf","wolf","wolf","fox","fox","fox","dog","dog","dog"]),Vi=ge(["crusher541A57","ai","ai","faeBot","faeBot","faeBot","sawBot3000","sawBot3000","sawBot3000","sawBot3000","infernoBot","infernoBot","infernoBot","infernoBot","incubator","incubator","incubator","incubator","virus","virus","virus","virus","virus","virus"]),zi=ge(["longbeardLeader","dwarfCommander","dwarfCommander","alchemist","alchemist","dwarfWarrior","dwarfWarrior","hunter","hunter","hunter","miner","miner","miner","blacksmith","blacksmith","blacksmith","traveller","traveller","traveller","bartender","bartender","bartender","hobbit","hobbit","hobbit"]),Ki=ge(["elfKing","elfChampion","elfChampion","darkElf","darkElf","forestDweller","forestDweller","forestDweller","nadallen","nelladan","nelladan","nelladan","nelladan","woodElf","woodElf","woodElf","wildElf","wildElf","wildElf","bard","bard","bard"]),Yi=ge(["goblinLord","giant","giant","troll","troll","troll","shaman","shaman","shaman","thief","thief","thief","thief","hobgoblin","hobgoblin","hobgoblin","hobgoblin","bokoblin","bokoblin","bokoblin","bokoblin"]),Gi=ge(["emperor","commander","commander","assassin","assassin","assassin","knight","knight","knight","knight","soldier","soldier","soldier","soldier","scout","scout","scout","scout","villager","villager","villager","villager"]);function Ji(n){let e,t,i,s,r;const a=n[6].default,c=je(a,n,n[11],null);return{c(){e=R("button"),c&&c.c(),O(e,"class",t=n[0]+" "+n[1]+" svelte-1duzco6")},m(o,u){te(o,e,u),c&&c.m(e,null),i=!0,s||(r=We(e,"click",n[10]),s=!0)},p(o,u){c&&c.p&&(!i||u&2048)&&Me(c,a,o,o[11],i?Ie(a,o[11],u,null):Ue(o[11]),null),(!i||u&3&&t!==(t=o[0]+" "+o[1]+" svelte-1duzco6"))&&O(e,"class",t)},i(o){i||(T(c,o),i=!0)},o(o){B(c,o),i=!1},d(o){o&&x(e),c&&c.d(o),s=!1,r()}}}function Xi(n){let e,t,i,s,r;const a=n[6].default,c=je(a,n,n[11],null);return{c(){e=R("button"),c&&c.c(),O(e,"class",t="round "+n[0]+" svelte-1duzco6")},m(o,u){te(o,e,u),c&&c.m(e,null),i=!0,s||(r=We(e,"click",n[9]),s=!0)},p(o,u){c&&c.p&&(!i||u&2048)&&Me(c,a,o,o[11],i?Ie(a,o[11],u,null):Ue(o[11]),null),(!i||u&1&&t!==(t="round "+o[0]+" svelte-1duzco6"))&&O(e,"class",t)},i(o){i||(T(c,o),i=!0)},o(o){B(c,o),i=!1},d(o){o&&x(e),c&&c.d(o),s=!1,r()}}}function Qi(n){let e,t;return e=new Ei({props:{to:n[5],$$slots:{default:[$i]},$$scope:{ctx:n}}}),{c(){he(e.$$.fragment)},m(i,s){le(e,i,s),t=!0},p(i,s){const r={};s&32&&(r.to=i[5]),s&2051&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ce(e,i)}}}function Zi(n){let e,t,i,s,r;const a=n[6].default,c=je(a,n,n[11],null);return{c(){e=R("button"),c&&c.c(),O(e,"type","submit"),O(e,"class",t=n[0]+" "+n[1]+" svelte-1duzco6")},m(o,u){te(o,e,u),c&&c.m(e,null),i=!0,s||(r=We(e,"click",n[7]),s=!0)},p(o,u){c&&c.p&&(!i||u&2048)&&Me(c,a,o,o[11],i?Ie(a,o[11],u,null):Ue(o[11]),null),(!i||u&3&&t!==(t=o[0]+" "+o[1]+" svelte-1duzco6"))&&O(e,"class",t)},i(o){i||(T(c,o),i=!0)},o(o){B(c,o),i=!1},d(o){o&&x(e),c&&c.d(o),s=!1,r()}}}function $i(n){let e,t,i,s,r;const a=n[6].default,c=je(a,n,n[11],null);return{c(){e=R("button"),c&&c.c(),O(e,"class",t=n[0]+" "+n[1]+" svelte-1duzco6")},m(o,u){te(o,e,u),c&&c.m(e,null),i=!0,s||(r=We(e,"click",n[8]),s=!0)},p(o,u){c&&c.p&&(!i||u&2048)&&Me(c,a,o,o[11],i?Ie(a,o[11],u,null):Ue(o[11]),null),(!i||u&3&&t!==(t=o[0]+" "+o[1]+" svelte-1duzco6"))&&O(e,"class",t)},i(o){i||(T(c,o),i=!0)},o(o){B(c,o),i=!1},d(o){o&&x(e),c&&c.d(o),s=!1,r()}}}function xi(n){let e,t,i,s;const r=[Zi,Qi,Xi,Ji],a=[];function c(o,u){return o[3]?0:o[4]?1:o[2]?2:3}return e=c(n),t=a[e]=r[e](n),{c(){t.c(),i=Je()},m(o,u){a[e].m(o,u),te(o,i,u),s=!0},p(o,[u]){let p=e;e=c(o),e===p?a[e].p(o,u):(ke(),B(a[p],1,1,()=>{a[p]=null}),ve(),t=a[e],t?t.p(o,u):(t=a[e]=r[e](o),t.c()),T(t,1),t.m(i.parentNode,i))},i(o){s||(T(t),s=!0)},o(o){B(t),s=!1},d(o){a[e].d(o),o&&x(i)}}}function es(n,e,t){let{$$slots:i={},$$scope:s}=e,{customClasses:r=""}=e,{bgColor:a=""}=e,{round:c=!1}=e,{btnSubmit:o=!1}=e,{btnLink:u=!1}=e,{path:p=""}=e;function y(_){$e.call(this,n,_)}function g(_){$e.call(this,n,_)}function C(_){$e.call(this,n,_)}function k(_){$e.call(this,n,_)}return n.$$set=_=>{"customClasses"in _&&t(0,r=_.customClasses),"bgColor"in _&&t(1,a=_.bgColor),"round"in _&&t(2,c=_.round),"btnSubmit"in _&&t(3,o=_.btnSubmit),"btnLink"in _&&t(4,u=_.btnLink),"path"in _&&t(5,p=_.path),"$$scope"in _&&t(11,s=_.$$scope)},[r,a,c,o,u,p,i,y,g,C,k,s]}class mt extends Le{constructor(e){super(),Se(this,e,es,xi,Pe,{customClasses:0,bgColor:1,round:2,btnSubmit:3,btnLink:4,path:5})}}function ts(n){let e,t,i,s,r,a=un(n[4])+"",c,o,u,p,y,g,C,k,_,w,G,S,j,v,I,E,A,Q,M,J,de,pe,q=n[6]&&cn(n);return{c(){e=R("div"),t=R("img"),s=ee(),r=R("p"),c=W(a),u=ee(),p=R("p"),y=W(n[3]),C=ee(),k=R("p"),_=W(n[1]),G=ee(),S=R("div"),j=R("div"),v=R("p"),I=W(n[5]),E=ee(),q&&q.c(),A=ee(),Q=R("p"),M=W(n[6]),O(t,"class","card-img svelte-llxvv4"),Yt(t.src,i=n[2])||O(t,"src",i),O(t,"alt","img of card"),O(r,"class",o="race "+n[4]+"-race svelte-llxvv4"),O(p,"class",g="points "+n[4]+"-race svelte-llxvv4"),O(k,"class",w="card-title "+n[4]+"-title svelte-llxvv4"),O(v,"class","description svelte-llxvv4"),O(j,"class","bottom-section-wrapper svelte-llxvv4"),O(S,"class","card-bottom-section svelte-llxvv4"),O(e,"class",J="card bg-"+n[4]+" "+(blur?"blur":"")+" "+(n[8]?"slide-in":"")+" svelte-llxvv4")},m(H,F){te(H,e,F),m(e,t),m(e,s),m(e,r),m(r,c),m(e,u),m(e,p),m(p,y),m(e,C),m(e,k),m(k,_),m(e,G),m(e,S),m(S,j),m(j,v),m(v,I),m(j,E),q&&q.m(j,null),m(j,A),m(j,Q),m(Q,M),de||(pe=We(e,"click",n[9]),de=!0)},p(H,F){F&4&&!Yt(t.src,i=H[2])&&O(t,"src",i),F&16&&a!==(a=un(H[4])+"")&&me(c,a),F&16&&o!==(o="race "+H[4]+"-race svelte-llxvv4")&&O(r,"class",o),F&8&&me(y,H[3]),F&16&&g!==(g="points "+H[4]+"-race svelte-llxvv4")&&O(p,"class",g),F&2&&me(_,H[1]),F&16&&w!==(w="card-title "+H[4]+"-title svelte-llxvv4")&&O(k,"class",w),F&32&&me(I,H[5]),H[6]?q?q.p(H,F):(q=cn(H),q.c(),q.m(j,A)):q&&(q.d(1),q=null),F&64&&me(M,H[6]),F&272&&J!==(J="card bg-"+H[4]+" "+(blur?"blur":"")+" "+(H[8]?"slide-in":"")+" svelte-llxvv4")&&O(e,"class",J)},d(H){H&&x(e),q&&q.d(),de=!1,pe()}}}function ns(n){let e,t,i;return{c(){e=R("div"),O(e,"class","card facedown bottom-deck svelte-llxvv4")},m(s,r){te(s,e,r),t||(i=We(e,"click",n[11]),t=!0)},p:X,d(s){s&&x(e),t=!1,i()}}}function cn(n){let e,t;return{c(){e=R("p"),t=W(n[7]),O(e,"class","special-trait svelte-llxvv4")},m(i,s){te(i,e,s),m(e,t)},p(i,s){s&128&&me(t,i[7])},d(i){i&&x(e)}}}function is(n){let e;function t(r,a){return r[0]?ts:ns}let i=t(n),s=i(n);return{c(){s.c(),e=Je()},m(r,a){s.m(r,a),te(r,e,a)},p(r,[a]){i===(i=t(r))&&s?s.p(r,a):(s.d(1),s=i(r),s&&(s.c(),s.m(e.parentNode,e)))},i:X,o:X,d(r){s.d(r),r&&x(e)}}}function un(n){const e=n[0].toUpperCase(),t=n.slice(1);return e+t}function ss(n,e,t){let{faceUp:i=!0}=e,{displayTitle:s="Title here..."}=e,{title:r=""}=e,{img:a="/card-bg.png"}=e,{points:c=0}=e,{race:o="none"}=e,{description:u=""}=e,{trait:p=""}=e,{traitTitle:y=""}=e,{newToHand:g=!1}=e;const C=jn();function k(w){C("cardClick",{title:r,points:c,race:o,trait:p})}function _(w){$e.call(this,n,w)}return n.$$set=w=>{"faceUp"in w&&t(0,i=w.faceUp),"displayTitle"in w&&t(1,s=w.displayTitle),"title"in w&&t(10,r=w.title),"img"in w&&t(2,a=w.img),"points"in w&&t(3,c=w.points),"race"in w&&t(4,o=w.race),"description"in w&&t(5,u=w.description),"trait"in w&&t(6,p=w.trait),"traitTitle"in w&&t(7,y=w.traitTitle),"newToHand"in w&&t(8,g=w.newToHand)},[i,s,a,c,o,u,p,y,g,k,r,_]}class nt extends Le{constructor(e){super(),Se(this,e,ss,is,Pe,{faceUp:0,displayTitle:1,title:10,img:2,points:3,race:4,description:5,trait:6,traitTitle:7,newToHand:8})}}const Ae=Object.create(null);Ae.open="0";Ae.close="1";Ae.ping="2";Ae.pong="3";Ae.message="4";Ae.upgrade="5";Ae.noop="6";const ut=Object.create(null);Object.keys(Ae).forEach(n=>{ut[Ae[n]]=n});const Rt={type:"error",data:"parser error"},Hn=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Fn=typeof ArrayBuffer=="function",Vn=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Mt=({type:n,data:e},t,i)=>Hn&&e instanceof Blob?t?i(e):fn(e,i):Fn&&(e instanceof ArrayBuffer||Vn(e))?t?i(e):fn(new Blob([e]),i):i(Ae[n]+(e||"")),fn=(n,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function hn(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let Et;function rs(n,e){if(Hn&&n.data instanceof Blob)return n.data.arrayBuffer().then(hn).then(e);if(Fn&&(n.data instanceof ArrayBuffer||Vn(n.data)))return e(hn(n.data));Mt(n,!1,t=>{Et||(Et=new TextEncoder),e(Et.encode(t))})}const dn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<dn.length;n++)xe[dn.charCodeAt(n)]=n;const os=n=>{let e=n.length*.75,t=n.length,i,s=0,r,a,c,o;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const u=new ArrayBuffer(e),p=new Uint8Array(u);for(i=0;i<t;i+=4)r=xe[n.charCodeAt(i)],a=xe[n.charCodeAt(i+1)],c=xe[n.charCodeAt(i+2)],o=xe[n.charCodeAt(i+3)],p[s++]=r<<2|a>>4,p[s++]=(a&15)<<4|c>>2,p[s++]=(c&3)<<6|o&63;return u},as=typeof ArrayBuffer=="function",Ut=(n,e)=>{if(typeof n!="string")return{type:"message",data:zn(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:ls(n.substring(1),e)}:ut[t]?n.length>1?{type:ut[t],data:n.substring(1)}:{type:ut[t]}:Rt},ls=(n,e)=>{if(as){const t=os(n);return zn(t,e)}else return{base64:!0,data:n}},zn=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},Kn=String.fromCharCode(30),cs=(n,e)=>{const t=n.length,i=new Array(t);let s=0;n.forEach((r,a)=>{Mt(r,!1,c=>{i[a]=c,++s===t&&e(i.join(Kn))})})},us=(n,e)=>{const t=n.split(Kn),i=[];for(let s=0;s<t.length;s++){const r=Ut(t[s],e);if(i.push(r),r.type==="error")break}return i};function fs(){return new TransformStream({transform(n,e){rs(n,t=>{const i=t.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}let At;function rt(n){return n.reduce((e,t)=>e+t.length,0)}function ot(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)t[s]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function hs(n,e){At||(At=new TextDecoder);const t=[];let i=0,s=-1,r=!1;return new TransformStream({transform(a,c){for(t.push(a);;){if(i===0){if(rt(t)<1)break;const o=ot(t,1);r=(o[0]&128)===128,s=o[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(rt(t)<2)break;const o=ot(t,2);s=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),i=3}else if(i===2){if(rt(t)<8)break;const o=ot(t,8),u=new DataView(o.buffer,o.byteOffset,o.length),p=u.getUint32(0);if(p>Math.pow(2,53-32)-1){c.enqueue(Rt);break}s=p*Math.pow(2,32)+u.getUint32(4),i=3}else{if(rt(t)<s)break;const o=ot(t,s);c.enqueue(Ut(r?o:At.decode(o),e)),i=0}if(s===0||s>n){c.enqueue(Rt);break}}}})}const Yn=4;function re(n){if(n)return ds(n)}function ds(n){for(var e in re.prototype)n[e]=re.prototype[e];return n}re.prototype.on=re.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};re.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};re.prototype.off=re.prototype.removeListener=re.prototype.removeAllListeners=re.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,s=0;s<t.length;s++)if(i=t[s],i===e||i.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+n],this};re.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,s=t.length;i<s;++i)t[i].apply(this,e)}return this};re.prototype.emitReserved=re.prototype.emit;re.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};re.prototype.hasListeners=function(n){return!!this.listeners(n).length};const we=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Gn(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}const ps=we.setTimeout,ms=we.clearTimeout;function gt(n,e){e.useNativeTimers?(n.setTimeoutFn=ps.bind(we),n.clearTimeoutFn=ms.bind(we)):(n.setTimeoutFn=we.setTimeout.bind(we),n.clearTimeoutFn=we.clearTimeout.bind(we))}const gs=1.33;function bs(n){return typeof n=="string"?_s(n):Math.ceil((n.byteLength||n.size)*gs)}function _s(n){let e=0,t=0;for(let i=0,s=n.length;i<s;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function ys(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function ws(n){let e={},t=n.split("&");for(let i=0,s=t.length;i<s;i++){let r=t[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class ks extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class Wt extends re{constructor(e){super(),this.writable=!1,gt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,i){return super.emitReserved("error",new ks(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Ut(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=ys(e);return t.length?"?"+t:""}}const Jn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),St=64,vs={};let pn=0,at=0,mn;function gn(n){let e="";do e=Jn[n%St]+e,n=Math.floor(n/St);while(n>0);return e}function Xn(){const n=gn(+new Date);return n!==mn?(pn=0,mn=n):n+"."+gn(pn++)}for(;at<St;at++)vs[Jn[at]]=at;let Qn=!1;try{Qn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ts=Qn;function Zn(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Ts))return new XMLHttpRequest}catch{}if(!e)try{return new we[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Es(){}const As=function(){return new Zn({xdomain:!1}).responseType!=null}();class Cs extends Wt{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const t=e&&e.forceBase64;this.supportsBinary=As&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};us(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,cs(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Xn()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ee(this.uri(),e)}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}class Ee extends re{constructor(e,t){super(),gt(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;const t=Gn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const i=this.xhr=new Zn(t);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=Ee.requestsCount++,Ee.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Es,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Ee.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Ee.requestsCount=0;Ee.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",bn);else if(typeof addEventListener=="function"){const n="onpagehide"in we?"pagehide":"unload";addEventListener(n,bn,!1)}}function bn(){for(let n in Ee.requests)Ee.requests.hasOwnProperty(n)&&Ee.requests[n].abort()}const Ht=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),lt=we.WebSocket||we.MozWebSocket,_n=!0,Os="arraybuffer",yn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Bs extends Wt{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,i=yn?{}:Gn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=_n&&!yn?t?new lt(e,t):new lt(e):new lt(e,t,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;Mt(i,this.supportsBinary,r=>{const a={};try{_n&&this.ws.send(r)}catch{}s&&Ht(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Xn()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!lt}}class Ps extends Wt{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=hs(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),s=fs();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const r=()=>{i.read().then(({done:c,value:o})=>{c||(this.onPacket(o),r())}).catch(c=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;this.writer.write(i).then(()=>{s&&Ht(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Rs={websocket:Bs,webtransport:Ps,polling:Cs},Ss=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ls=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Lt(n){if(n.length>2e3)throw"URI too long";const e=n,t=n.indexOf("["),i=n.indexOf("]");t!=-1&&i!=-1&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let s=Ss.exec(n||""),r={},a=14;for(;a--;)r[Ls[a]]=s[a]||"";return t!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Ns(r,r.path),r.queryKey=Ds(r,r.query),r}function Ns(n,e){const t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function Ds(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(t[s]=r)}),t}let $n=class ze extends re{constructor(e,t={}){super(),this.binaryType=Os,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=Lt(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Lt(t.host).host),gt(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ws(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Yn,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Rs[e](i)}open(){let e;if(this.opts.rememberUpgrade&&ze.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),i=!1;ze.priorWebsocketSuccess=!1;const s=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",y=>{if(!i)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ze.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(p(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=t.name,this.emitReserved("upgradeError",g)}}))};function r(){i||(i=!0,p(),t.close(),t=null)}const a=y=>{const g=new Error("probe error: "+y);g.transport=t.name,r(),this.emitReserved("upgradeError",g)};function c(){a("transport closed")}function o(){a("socket closed")}function u(y){t&&y.name!==t.name&&r()}const p=()=>{t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",c),this.off("close",o),this.off("upgrading",u)};t.once("open",s),t.once("error",a),t.once("close",c),this.once("close",o),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onOpen(){if(this.readyState="open",ze.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(t+=bs(s)),i>0&&t>this.maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}write(e,t,i){return this.sendPacket("message",e,t,i),this}send(e,t,i){return this.sendPacket("message",e,t,i),this}sendPacket(e,t,i,s){if(typeof t=="function"&&(s=t,t=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:t,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){ze.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let i=0;const s=e.length;for(;i<s;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}};$n.protocol=Yn;function qs(n,e="",t){let i=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),i=Lt(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(t&&t.port===i.port?"":":"+i.port),i}const js=typeof ArrayBuffer=="function",Is=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,xn=Object.prototype.toString,Ms=typeof Blob=="function"||typeof Blob<"u"&&xn.call(Blob)==="[object BlobConstructor]",Us=typeof File=="function"||typeof File<"u"&&xn.call(File)==="[object FileConstructor]";function Ft(n){return js&&(n instanceof ArrayBuffer||Is(n))||Ms&&n instanceof Blob||Us&&n instanceof File}function ft(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(ft(n[t]))return!0;return!1}if(Ft(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return ft(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&ft(n[t]))return!0;return!1}function Ws(n){const e=[],t=n.data,i=n;return i.data=Nt(t,e),i.attachments=e.length,{packet:i,buffers:e}}function Nt(n,e){if(!n)return n;if(Ft(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=Nt(n[i],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=Nt(n[i],e));return t}return n}function Hs(n,e){return n.data=Dt(n.data,e),delete n.attachments,n}function Dt(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Dt(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Dt(n[t],e));return n}const Fs=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Vs=5;var N;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(N||(N={}));class zs{constructor(e){this.replacer=e}encode(e){return(e.type===N.EVENT||e.type===N.ACK)&&ft(e)?this.encodeAsBinary({type:e.type===N.EVENT?N.BINARY_EVENT:N.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===N.BINARY_EVENT||e.type===N.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Ws(e),i=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(i),s}}function wn(n){return Object.prototype.toString.call(n)==="[object Object]"}class Vt extends re{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===N.BINARY_EVENT;i||t.type===N.BINARY_ACK?(t.type=i?N.EVENT:N.ACK,this.reconstructor=new Ks(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Ft(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(N[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===N.BINARY_EVENT||i.type===N.BINARY_ACK){const r=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(t+1)==="/"){const r=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(r,t)}else i.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const r=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}i.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(Vt.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case N.CONNECT:return wn(t);case N.DISCONNECT:return t===void 0;case N.CONNECT_ERROR:return typeof t=="string"||wn(t);case N.EVENT:case N.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Fs.indexOf(t[0])===-1);case N.ACK:case N.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ks{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Hs(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ys=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Vt,Encoder:zs,get PacketType(){return N},protocol:Vs},Symbol.toStringTag,{value:"Module"}));function Te(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Gs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ei extends re{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Te(e,"open",this.onopen.bind(this)),Te(e,"packet",this.onpacket.bind(this)),Te(e,"error",this.onerror.bind(this)),Te(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Gs.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const i={type:N.EVENT,data:t};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const a=this.ids++,c=t.pop();this._registerAckCallback(a,c),i.id=a}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},s);this.acks[e]=(...a)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...a])}}emitWithAck(e,...t){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,r)=>{t.push((a,c)=>i?a?r(a):s(c):s(a)),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:N.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case N.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case N.EVENT:case N.BINARY_EVENT:this.onevent(e);break;case N.ACK:case N.BINARY_ACK:this.onack(e);break;case N.DISCONNECT:this.ondisconnect();break;case N.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...s){i||(i=!0,t.packet({type:N.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:N.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function Qe(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Qe.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};Qe.prototype.reset=function(){this.attempts=0};Qe.prototype.setMin=function(n){this.ms=n};Qe.prototype.setMax=function(n){this.max=n};Qe.prototype.setJitter=function(n){this.jitter=n};class qt extends re{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,gt(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Qe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||Ys;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new $n(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=Te(t,"open",function(){i.onopen(),e&&e()}),r=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},a=Te(t,"error",r);if(this._timeout!==!1){const c=this._timeout,o=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),t.close()},c);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Te(e,"ping",this.onping.bind(this)),Te(e,"data",this.ondata.bind(this)),Te(e,"error",this.onerror.bind(this)),Te(e,"close",this.onclose.bind(this)),Te(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Ht(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new ei(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ze={};function ht(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=qs(n,e.path||"/socket.io"),i=t.source,s=t.id,r=t.path,a=Ze[s]&&r in Ze[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let o;return c?o=new qt(i,e):(Ze[s]||(Ze[s]=new qt(i,e)),o=Ze[s]),t.query&&!e.query&&(e.query=t.queryKey),o.socket(t.path,e)}Object.assign(ht,{Manager:qt,Socket:ei,io:ht,connect:ht});function kn(n,e,t){const i=n.slice();return i[46]=e[t],i}function vn(n,e,t){const i=n.slice();return i[46]=e[t],i}function Tn(n,e,t){const i=n.slice();return i[51]=e[t],i}function En(n,e,t){const i=n.slice();return i[51]=e[t],i}function Js(n){let e,t;return e=new mt({props:{customClasses:"btn__green_disabled w-25",$$slots:{default:[Qs]},$$scope:{ctx:n}}}),{c(){he(e.$$.fragment)},m(i,s){le(e,i,s),t=!0},p(i,s){const r={};s[1]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ce(e,i)}}}function Xs(n){let e,t;return e=new mt({props:{customClasses:"btn__green w-25",$$slots:{default:[Zs]},$$scope:{ctx:n}}}),e.$on("click",n[9]),{c(){he(e.$$.fragment)},m(i,s){le(e,i,s),t=!0},p(i,s){const r={};s[1]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ce(e,i)}}}function Qs(n){let e;return{c(){e=W("Game in progress...")},m(t,i){te(t,e,i)},d(t){t&&x(e)}}}function Zs(n){let e;return{c(){e=W("Start game")},m(t,i){te(t,e,i)},d(t){t&&x(e)}}}function An(n){let e,t,i,s,r,a,c,o,u,p,y,g=n[1].wins+"",C,k,_=n[1].losses+"",w,G,S=n[1].draws+"",j,v,I,E,A=n[0].wins+"",Q,M,J=n[0].losses+"",de,pe,q=n[0].draws+"",H,F,_e,K,be,U,Ce,ye,D,Re,Ne,ue,oe,Z=n[1].discards,d=[];for(let l=0;l<Z.length;l+=1)d[l]=Cn(En(n,Z,l));const P=l=>B(d[l],1,1,()=>{d[l]=null});let $=n[0].discards,V=[];for(let l=0;l<$.length;l+=1)V[l]=On(Tn(n,$,l));const L=l=>B(V[l],1,1,()=>{V[l]=null});return{c(){e=R("div"),t=R("p"),i=W(n[5]),s=ee(),r=R("p"),a=W(n[6]),c=ee(),o=R("br"),u=ee(),p=R("p"),y=W("Player 1 stats: Wins: "),C=W(g),k=W(", Losses: "),w=W(_),G=W(", Draws: "),j=W(S),v=ee(),I=R("p"),E=W("Player 2 stats: Wins: "),Q=W(A),M=W(", Losses: "),de=W(J),pe=W(", Draws: "),H=W(q),F=ee(),_e=R("div"),K=R("div"),be=R("h4"),be.textContent="Player 1 cards discarded:",U=ee(),Ce=R("ul");for(let l=0;l<d.length;l+=1)d[l].c();ye=ee(),D=R("div"),Re=R("h4"),Re.textContent="Player 2 cards discarded:",Ne=ee(),ue=R("ul");for(let l=0;l<V.length;l+=1)V[l].c();O(Ce,"class","discarded-cards svelte-1jjbidh"),O(K,"class","discard-wrapper"),O(ue,"class","discarded-cards svelte-1jjbidh"),O(D,"class","discard-wrapper"),O(_e,"class","lg-discard-wrapper svelte-1jjbidh"),O(e,"class","game-results svelte-1jjbidh")},m(l,f){te(l,e,f),m(e,t),m(t,i),m(e,s),m(e,r),m(r,a),m(e,c),m(e,o),m(e,u),m(e,p),m(p,y),m(p,C),m(p,k),m(p,w),m(p,G),m(p,j),m(e,v),m(e,I),m(I,E),m(I,Q),m(I,M),m(I,de),m(I,pe),m(I,H),m(e,F),m(e,_e),m(_e,K),m(K,be),m(K,U),m(K,Ce);for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(Ce,null);m(_e,ye),m(_e,D),m(D,Re),m(D,Ne),m(D,ue);for(let h=0;h<V.length;h+=1)V[h]&&V[h].m(ue,null);oe=!0},p(l,f){if((!oe||f[0]&32)&&me(i,l[5]),(!oe||f[0]&64)&&me(a,l[6]),(!oe||f[0]&2)&&g!==(g=l[1].wins+"")&&me(C,g),(!oe||f[0]&2)&&_!==(_=l[1].losses+"")&&me(w,_),(!oe||f[0]&2)&&S!==(S=l[1].draws+"")&&me(j,S),(!oe||f[0]&1)&&A!==(A=l[0].wins+"")&&me(Q,A),(!oe||f[0]&1)&&J!==(J=l[0].losses+"")&&me(de,J),(!oe||f[0]&1)&&q!==(q=l[0].draws+"")&&me(H,q),f[0]&258){Z=l[1].discards;let h;for(h=0;h<Z.length;h+=1){const b=En(l,Z,h);d[h]?(d[h].p(b,f),T(d[h],1)):(d[h]=Cn(b),d[h].c(),T(d[h],1),d[h].m(Ce,null))}for(ke(),h=Z.length;h<d.length;h+=1)P(h);ve()}if(f[0]&257){$=l[0].discards;let h;for(h=0;h<$.length;h+=1){const b=Tn(l,$,h);V[h]?(V[h].p(b,f),T(V[h],1)):(V[h]=On(b),V[h].c(),T(V[h],1),V[h].m(ue,null))}for(ke(),h=$.length;h<V.length;h+=1)L(h);ve()}},i(l){if(!oe){for(let f=0;f<Z.length;f+=1)T(d[f]);for(let f=0;f<$.length;f+=1)T(V[f]);oe=!0}},o(l){d=d.filter(Boolean);for(let f=0;f<d.length;f+=1)B(d[f]);V=V.filter(Boolean);for(let f=0;f<V.length;f+=1)B(V[f]);oe=!1},d(l){l&&x(e),dt(d,l),dt(V,l)}}}function Cn(n){let e,t;return e=new nt({props:{displayTitle:n[8][n[51]].displayTitle,title:n[8][n[51]].title,img:n[8][n[51]].image,race:n[8][n[51]].race,points:n[8][n[51]].points}}),{c(){he(e.$$.fragment)},m(i,s){le(e,i,s),t=!0},p(i,s){const r={};s[0]&258&&(r.displayTitle=i[8][i[51]].displayTitle),s[0]&258&&(r.title=i[8][i[51]].title),s[0]&258&&(r.img=i[8][i[51]].image),s[0]&258&&(r.race=i[8][i[51]].race),s[0]&258&&(r.points=i[8][i[51]].points),e.$set(r)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ce(e,i)}}}function On(n){let e,t;return e=new nt({props:{displayTitle:n[8][n[51]].displayTitle,title:n[8][n[51]].title,img:n[8][n[51]].image,race:n[8][n[51]].race,points:n[8][n[51]].points}}),{c(){he(e.$$.fragment)},m(i,s){le(e,i,s),t=!0},p(i,s){const r={};s[0]&257&&(r.displayTitle=i[8][i[51]].displayTitle),s[0]&257&&(r.title=i[8][i[51]].title),s[0]&257&&(r.img=i[8][i[51]].image),s[0]&257&&(r.race=i[8][i[51]].race),s[0]&257&&(r.points=i[8][i[51]].points),e.$set(r)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ce(e,i)}}}function Bn(n){let e,t;return e=new nt({props:{faceUp:n[10]("p1"),displayTitle:n[8][n[46]].displayTitle,title:n[8][n[46]].title,img:n[8][n[46]].image,trait:n[8][n[46]].trait,traitTitle:n[8][n[46]].traitTitle,description:n[8][n[46]].description,race:n[8][n[46]].race,points:n[8][n[46]].points,newToHand:n[1].hand[5]===n[46]}}),e.$on("cardClick",n[14]),{c(){he(e.$$.fragment)},m(i,s){le(e,i,s),t=!0},p(i,s){const r={};s[0]&258&&(r.displayTitle=i[8][i[46]].displayTitle),s[0]&258&&(r.title=i[8][i[46]].title),s[0]&258&&(r.img=i[8][i[46]].image),s[0]&258&&(r.trait=i[8][i[46]].trait),s[0]&258&&(r.traitTitle=i[8][i[46]].traitTitle),s[0]&258&&(r.description=i[8][i[46]].description),s[0]&258&&(r.race=i[8][i[46]].race),s[0]&258&&(r.points=i[8][i[46]].points),s[0]&2&&(r.newToHand=i[1].hand[5]===i[46]),e.$set(r)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ce(e,i)}}}function Pn(n){let e,t;return e=new nt({props:{faceUp:n[10]("p2"),displayTitle:n[8][n[46]].displayTitle,title:n[8][n[46]].title,img:n[8][n[46]].image,trait:n[8][n[46]].trait,traitTitle:n[8][n[46]].traitTitle,description:n[8][n[46]].description,race:n[8][n[46]].race,points:n[8][n[46]].points,newToHand:n[0].hand[5]===n[46]}}),e.$on("cardClick",n[15]),{c(){he(e.$$.fragment)},m(i,s){le(e,i,s),t=!0},p(i,s){const r={};s[0]&257&&(r.displayTitle=i[8][i[46]].displayTitle),s[0]&257&&(r.title=i[8][i[46]].title),s[0]&257&&(r.img=i[8][i[46]].image),s[0]&257&&(r.trait=i[8][i[46]].trait),s[0]&257&&(r.traitTitle=i[8][i[46]].traitTitle),s[0]&257&&(r.description=i[8][i[46]].description),s[0]&257&&(r.race=i[8][i[46]].race),s[0]&257&&(r.points=i[8][i[46]].points),s[0]&1&&(r.newToHand=i[0].hand[5]===i[46]),e.$set(r)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ce(e,i)}}}function $s(n){let e,t;return e=new mt({props:{round:!0,customClasses:"btn__orange",$$slots:{default:[er]},$$scope:{ctx:n}}}),e.$on("click",n[13]),{c(){he(e.$$.fragment)},m(i,s){le(e,i,s),t=!0},p(i,s){const r={};s[1]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ce(e,i)}}}function xs(n){let e,t;return e=new mt({props:{round:!0,customClasses:"btn__orange_disabled",$$slots:{default:[tr]},$$scope:{ctx:n}}}),{c(){he(e.$$.fragment)},m(i,s){le(e,i,s),t=!0},p(i,s){const r={};s[1]&33554432&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ce(e,i)}}}function er(n){let e;return{c(){e=W("Gobbledegook!")},m(t,i){te(t,e,i)},d(t){t&&x(e)}}}function tr(n){let e;return{c(){e=W("Gobbledegook!")},m(t,i){te(t,e,i)},d(t){t&&x(e)}}}function Rn(n){let e,t=n[1].turn?"Player 1":"Player 2",i,s;return{c(){e=R("p"),i=W(t),s=R("span"),s.textContent="'s turn",O(s,"class","svelte-1jjbidh"),O(e,"class","turn-text svelte-1jjbidh")},m(r,a){te(r,e,a),m(e,i),m(e,s)},p(r,a){a[0]&2&&t!==(t=r[1].turn?"Player 1":"Player 2")&&me(i,t)},d(r){r&&x(e)}}}function nr(n){let e,t,i,s,r,a,c,o,u,p,y,g,C,k,_,w,G,S,j,v,I,E,A,Q,M,J,de,pe,q;const H=[Xs,Js],F=[];function _e(d,P){return d[4]?1:0}t=_e(n),i=F[t]=H[t](n);let K=n[5]&&An(n),be=n[1].hand,U=[];for(let d=0;d<be.length;d+=1)U[d]=Bn(vn(n,be,d));const Ce=d=>B(U[d],1,1,()=>{U[d]=null});let ye=n[0].hand,D=[];for(let d=0;d<ye.length;d+=1)D[d]=Pn(kn(n,ye,d));const Re=d=>B(D[d],1,1,()=>{D[d]=null});A=new nt({props:{faceUp:!1}}),A.$on("click",n[11]);const Ne=[xs,$s],ue=[];function oe(d,P){return d[3]||d[7]<3?0:1}M=oe(n),J=ue[M]=Ne[M](n);let Z=n[4]&&Rn(n);return{c(){e=R("main"),i.c(),s=ee(),r=R("div"),K&&K.c(),a=ee(),c=R("div"),o=R("div"),u=R("p"),p=W("Player 1"),g=ee();for(let d=0;d<U.length;d+=1)U[d].c();k=ee(),_=R("div"),w=R("p"),G=W("Player 2"),j=ee();for(let d=0;d<D.length;d+=1)D[d].c();I=ee(),E=R("div"),he(A.$$.fragment),Q=ee(),J.c(),de=ee(),Z&&Z.c(),O(u,"class",y="p1-name "+(n[1].turn?"turn-active":"")+" svelte-1jjbidh"),O(o,"class",C="card-section card-section__ally "+(n[1].turn||n[1].justWon?"section-active":"")+" svelte-1jjbidh"),O(w,"class",S="p2-name "+(n[0].turn?"turn-active":"")+" svelte-1jjbidh"),O(_,"class",v="card-section card-section__enemy "+(n[0].turn||n[0].justWon?"section-active":"")+" svelte-1jjbidh"),O(E,"class","game-buttons svelte-1jjbidh"),O(c,"class",pe="game-board "+(n[2]?"gobble-declared":"")+" svelte-1jjbidh"),O(r,"class","game-end-wrapper svelte-1jjbidh")},m(d,P){te(d,e,P),F[t].m(e,null),m(e,s),m(e,r),K&&K.m(r,null),m(r,a),m(r,c),m(c,o),m(o,u),m(u,p),m(o,g);for(let $=0;$<U.length;$+=1)U[$]&&U[$].m(o,null);m(c,k),m(c,_),m(_,w),m(w,G),m(_,j);for(let $=0;$<D.length;$+=1)D[$]&&D[$].m(_,null);m(c,I),m(c,E),le(A,E,null),m(E,Q),ue[M].m(E,null),m(c,de),Z&&Z.m(c,null),q=!0},p(d,P){let $=t;if(t=_e(d),t===$?F[t].p(d,P):(ke(),B(F[$],1,1,()=>{F[$]=null}),ve(),i=F[t],i?i.p(d,P):(i=F[t]=H[t](d),i.c()),T(i,1),i.m(e,s)),d[5]?K?(K.p(d,P),P[0]&32&&T(K,1)):(K=An(d),K.c(),T(K,1),K.m(r,a)):K&&(ke(),B(K,1,1,()=>{K=null}),ve()),(!q||P[0]&2&&y!==(y="p1-name "+(d[1].turn?"turn-active":"")+" svelte-1jjbidh"))&&O(u,"class",y),P[0]&5378){be=d[1].hand;let L;for(L=0;L<be.length;L+=1){const l=vn(d,be,L);U[L]?(U[L].p(l,P),T(U[L],1)):(U[L]=Bn(l),U[L].c(),T(U[L],1),U[L].m(o,null))}for(ke(),L=be.length;L<U.length;L+=1)Ce(L);ve()}if((!q||P[0]&2&&C!==(C="card-section card-section__ally "+(d[1].turn||d[1].justWon?"section-active":"")+" svelte-1jjbidh"))&&O(o,"class",C),(!q||P[0]&1&&S!==(S="p2-name "+(d[0].turn?"turn-active":"")+" svelte-1jjbidh"))&&O(w,"class",S),P[0]&5377){ye=d[0].hand;let L;for(L=0;L<ye.length;L+=1){const l=kn(d,ye,L);D[L]?(D[L].p(l,P),T(D[L],1)):(D[L]=Pn(l),D[L].c(),T(D[L],1),D[L].m(_,null))}for(ke(),L=ye.length;L<D.length;L+=1)Re(L);ve()}(!q||P[0]&1&&v!==(v="card-section card-section__enemy "+(d[0].turn||d[0].justWon?"section-active":"")+" svelte-1jjbidh"))&&O(_,"class",v);let V=M;M=oe(d),M===V?ue[M].p(d,P):(ke(),B(ue[V],1,1,()=>{ue[V]=null}),ve(),J=ue[M],J?J.p(d,P):(J=ue[M]=Ne[M](d),J.c()),T(J,1),J.m(E,null)),d[4]?Z?Z.p(d,P):(Z=Rn(d),Z.c(),Z.m(c,null)):Z&&(Z.d(1),Z=null),(!q||P[0]&4&&pe!==(pe="game-board "+(d[2]?"gobble-declared":"")+" svelte-1jjbidh"))&&O(c,"class",pe)},i(d){if(!q){T(i),T(K);for(let P=0;P<be.length;P+=1)T(U[P]);for(let P=0;P<ye.length;P+=1)T(D[P]);T(A.$$.fragment,d),T(J),q=!0}},o(d){B(i),B(K),U=U.filter(Boolean);for(let P=0;P<U.length;P+=1)B(U[P]);D=D.filter(Boolean);for(let P=0;P<D.length;P+=1)B(D[P]);B(A.$$.fragment,d),B(J),q=!1},d(d){d&&x(e),F[t].d(),K&&K.d(),dt(U,d),dt(D,d),ce(A),ue[M].d(),Z&&Z.d()}}}function ir(n,e,t){let i,s,r,a,c,o,u,p,y;fe(n,Tt,l=>t(8,i=l)),fe(n,se,l=>t(0,s=l)),fe(n,ie,l=>t(1,r=l)),fe(n,Fi,l=>t(19,a=l)),fe(n,Vi,l=>t(20,c=l)),fe(n,zi,l=>t(21,o=l)),fe(n,Ki,l=>t(22,u=l)),fe(n,Yi,l=>t(23,p=l)),fe(n,Gi,l=>t(24,y=l));let g=ht("http://192.168.2.10:6912"),C=!1,k=!1,_=!1,w=!0,G="",S="",j=0,v={humans:[...y],goblins:[...p],elves:[...u],dwarves:[...o],bots:[...c],beasts:[...a]},I=Object.keys(v);qn(()=>{g.on("connect",()=>console.log(`User ID: ${g.id} connected!`)),g.on("connect_error",l=>console.error("Connection error:",l)),g.on("set-users",l=>{Object.entries(l).forEach(([f,h])=>{ie.update(b=>(b.id=l.p1,b)),se.update(b=>(b.id=l.p2,b))})}),g.on("game-started",l=>{A(),ie.update(f=>(f.hand=l.player1.hand,f.turn=l.player1.turn,f)),se.update(f=>(f.hand=l.player2.hand,f.turn=l.player2.turn,f)),v={...l.fullDeck}}),g.on("turn-changed",l=>{t(7,j+=.5),ie.update(f=>(f.turn=!l.player1.turn,f)),se.update(f=>(f.turn=!l.player2.turn,f))}),g.on("card-drawn",l=>{v={...l.fullDeck},I=l.deckTypes,ie.set(l.player1),se.set(l.player2)}),g.on("card-discarded",l=>{ie.set(l.player1),se.set(l.player2)}),g.on("gdg-declared",()=>t(2,C=!0)),g.on("game-ended",()=>E()),g.emit("client-ready")});function E(){w=!0,t(4,_=!1),t(3,k=!0),ie.update(l=>(l.turn=!1,l.points=Re(r,s),l)),se.update(l=>(l.turn=!1,l.points=Re(s,r),l)),r.hacked&&$(r),s.hacked&&$(s),ye(),J(),J(!0)}function A(){ie.update(l=>(l.points=0,l.discards=[],l.hacked=!1,l.justWon=!1,l)),se.update(l=>(l.points=0,l.discards=[],l.hacked=!1,l.justWon=!1,l)),v.humans=[...y],v.goblins=[...p],v.elves=[...u],v.dwarves=[...o],v.bots=[...c],v.beasts=[...a],t(7,j=0),w=!1,t(4,_=!0),t(2,C=!1),t(3,k=!1),t(5,G="")}function Q(){A(),F(r.hand),F(s.hand),M(),g.emit("start-game",{player1:r,player2:s,fullDeck:v})}function M(){Math.ceil(Math.random()*2)===1?(ne(ie,r.turn=!0,r),ne(se,s.turn=!1,s)):(ne(ie,r.turn=!1,r),ne(se,s.turn=!0,s))}function J(l=!1){const f=v.humans.length||0,h=v.goblins.length||0,b=v.elves.length||0,z=v.dwarves.length||0,Y=v.bots.length||0,ae=v.beasts.length||0;if(l)console.log(`Cards remaining per deck:

      Humans: ${f}

      Goblins: ${h}

      Elves: ${b}

      Dwarves: ${z}
)
      Bots: ${Y}
)
      Beasts: ${ae}
`);else{const Oe=f+h+b+z+Y+ae;console.log(`Cards remaining in deck: ${Oe}`)}}function de(){return!!(r.id===g.id&&r.turn||s.id===g.id&&s.turn)}function pe(){return r.id===g.id?"p1":s.id===g.id?"p2":"guest"}function q(l){return!!(w||pe()==="guest"||pe()==="p1"&&l==="p1"||pe()==="p2"&&l==="p2")}function H(){g.emit("change-turns",{player1:r,player2:s})}function F(l){for(let f=1;f<=5;f++){let h=Math.floor(Math.random()*I.length),b=I[h];h=Math.floor(Math.random()*v[b].length);const z=v[b][h],Y=v[b].indexOf(z);v[b].splice(Y,1),l.push(z)}r.hand===l?ie.update(f=>(f.hand=l,f)):se.update(f=>(f.hand=l,f))}function _e(l){if(w)return;let f="",h=0;if(t(3,k=!0),l.hand.length>5)return;if(l.dwarfNextTurn?(f="dwarf",l.dwarfNextTurn=!1):(h=Math.floor(Math.random()*I.length),f=I[h]),I.length===0&&f===void 0){console.log("No more cards!"),E();return}if(v[f].length<=1){const Y=I.indexOf(f);I.splice(Y,1)}h=Math.floor(Math.random()*v[f].length);const b=v[f][h];b==="longbeardLeader"&&(l.dwarfNextTurn=!0);const z=v[f].indexOf(b);v[f].splice(z,1),l.title==="Player 1"?ie.update(Y=>(Y.hand=[...Y.hand,b],Y)):se.update(Y=>(Y.hand=[...Y.hand,b],Y)),g.emit("draw-card",{player1:r,player2:s,deckTypes:I,fullDeck:v})}function K(){w||pe()!=="guest"&&(de()&&r.turn&&_e(r),de()&&s.turn&&_e(s))}function be(l){if(r.turn){const f=r.hand.indexOf(l);ie.update(h=>(h.hand.splice(f,1),h.discards=[...h.discards,l],h))}else{const f=s.hand.indexOf(l);se.update(h=>(h.hand.splice(f,1),h.discards=[...h.discards,l],h))}g.emit("discard-card",{player1:r,player2:s}),C?g.emit("end-game"):(H(),t(3,k=!1))}function U(l,f){let h=l.detail.title;f.length>5&&be(h)}function Ce(){de()&&(w||(C?g.emit("end-game"):(console.log("Gobbledegook declared!!"),H(),t(2,C=!0),g.emit("gdg-declared"))))}function ye(){r.points>s.points?(ne(ie,r.justWon=!0,r),ne(ie,r.wins+=1,r),ne(se,s.losses+=1,s),t(5,G=`Player 1 is the winner with ${r.points} points!🎊🥳🍾`),t(6,S=`Player 2 loses with ${s.points} points...${s.points<=0?"💩💩💩":"💩"}`)):s.points>r.points?(ne(se,s.justWon=!0,s),ne(se,s.wins+=1,s),ne(ie,r.losses+=1,r),t(5,G=`Player 2 is the winner with ${s.points} points!🎊🥳🍾`),t(6,S=`Player 1 loses with ${r.points} points...${r.points<=0?"💩💩💩":"💩"}`)):r.points===5e5&&s.points===5e5?(ne(ie,r.justWon=!0,r),ne(se,s.justWon=!0,s),ne(se,s.draws+=1,s),ne(ie,r.draws+=1,r),t(5,G="It seems neither the goblins nor the elves want to go to war with each other while their leaders are on the field..."),t(6,S=" it's a draw!😓😓😓")):(ne(ie,r.justWon=!0,r),ne(se,s.justWon=!0,s),ne(se,s.draws+=1,s),ne(ie,r.draws+=1,r),t(5,G=`Player 1 had ${r.points} points and player 2 had ${s.points} points...`),t(6,S=" it's a draw!😓"))}function D(l,f={elfBonus:0}){let h=0;const b={humanPoints:0,goblinPoints:0,elfPoints:0+f.elfBonus,dwarfPoints:0,botPoints:0,beastPoints:0};return l.forEach(z=>{switch(i[z].race){case"human":b.humanPoints+=i[z].points;break;case"goblin":b.goblinPoints+=i[z].points;break;case"elf":b.elfPoints+=i[z].points;break;case"dwarf":ne(Tt,i[z].title="hobbit",i)?(b.dwarfPoints+=i[z].points,b.humanPoints+=i[z].points):b.dwarfPoints+=i[z].points;break;case"bot":ne(Tt,i[z].title=b.elfPoints+=i[z].points,i);break;case"beast":b.beastPoints+=i[z].points;break;default:console.log("Didn't match a race???")}h=Math.max(b.humanPoints,b.goblinPoints,b.elfPoints,b.dwarfPoints,b.botPoints,b.beastPoints)}),h}function Re(l,f){let h=0,b=0,z=0,Y=0,ae=0,Oe=0,bt=0;if(h=D(l.hand),l.hand.includes("emperor")&&(b=Ne(l)),l.hand.includes("goblinLord")&&(z=ue(l,f)),l.hand.includes("elfKing")?Y=oe(l,f):l.hand.includes("nelladan")&&l.hand.includes("nadallen")&&(Y+=10),l.hand.includes("dreamDestroyer")&&(bt=Z(l)),l.hand.includes("crusher541A57")&&(Oe=d(l,f)),l.hand.includes("longbeardLeader")&&(ae=P(l)),l.hand.includes("commander")&&!l.hand.includes("emperor")){let zt=0;l.hand.forEach(it=>{i[it].title==="commander"&&(zt+=1)}),l.hand.forEach(it=>{i[it].race==="human"&&(b+=i[it].points+zt)})}return h=Math.max(h,b,z,Y,ae,Oe,bt),console.log({player:l.title,highestPoints:h,humanPoints:b,goblinPoints:z,elfPoints:Y,dwarfPoints:ae,botPoints:Oe,beastPoints:bt}),h}function Ne(l){let f=0,h=0;return l.hand.forEach(b=>{i[b].title==="commander"&&(h+=1)}),l.hand.forEach(b=>{i[b].race==="human"?f+=(i[b].points+h)*2:f+=i[b].points}),f}function ue(l,f){const h=l.hand.every(Y=>i[Y].race==="goblin");console.log(`from inside calculateGoblinLord, goblinHand = ${h}`);const b=f.hand.every(Y=>i[Y].race==="elf"),z=f.hand.includes("elfKing");return h&&b&&z?5e5:h?1e6:(console.log("inside calculateGoblinLord(), else statement :("),D(l.hand))}function oe(l,f){let h=0;const b=f.hand.every(ae=>i[ae].race==="goblin"),z=l.hand.every(ae=>i[ae].race==="elf"||i[ae].title==="faeBot"),Y=l.hand.includes("elfKing");if(b&&z&&Y)return 5e5;if(z&&Y){if(l.hand.forEach(ae=>{h+=i[ae].points*3}),l.hand.includes("nadallen")&&l.hand.includes("nelladan")){let ae=12,Oe=2*3;h-=ae+Oe,ae=9*3,Oe=7*3,h+=ae+Oe}return h}else return l.hand.includes("nelladan")&&l.hand.includes("nadallen")?D(l.hand,{elfBonus:10}):(console.log("inside calculateElfKing(), else statement :("),D(l.hand))}function Z(l){let f=0;return l.hand.every(b=>i[b].race==="beast")?50:(l.hand.forEach(b=>{i[b].race==="beast"&&(f+=10)}),f)}function d(l,f){let h=0;return l.hand.forEach(b=>{i[b].race==="bot"&&(h+=i[b].points+2)}),f.hand.forEach(b=>{i[b].race==="bot"&&(h+=i[b].points+2)}),f.hacked=!0,h}function P(l){let f=0;return l.hand.forEach(b=>{i[b].race==="dwarf"&&(f+=i[b].points)}),Math.max(v.humans.length,v.goblins.length,v.elves.length,v.dwarves.length,v.bots.length,v.beasts.length)===v.dwarves.length?f+40:0}function $(l){l.hand.forEach(f=>{i[f].race==="bot"&&(i[f].points>0?l.points-=i[f].points:l.points+=0)})}const V=l=>U(l,r.hand),L=l=>U(l,s.hand);return n.$$.update=()=>{n.$$.dirty[0]&3&&console.log({p1:r,p2:s})},[s,r,C,k,_,G,S,j,i,Q,q,K,U,Ce,V,L]}class sr extends Le{constructor(e){super(),Se(this,e,ir,nr,Pe,{},null,[-1,-1])}}function rr(n){let e,t,i;return t=new sr({}),{c(){e=R("main"),he(t.$$.fragment),O(e,"class","svelte-jszidx")},m(s,r){te(s,e,r),le(t,e,null),i=!0},p:X,i(s){i||(T(t.$$.fragment,s),i=!0)},o(s){B(t.$$.fragment,s),i=!1},d(s){s&&x(e),ce(t)}}}class Sn extends Le{constructor(e){super(),Se(this,e,null,rr,Pe,{})}}function or(n){let e,t,i,s;return e=new an({props:{path:"/home",component:Sn}}),i=new an({props:{path:"/",component:Sn}}),{c(){he(e.$$.fragment),t=ee(),he(i.$$.fragment)},m(r,a){le(e,r,a),te(r,t,a),le(i,r,a),s=!0},p:X,i(r){s||(T(e.$$.fragment,r),T(i.$$.fragment,r),s=!0)},o(r){B(e.$$.fragment,r),B(i.$$.fragment,r),s=!1},d(r){ce(e,r),r&&x(t),ce(i,r)}}}function ar(n){let e,t;return e=new Hi({props:{$$slots:{default:[or]},$$scope:{ctx:n}}}),{c(){he(e.$$.fragment)},m(i,s){le(e,i,s),t=!0},p(i,[s]){const r={};s&1&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){ce(e,i)}}}class lr extends Le{constructor(e){super(),Se(this,e,null,ar,Pe,{})}}new lr({target:document.getElementById("app")});
